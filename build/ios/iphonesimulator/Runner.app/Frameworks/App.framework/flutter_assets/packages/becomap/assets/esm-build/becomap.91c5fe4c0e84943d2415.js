'use strict';(this['webpackChunkbecomap']=this['webpackChunkbecomap']||[])['push']([[0x282],{0x24dd:(_0x1cc88f,_0x28329a,_0x35b55b)=>{_0x35b55b['d'](_0x28329a,{'JeP':()=>_0x1e3fcc,'vxI':()=>_0x12e0a1});var _0x46094d=_0x35b55b(0x133a);function _0x1073b9(){let _0x571e04=null,_0x13877b=!0x1,_0x3fbbff=null,_0x54d0dd=null;function _0x4ccc7c(_0x37993d,_0x1ab347){_0x3fbbff(_0x37993d,_0x1ab347),_0x54d0dd=_0x571e04['requestAnimationFrame'](_0x4ccc7c);}return{'start':function(){!0x0!==_0x13877b&&null!==_0x3fbbff&&(_0x54d0dd=_0x571e04['requestAnimationFrame'](_0x4ccc7c),_0x13877b=!0x0);},'stop':function(){_0x571e04['cancelAnimationFrame'](_0x54d0dd),_0x13877b=!0x1;},'setAnimationLoop':function(_0x23eead){_0x3fbbff=_0x23eead;},'setContext':function(_0xa2ca2){_0x571e04=_0xa2ca2;}};}function _0x58a176(_0x3b701e){const _0x3424eb=new WeakMap();return{'get':function(_0x75af7e){return _0x75af7e['isInterleavedBufferAttribute']&&(_0x75af7e=_0x75af7e['data']),_0x3424eb['get'](_0x75af7e);},'remove':function(_0x3631a0){_0x3631a0['isInterleavedBufferAttribute']&&(_0x3631a0=_0x3631a0['data']);const _0x33a370=_0x3424eb['get'](_0x3631a0);_0x33a370&&(_0x3b701e['deleteBuffer'](_0x33a370['buffer']),_0x3424eb['delete'](_0x3631a0));},'update':function(_0x1bb956,_0xb91b2){if(_0x1bb956['isInterleavedBufferAttribute']&&(_0x1bb956=_0x1bb956['data']),_0x1bb956['isGLBufferAttribute']){const _0x1cb70a=_0x3424eb['get'](_0x1bb956);return void((!_0x1cb70a||_0x1cb70a['version']<_0x1bb956['version'])&&_0x3424eb['set'](_0x1bb956,{'buffer':_0x1bb956['buffer'],'type':_0x1bb956['type'],'bytesPerElement':_0x1bb956['elementSize'],'version':_0x1bb956['version']}));}const _0x5d6468=_0x3424eb['get'](_0x1bb956);if(void 0x0===_0x5d6468)_0x3424eb['set'](_0x1bb956,function(_0x5a433b,_0x3e915b){const _0xd2d02e=_0x5a433b['array'],_0x5a3437=_0x5a433b['usage'],_0x17034d=_0xd2d02e['byteLength'],_0x46b088=_0x3b701e['createBuffer']();let _0x3c2875;if(_0x3b701e['bindBuffer'](_0x3e915b,_0x46b088),_0x3b701e['bufferData'](_0x3e915b,_0xd2d02e,_0x5a3437),_0x5a433b['onUploadCallback'](),_0xd2d02e instanceof Float32Array)_0x3c2875=_0x3b701e['FLOAT'];else{if(_0xd2d02e instanceof Uint16Array)_0x3c2875=_0x5a433b['isFloat16BufferAttribute']?_0x3b701e['HALF_FLOAT']:_0x3b701e['UNSIGNED_SHORT'];else{if(_0xd2d02e instanceof Int16Array)_0x3c2875=_0x3b701e['SHORT'];else{if(_0xd2d02e instanceof Uint32Array)_0x3c2875=_0x3b701e['UNSIGNED_INT'];else{if(_0xd2d02e instanceof Int32Array)_0x3c2875=_0x3b701e['INT'];else{if(_0xd2d02e instanceof Int8Array)_0x3c2875=_0x3b701e['BYTE'];else{if(_0xd2d02e instanceof Uint8Array)_0x3c2875=_0x3b701e['UNSIGNED_BYTE'];else{if(!(_0xd2d02e instanceof Uint8ClampedArray))throw new Error('THREE.WebGLAttributes:\x20Unsupported\x20buffer\x20data\x20format:\x20'+_0xd2d02e);_0x3c2875=_0x3b701e['UNSIGNED_BYTE'];}}}}}}}return{'buffer':_0x46b088,'type':_0x3c2875,'bytesPerElement':_0xd2d02e['BYTES_PER_ELEMENT'],'version':_0x5a433b['version'],'size':_0x17034d};}(_0x1bb956,_0xb91b2));else{if(_0x5d6468['version']<_0x1bb956['version']){if(_0x5d6468['size']!==_0x1bb956['array']['byteLength'])throw new Error('THREE.WebGLAttributes:\x20The\x20size\x20of\x20the\x20buffer\x20attribute\x27s\x20array\x20buffer\x20does\x20not\x20match\x20the\x20original\x20size.\x20Resizing\x20buffer\x20attributes\x20is\x20not\x20supported.');!function(_0xff5bda,_0x2ea1b1,_0x43ab1d){const _0x507df9=_0x2ea1b1['array'],_0x1ca56f=_0x2ea1b1['updateRanges'];if(_0x3b701e['bindBuffer'](_0x43ab1d,_0xff5bda),0x0===_0x1ca56f['length'])_0x3b701e['bufferSubData'](_0x43ab1d,0x0,_0x507df9);else{_0x1ca56f['sort']((_0x38c592,_0x338203)=>_0x38c592['start']-_0x338203['start']);let _0x1b88de=0x0;for(let _0x22d079=0x1;_0x22d079<_0x1ca56f['length'];_0x22d079++){const _0x3211e2=_0x1ca56f[_0x1b88de],_0x24ce54=_0x1ca56f[_0x22d079];_0x24ce54['start']<=_0x3211e2['start']+_0x3211e2['count']+0x1?_0x3211e2['count']=Math['max'](_0x3211e2['count'],_0x24ce54['start']+_0x24ce54['count']-_0x3211e2['start']):(++_0x1b88de,_0x1ca56f[_0x1b88de]=_0x24ce54);}_0x1ca56f['length']=_0x1b88de+0x1;for(let _0xcf1904=0x0,_0x3ab3ea=_0x1ca56f['length'];_0xcf1904<_0x3ab3ea;_0xcf1904++){const _0x31ecbf=_0x1ca56f[_0xcf1904];_0x3b701e['bufferSubData'](_0x43ab1d,_0x31ecbf['start']*_0x507df9['BYTES_PER_ELEMENT'],_0x507df9,_0x31ecbf['start'],_0x31ecbf['count']);}_0x2ea1b1['clearUpdateRanges']();}_0x2ea1b1['onUploadCallback']();}(_0x5d6468['buffer'],_0x1bb956,_0xb91b2),_0x5d6468['version']=_0x1bb956['version'];}}}};}const _0x12e0a1={'alphahash_fragment':'#ifdef\x20USE_ALPHAHASH\x0a\x09if\x20(\x20diffuseColor.a\x20<\x20getAlphaHashThreshold(\x20vPosition\x20)\x20)\x20discard;\x0a#endif','alphahash_pars_fragment':'#ifdef\x20USE_ALPHAHASH\x0a\x09const\x20float\x20ALPHA_HASH_SCALE\x20=\x200.05;\x0a\x09float\x20hash2D(\x20vec2\x20value\x20)\x20{\x0a\x09\x09return\x20fract(\x201.0e4\x20*\x20sin(\x2017.0\x20*\x20value.x\x20+\x200.1\x20*\x20value.y\x20)\x20*\x20(\x200.1\x20+\x20abs(\x20sin(\x2013.0\x20*\x20value.y\x20+\x20value.x\x20)\x20)\x20)\x20);\x0a\x09}\x0a\x09float\x20hash3D(\x20vec3\x20value\x20)\x20{\x0a\x09\x09return\x20hash2D(\x20vec2(\x20hash2D(\x20value.xy\x20),\x20value.z\x20)\x20);\x0a\x09}\x0a\x09float\x20getAlphaHashThreshold(\x20vec3\x20position\x20)\x20{\x0a\x09\x09float\x20maxDeriv\x20=\x20max(\x0a\x09\x09\x09length(\x20dFdx(\x20position.xyz\x20)\x20),\x0a\x09\x09\x09length(\x20dFdy(\x20position.xyz\x20)\x20)\x0a\x09\x09);\x0a\x09\x09float\x20pixScale\x20=\x201.0\x20/\x20(\x20ALPHA_HASH_SCALE\x20*\x20maxDeriv\x20);\x0a\x09\x09vec2\x20pixScales\x20=\x20vec2(\x0a\x09\x09\x09exp2(\x20floor(\x20log2(\x20pixScale\x20)\x20)\x20),\x0a\x09\x09\x09exp2(\x20ceil(\x20log2(\x20pixScale\x20)\x20)\x20)\x0a\x09\x09);\x0a\x09\x09vec2\x20alpha\x20=\x20vec2(\x0a\x09\x09\x09hash3D(\x20floor(\x20pixScales.x\x20*\x20position.xyz\x20)\x20),\x0a\x09\x09\x09hash3D(\x20floor(\x20pixScales.y\x20*\x20position.xyz\x20)\x20)\x0a\x09\x09);\x0a\x09\x09float\x20lerpFactor\x20=\x20fract(\x20log2(\x20pixScale\x20)\x20);\x0a\x09\x09float\x20x\x20=\x20(\x201.0\x20-\x20lerpFactor\x20)\x20*\x20alpha.x\x20+\x20lerpFactor\x20*\x20alpha.y;\x0a\x09\x09float\x20a\x20=\x20min(\x20lerpFactor,\x201.0\x20-\x20lerpFactor\x20);\x0a\x09\x09vec3\x20cases\x20=\x20vec3(\x0a\x09\x09\x09x\x20*\x20x\x20/\x20(\x202.0\x20*\x20a\x20*\x20(\x201.0\x20-\x20a\x20)\x20),\x0a\x09\x09\x09(\x20x\x20-\x200.5\x20*\x20a\x20)\x20/\x20(\x201.0\x20-\x20a\x20),\x0a\x09\x09\x091.0\x20-\x20(\x20(\x201.0\x20-\x20x\x20)\x20*\x20(\x201.0\x20-\x20x\x20)\x20/\x20(\x202.0\x20*\x20a\x20*\x20(\x201.0\x20-\x20a\x20)\x20)\x20)\x0a\x09\x09);\x0a\x09\x09float\x20threshold\x20=\x20(\x20x\x20<\x20(\x201.0\x20-\x20a\x20)\x20)\x0a\x09\x09\x09?\x20(\x20(\x20x\x20<\x20a\x20)\x20?\x20cases.x\x20:\x20cases.y\x20)\x0a\x09\x09\x09:\x20cases.z;\x0a\x09\x09return\x20clamp(\x20threshold\x20,\x201.0e-6,\x201.0\x20);\x0a\x09}\x0a#endif','alphamap_fragment':'#ifdef\x20USE_ALPHAMAP\x0a\x09diffuseColor.a\x20*=\x20texture2D(\x20alphaMap,\x20vAlphaMapUv\x20).g;\x0a#endif','alphamap_pars_fragment':'#ifdef\x20USE_ALPHAMAP\x0a\x09uniform\x20sampler2D\x20alphaMap;\x0a#endif','alphatest_fragment':'#ifdef\x20USE_ALPHATEST\x0a\x09#ifdef\x20ALPHA_TO_COVERAGE\x0a\x09diffuseColor.a\x20=\x20smoothstep(\x20alphaTest,\x20alphaTest\x20+\x20fwidth(\x20diffuseColor.a\x20),\x20diffuseColor.a\x20);\x0a\x09if\x20(\x20diffuseColor.a\x20==\x200.0\x20)\x20discard;\x0a\x09#else\x0a\x09if\x20(\x20diffuseColor.a\x20<\x20alphaTest\x20)\x20discard;\x0a\x09#endif\x0a#endif','alphatest_pars_fragment':'#ifdef\x20USE_ALPHATEST\x0a\x09uniform\x20float\x20alphaTest;\x0a#endif','aomap_fragment':'#ifdef\x20USE_AOMAP\x0a\x09float\x20ambientOcclusion\x20=\x20(\x20texture2D(\x20aoMap,\x20vAoMapUv\x20).r\x20-\x201.0\x20)\x20*\x20aoMapIntensity\x20+\x201.0;\x0a\x09reflectedLight.indirectDiffuse\x20*=\x20ambientOcclusion;\x0a\x09#if\x20defined(\x20USE_CLEARCOAT\x20)\x20\x0a\x09\x09clearcoatSpecularIndirect\x20*=\x20ambientOcclusion;\x0a\x09#endif\x0a\x09#if\x20defined(\x20USE_SHEEN\x20)\x20\x0a\x09\x09sheenSpecularIndirect\x20*=\x20ambientOcclusion;\x0a\x09#endif\x0a\x09#if\x20defined(\x20USE_ENVMAP\x20)\x20&&\x20defined(\x20STANDARD\x20)\x0a\x09\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20geometryViewDir\x20)\x20);\x0a\x09\x09reflectedLight.indirectSpecular\x20*=\x20computeSpecularOcclusion(\x20dotNV,\x20ambientOcclusion,\x20material.roughness\x20);\x0a\x09#endif\x0a#endif','aomap_pars_fragment':'#ifdef\x20USE_AOMAP\x0a\x09uniform\x20sampler2D\x20aoMap;\x0a\x09uniform\x20float\x20aoMapIntensity;\x0a#endif','batching_pars_vertex':'#ifdef\x20USE_BATCHING\x0a\x09#if\x20!\x20defined(\x20GL_ANGLE_multi_draw\x20)\x0a\x09#define\x20gl_DrawID\x20_gl_DrawID\x0a\x09uniform\x20int\x20_gl_DrawID;\x0a\x09#endif\x0a\x09uniform\x20highp\x20sampler2D\x20batchingTexture;\x0a\x09uniform\x20highp\x20usampler2D\x20batchingIdTexture;\x0a\x09mat4\x20getBatchingMatrix(\x20const\x20in\x20float\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20batchingTexture,\x200\x20).x;\x0a\x09\x09int\x20j\x20=\x20int(\x20i\x20)\x20*\x204;\x0a\x09\x09int\x20x\x20=\x20j\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20j\x20/\x20size;\x0a\x09\x09vec4\x20v1\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v2\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x\x20+\x201,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v3\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x\x20+\x202,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v4\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x\x20+\x203,\x20y\x20),\x200\x20);\x0a\x09\x09return\x20mat4(\x20v1,\x20v2,\x20v3,\x20v4\x20);\x0a\x09}\x0a\x09float\x20getIndirectIndex(\x20const\x20in\x20int\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20batchingIdTexture,\x200\x20).x;\x0a\x09\x09int\x20x\x20=\x20i\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20i\x20/\x20size;\x0a\x09\x09return\x20float(\x20texelFetch(\x20batchingIdTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20).r\x20);\x0a\x09}\x0a#endif\x0a#ifdef\x20USE_BATCHING_COLOR\x0a\x09uniform\x20sampler2D\x20batchingColorTexture;\x0a\x09vec3\x20getBatchingColor(\x20const\x20in\x20float\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20batchingColorTexture,\x200\x20).x;\x0a\x09\x09int\x20j\x20=\x20int(\x20i\x20);\x0a\x09\x09int\x20x\x20=\x20j\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20j\x20/\x20size;\x0a\x09\x09return\x20texelFetch(\x20batchingColorTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20).rgb;\x0a\x09}\x0a#endif','batching_vertex':'#ifdef\x20USE_BATCHING\x0a\x09mat4\x20batchingMatrix\x20=\x20getBatchingMatrix(\x20getIndirectIndex(\x20gl_DrawID\x20)\x20);\x0a#endif','begin_vertex':'vec3\x20transformed\x20=\x20vec3(\x20position\x20);\x0a#ifdef\x20USE_ALPHAHASH\x0a\x09vPosition\x20=\x20vec3(\x20position\x20);\x0a#endif','beginnormal_vertex':'vec3\x20objectNormal\x20=\x20vec3(\x20normal\x20);\x0a#ifdef\x20USE_TANGENT\x0a\x09vec3\x20objectTangent\x20=\x20vec3(\x20tangent.xyz\x20);\x0a#endif','bsdfs':'float\x20G_BlinnPhong_Implicit(\x20)\x20{\x0a\x09return\x200.25;\x0a}\x0afloat\x20D_BlinnPhong(\x20const\x20in\x20float\x20shininess,\x20const\x20in\x20float\x20dotNH\x20)\x20{\x0a\x09return\x20RECIPROCAL_PI\x20*\x20(\x20shininess\x20*\x200.5\x20+\x201.0\x20)\x20*\x20pow(\x20dotNH,\x20shininess\x20);\x0a}\x0avec3\x20BRDF_BlinnPhong(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20shininess\x20)\x20{\x0a\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09float\x20dotVH\x20=\x20saturate(\x20dot(\x20viewDir,\x20halfDir\x20)\x20);\x0a\x09vec3\x20F\x20=\x20F_Schlick(\x20specularColor,\x201.0,\x20dotVH\x20);\x0a\x09float\x20G\x20=\x20G_BlinnPhong_Implicit(\x20);\x0a\x09float\x20D\x20=\x20D_BlinnPhong(\x20shininess,\x20dotNH\x20);\x0a\x09return\x20F\x20*\x20(\x20G\x20*\x20D\x20);\x0a}\x20//\x20validated','iridescence_fragment':'#ifdef\x20USE_IRIDESCENCE\x0a\x09const\x20mat3\x20XYZ_TO_REC709\x20=\x20mat3(\x0a\x09\x09\x203.2404542,\x20-0.9692660,\x20\x200.0556434,\x0a\x09\x09-1.5371385,\x20\x201.8760108,\x20-0.2040259,\x0a\x09\x09-0.4985314,\x20\x200.0415560,\x20\x201.0572252\x0a\x09);\x0a\x09vec3\x20Fresnel0ToIor(\x20vec3\x20fresnel0\x20)\x20{\x0a\x09\x09vec3\x20sqrtF0\x20=\x20sqrt(\x20fresnel0\x20);\x0a\x09\x09return\x20(\x20vec3(\x201.0\x20)\x20+\x20sqrtF0\x20)\x20/\x20(\x20vec3(\x201.0\x20)\x20-\x20sqrtF0\x20);\x0a\x09}\x0a\x09vec3\x20IorToFresnel0(\x20vec3\x20transmittedIor,\x20float\x20incidentIor\x20)\x20{\x0a\x09\x09return\x20pow2(\x20(\x20transmittedIor\x20-\x20vec3(\x20incidentIor\x20)\x20)\x20/\x20(\x20transmittedIor\x20+\x20vec3(\x20incidentIor\x20)\x20)\x20);\x0a\x09}\x0a\x09float\x20IorToFresnel0(\x20float\x20transmittedIor,\x20float\x20incidentIor\x20)\x20{\x0a\x09\x09return\x20pow2(\x20(\x20transmittedIor\x20-\x20incidentIor\x20)\x20/\x20(\x20transmittedIor\x20+\x20incidentIor\x20));\x0a\x09}\x0a\x09vec3\x20evalSensitivity(\x20float\x20OPD,\x20vec3\x20shift\x20)\x20{\x0a\x09\x09float\x20phase\x20=\x202.0\x20*\x20PI\x20*\x20OPD\x20*\x201.0e-9;\x0a\x09\x09vec3\x20val\x20=\x20vec3(\x205.4856e-13,\x204.4201e-13,\x205.2481e-13\x20);\x0a\x09\x09vec3\x20pos\x20=\x20vec3(\x201.6810e+06,\x201.7953e+06,\x202.2084e+06\x20);\x0a\x09\x09vec3\x20var\x20=\x20vec3(\x204.3278e+09,\x209.3046e+09,\x206.6121e+09\x20);\x0a\x09\x09vec3\x20xyz\x20=\x20val\x20*\x20sqrt(\x202.0\x20*\x20PI\x20*\x20var\x20)\x20*\x20cos(\x20pos\x20*\x20phase\x20+\x20shift\x20)\x20*\x20exp(\x20-\x20pow2(\x20phase\x20)\x20*\x20var\x20);\x0a\x09\x09xyz.x\x20+=\x209.7470e-14\x20*\x20sqrt(\x202.0\x20*\x20PI\x20*\x204.5282e+09\x20)\x20*\x20cos(\x202.2399e+06\x20*\x20phase\x20+\x20shift[\x200\x20]\x20)\x20*\x20exp(\x20-\x204.5282e+09\x20*\x20pow2(\x20phase\x20)\x20);\x0a\x09\x09xyz\x20/=\x201.0685e-7;\x0a\x09\x09vec3\x20rgb\x20=\x20XYZ_TO_REC709\x20*\x20xyz;\x0a\x09\x09return\x20rgb;\x0a\x09}\x0a\x09vec3\x20evalIridescence(\x20float\x20outsideIOR,\x20float\x20eta2,\x20float\x20cosTheta1,\x20float\x20thinFilmThickness,\x20vec3\x20baseF0\x20)\x20{\x0a\x09\x09vec3\x20I;\x0a\x09\x09float\x20iridescenceIOR\x20=\x20mix(\x20outsideIOR,\x20eta2,\x20smoothstep(\x200.0,\x200.03,\x20thinFilmThickness\x20)\x20);\x0a\x09\x09float\x20sinTheta2Sq\x20=\x20pow2(\x20outsideIOR\x20/\x20iridescenceIOR\x20)\x20*\x20(\x201.0\x20-\x20pow2(\x20cosTheta1\x20)\x20);\x0a\x09\x09float\x20cosTheta2Sq\x20=\x201.0\x20-\x20sinTheta2Sq;\x0a\x09\x09if\x20(\x20cosTheta2Sq\x20<\x200.0\x20)\x20{\x0a\x09\x09\x09return\x20vec3(\x201.0\x20);\x0a\x09\x09}\x0a\x09\x09float\x20cosTheta2\x20=\x20sqrt(\x20cosTheta2Sq\x20);\x0a\x09\x09float\x20R0\x20=\x20IorToFresnel0(\x20iridescenceIOR,\x20outsideIOR\x20);\x0a\x09\x09float\x20R12\x20=\x20F_Schlick(\x20R0,\x201.0,\x20cosTheta1\x20);\x0a\x09\x09float\x20T121\x20=\x201.0\x20-\x20R12;\x0a\x09\x09float\x20phi12\x20=\x200.0;\x0a\x09\x09if\x20(\x20iridescenceIOR\x20<\x20outsideIOR\x20)\x20phi12\x20=\x20PI;\x0a\x09\x09float\x20phi21\x20=\x20PI\x20-\x20phi12;\x0a\x09\x09vec3\x20baseIOR\x20=\x20Fresnel0ToIor(\x20clamp(\x20baseF0,\x200.0,\x200.9999\x20)\x20);\x09\x09vec3\x20R1\x20=\x20IorToFresnel0(\x20baseIOR,\x20iridescenceIOR\x20);\x0a\x09\x09vec3\x20R23\x20=\x20F_Schlick(\x20R1,\x201.0,\x20cosTheta2\x20);\x0a\x09\x09vec3\x20phi23\x20=\x20vec3(\x200.0\x20);\x0a\x09\x09if\x20(\x20baseIOR[\x200\x20]\x20<\x20iridescenceIOR\x20)\x20phi23[\x200\x20]\x20=\x20PI;\x0a\x09\x09if\x20(\x20baseIOR[\x201\x20]\x20<\x20iridescenceIOR\x20)\x20phi23[\x201\x20]\x20=\x20PI;\x0a\x09\x09if\x20(\x20baseIOR[\x202\x20]\x20<\x20iridescenceIOR\x20)\x20phi23[\x202\x20]\x20=\x20PI;\x0a\x09\x09float\x20OPD\x20=\x202.0\x20*\x20iridescenceIOR\x20*\x20thinFilmThickness\x20*\x20cosTheta2;\x0a\x09\x09vec3\x20phi\x20=\x20vec3(\x20phi21\x20)\x20+\x20phi23;\x0a\x09\x09vec3\x20R123\x20=\x20clamp(\x20R12\x20*\x20R23,\x201e-5,\x200.9999\x20);\x0a\x09\x09vec3\x20r123\x20=\x20sqrt(\x20R123\x20);\x0a\x09\x09vec3\x20Rs\x20=\x20pow2(\x20T121\x20)\x20*\x20R23\x20/\x20(\x20vec3(\x201.0\x20)\x20-\x20R123\x20);\x0a\x09\x09vec3\x20C0\x20=\x20R12\x20+\x20Rs;\x0a\x09\x09I\x20=\x20C0;\x0a\x09\x09vec3\x20Cm\x20=\x20Rs\x20-\x20T121;\x0a\x09\x09for\x20(\x20int\x20m\x20=\x201;\x20m\x20<=\x202;\x20++\x20m\x20)\x20{\x0a\x09\x09\x09Cm\x20*=\x20r123;\x0a\x09\x09\x09vec3\x20Sm\x20=\x202.0\x20*\x20evalSensitivity(\x20float(\x20m\x20)\x20*\x20OPD,\x20float(\x20m\x20)\x20*\x20phi\x20);\x0a\x09\x09\x09I\x20+=\x20Cm\x20*\x20Sm;\x0a\x09\x09}\x0a\x09\x09return\x20max(\x20I,\x20vec3(\x200.0\x20)\x20);\x0a\x09}\x0a#endif','bumpmap_pars_fragment':'#ifdef\x20USE_BUMPMAP\x0a\x09uniform\x20sampler2D\x20bumpMap;\x0a\x09uniform\x20float\x20bumpScale;\x0a\x09vec2\x20dHdxy_fwd()\x20{\x0a\x09\x09vec2\x20dSTdx\x20=\x20dFdx(\x20vBumpMapUv\x20);\x0a\x09\x09vec2\x20dSTdy\x20=\x20dFdy(\x20vBumpMapUv\x20);\x0a\x09\x09float\x20Hll\x20=\x20bumpScale\x20*\x20texture2D(\x20bumpMap,\x20vBumpMapUv\x20).x;\x0a\x09\x09float\x20dBx\x20=\x20bumpScale\x20*\x20texture2D(\x20bumpMap,\x20vBumpMapUv\x20+\x20dSTdx\x20).x\x20-\x20Hll;\x0a\x09\x09float\x20dBy\x20=\x20bumpScale\x20*\x20texture2D(\x20bumpMap,\x20vBumpMapUv\x20+\x20dSTdy\x20).x\x20-\x20Hll;\x0a\x09\x09return\x20vec2(\x20dBx,\x20dBy\x20);\x0a\x09}\x0a\x09vec3\x20perturbNormalArb(\x20vec3\x20surf_pos,\x20vec3\x20surf_norm,\x20vec2\x20dHdxy,\x20float\x20faceDirection\x20)\x20{\x0a\x09\x09vec3\x20vSigmaX\x20=\x20normalize(\x20dFdx(\x20surf_pos.xyz\x20)\x20);\x0a\x09\x09vec3\x20vSigmaY\x20=\x20normalize(\x20dFdy(\x20surf_pos.xyz\x20)\x20);\x0a\x09\x09vec3\x20vN\x20=\x20surf_norm;\x0a\x09\x09vec3\x20R1\x20=\x20cross(\x20vSigmaY,\x20vN\x20);\x0a\x09\x09vec3\x20R2\x20=\x20cross(\x20vN,\x20vSigmaX\x20);\x0a\x09\x09float\x20fDet\x20=\x20dot(\x20vSigmaX,\x20R1\x20)\x20*\x20faceDirection;\x0a\x09\x09vec3\x20vGrad\x20=\x20sign(\x20fDet\x20)\x20*\x20(\x20dHdxy.x\x20*\x20R1\x20+\x20dHdxy.y\x20*\x20R2\x20);\x0a\x09\x09return\x20normalize(\x20abs(\x20fDet\x20)\x20*\x20surf_norm\x20-\x20vGrad\x20);\x0a\x09}\x0a#endif','clipping_planes_fragment':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09vec4\x20plane;\x0a\x09#ifdef\x20ALPHA_TO_COVERAGE\x0a\x09\x09float\x20distanceToPlane,\x20distanceGradient;\x0a\x09\x09float\x20clipOpacity\x20=\x201.0;\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20UNION_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09distanceToPlane\x20=\x20-\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20+\x20plane.w;\x0a\x09\x09\x09distanceGradient\x20=\x20fwidth(\x20distanceToPlane\x20)\x20/\x202.0;\x0a\x09\x09\x09clipOpacity\x20*=\x20smoothstep(\x20-\x20distanceGradient,\x20distanceGradient,\x20distanceToPlane\x20);\x0a\x09\x09\x09if\x20(\x20clipOpacity\x20==\x200.0\x20)\x20discard;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09#if\x20UNION_CLIPPING_PLANES\x20<\x20NUM_CLIPPING_PLANES\x0a\x09\x09\x09float\x20unionClipOpacity\x20=\x201.0;\x0a\x09\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09\x09for\x20(\x20int\x20i\x20=\x20UNION_CLIPPING_PLANES;\x20i\x20<\x20NUM_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09\x09distanceToPlane\x20=\x20-\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20+\x20plane.w;\x0a\x09\x09\x09\x09distanceGradient\x20=\x20fwidth(\x20distanceToPlane\x20)\x20/\x202.0;\x0a\x09\x09\x09\x09unionClipOpacity\x20*=\x201.0\x20-\x20smoothstep(\x20-\x20distanceGradient,\x20distanceGradient,\x20distanceToPlane\x20);\x0a\x09\x09\x09}\x0a\x09\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09\x09clipOpacity\x20*=\x201.0\x20-\x20unionClipOpacity;\x0a\x09\x09#endif\x0a\x09\x09diffuseColor.a\x20*=\x20clipOpacity;\x0a\x09\x09if\x20(\x20diffuseColor.a\x20==\x200.0\x20)\x20discard;\x0a\x09#else\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20UNION_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09if\x20(\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20>\x20plane.w\x20)\x20discard;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09#if\x20UNION_CLIPPING_PLANES\x20<\x20NUM_CLIPPING_PLANES\x0a\x09\x09\x09bool\x20clipped\x20=\x20true;\x0a\x09\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09\x09for\x20(\x20int\x20i\x20=\x20UNION_CLIPPING_PLANES;\x20i\x20<\x20NUM_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09\x09clipped\x20=\x20(\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20>\x20plane.w\x20)\x20&&\x20clipped;\x0a\x09\x09\x09}\x0a\x09\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09\x09if\x20(\x20clipped\x20)\x20discard;\x0a\x09\x09#endif\x0a\x09#endif\x0a#endif','clipping_planes_pars_fragment':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09varying\x20vec3\x20vClipPosition;\x0a\x09uniform\x20vec4\x20clippingPlanes[\x20NUM_CLIPPING_PLANES\x20];\x0a#endif','clipping_planes_pars_vertex':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09varying\x20vec3\x20vClipPosition;\x0a#endif','clipping_planes_vertex':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09vClipPosition\x20=\x20-\x20mvPosition.xyz;\x0a#endif','color_fragment':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09diffuseColor\x20*=\x20vColor;\x0a#elif\x20defined(\x20USE_COLOR\x20)\x0a\x09diffuseColor.rgb\x20*=\x20vColor;\x0a#endif','color_pars_fragment':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09varying\x20vec4\x20vColor;\x0a#elif\x20defined(\x20USE_COLOR\x20)\x0a\x09varying\x20vec3\x20vColor;\x0a#endif','color_pars_vertex':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09varying\x20vec4\x20vColor;\x0a#elif\x20defined(\x20USE_COLOR\x20)\x20||\x20defined(\x20USE_INSTANCING_COLOR\x20)\x20||\x20defined(\x20USE_BATCHING_COLOR\x20)\x0a\x09varying\x20vec3\x20vColor;\x0a#endif','color_vertex':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09vColor\x20=\x20vec4(\x201.0\x20);\x0a#elif\x20defined(\x20USE_COLOR\x20)\x20||\x20defined(\x20USE_INSTANCING_COLOR\x20)\x20||\x20defined(\x20USE_BATCHING_COLOR\x20)\x0a\x09vColor\x20=\x20vec3(\x201.0\x20);\x0a#endif\x0a#ifdef\x20USE_COLOR\x0a\x09vColor\x20*=\x20color;\x0a#endif\x0a#ifdef\x20USE_INSTANCING_COLOR\x0a\x09vColor.xyz\x20*=\x20instanceColor.xyz;\x0a#endif\x0a#ifdef\x20USE_BATCHING_COLOR\x0a\x09vec3\x20batchingColor\x20=\x20getBatchingColor(\x20getIndirectIndex(\x20gl_DrawID\x20)\x20);\x0a\x09vColor.xyz\x20*=\x20batchingColor.xyz;\x0a#endif','common':'#define\x20PI\x203.141592653589793\x0a#define\x20PI2\x206.283185307179586\x0a#define\x20PI_HALF\x201.5707963267948966\x0a#define\x20RECIPROCAL_PI\x200.3183098861837907\x0a#define\x20RECIPROCAL_PI2\x200.15915494309189535\x0a#define\x20EPSILON\x201e-6\x0a#ifndef\x20saturate\x0a#define\x20saturate(\x20a\x20)\x20clamp(\x20a,\x200.0,\x201.0\x20)\x0a#endif\x0a#define\x20whiteComplement(\x20a\x20)\x20(\x201.0\x20-\x20saturate(\x20a\x20)\x20)\x0afloat\x20pow2(\x20const\x20in\x20float\x20x\x20)\x20{\x20return\x20x*x;\x20}\x0avec3\x20pow2(\x20const\x20in\x20vec3\x20x\x20)\x20{\x20return\x20x*x;\x20}\x0afloat\x20pow3(\x20const\x20in\x20float\x20x\x20)\x20{\x20return\x20x*x*x;\x20}\x0afloat\x20pow4(\x20const\x20in\x20float\x20x\x20)\x20{\x20float\x20x2\x20=\x20x*x;\x20return\x20x2*x2;\x20}\x0afloat\x20max3(\x20const\x20in\x20vec3\x20v\x20)\x20{\x20return\x20max(\x20max(\x20v.x,\x20v.y\x20),\x20v.z\x20);\x20}\x0afloat\x20average(\x20const\x20in\x20vec3\x20v\x20)\x20{\x20return\x20dot(\x20v,\x20vec3(\x200.3333333\x20)\x20);\x20}\x0ahighp\x20float\x20rand(\x20const\x20in\x20vec2\x20uv\x20)\x20{\x0a\x09const\x20highp\x20float\x20a\x20=\x2012.9898,\x20b\x20=\x2078.233,\x20c\x20=\x2043758.5453;\x0a\x09highp\x20float\x20dt\x20=\x20dot(\x20uv.xy,\x20vec2(\x20a,b\x20)\x20),\x20sn\x20=\x20mod(\x20dt,\x20PI\x20);\x0a\x09return\x20fract(\x20sin(\x20sn\x20)\x20*\x20c\x20);\x0a}\x0a#ifdef\x20HIGH_PRECISION\x0a\x09float\x20precisionSafeLength(\x20vec3\x20v\x20)\x20{\x20return\x20length(\x20v\x20);\x20}\x0a#else\x0a\x09float\x20precisionSafeLength(\x20vec3\x20v\x20)\x20{\x0a\x09\x09float\x20maxComponent\x20=\x20max3(\x20abs(\x20v\x20)\x20);\x0a\x09\x09return\x20length(\x20v\x20/\x20maxComponent\x20)\x20*\x20maxComponent;\x0a\x09}\x0a#endif\x0astruct\x20IncidentLight\x20{\x0a\x09vec3\x20color;\x0a\x09vec3\x20direction;\x0a\x09bool\x20visible;\x0a};\x0astruct\x20ReflectedLight\x20{\x0a\x09vec3\x20directDiffuse;\x0a\x09vec3\x20directSpecular;\x0a\x09vec3\x20indirectDiffuse;\x0a\x09vec3\x20indirectSpecular;\x0a};\x0a#ifdef\x20USE_ALPHAHASH\x0a\x09varying\x20vec3\x20vPosition;\x0a#endif\x0avec3\x20transformDirection(\x20in\x20vec3\x20dir,\x20in\x20mat4\x20matrix\x20)\x20{\x0a\x09return\x20normalize(\x20(\x20matrix\x20*\x20vec4(\x20dir,\x200.0\x20)\x20).xyz\x20);\x0a}\x0avec3\x20inverseTransformDirection(\x20in\x20vec3\x20dir,\x20in\x20mat4\x20matrix\x20)\x20{\x0a\x09return\x20normalize(\x20(\x20vec4(\x20dir,\x200.0\x20)\x20*\x20matrix\x20).xyz\x20);\x0a}\x0amat3\x20transposeMat3(\x20const\x20in\x20mat3\x20m\x20)\x20{\x0a\x09mat3\x20tmp;\x0a\x09tmp[\x200\x20]\x20=\x20vec3(\x20m[\x200\x20].x,\x20m[\x201\x20].x,\x20m[\x202\x20].x\x20);\x0a\x09tmp[\x201\x20]\x20=\x20vec3(\x20m[\x200\x20].y,\x20m[\x201\x20].y,\x20m[\x202\x20].y\x20);\x0a\x09tmp[\x202\x20]\x20=\x20vec3(\x20m[\x200\x20].z,\x20m[\x201\x20].z,\x20m[\x202\x20].z\x20);\x0a\x09return\x20tmp;\x0a}\x0abool\x20isPerspectiveMatrix(\x20mat4\x20m\x20)\x20{\x0a\x09return\x20m[\x202\x20][\x203\x20]\x20==\x20-\x201.0;\x0a}\x0avec2\x20equirectUv(\x20in\x20vec3\x20dir\x20)\x20{\x0a\x09float\x20u\x20=\x20atan(\x20dir.z,\x20dir.x\x20)\x20*\x20RECIPROCAL_PI2\x20+\x200.5;\x0a\x09float\x20v\x20=\x20asin(\x20clamp(\x20dir.y,\x20-\x201.0,\x201.0\x20)\x20)\x20*\x20RECIPROCAL_PI\x20+\x200.5;\x0a\x09return\x20vec2(\x20u,\x20v\x20);\x0a}\x0avec3\x20BRDF_Lambert(\x20const\x20in\x20vec3\x20diffuseColor\x20)\x20{\x0a\x09return\x20RECIPROCAL_PI\x20*\x20diffuseColor;\x0a}\x0avec3\x20F_Schlick(\x20const\x20in\x20vec3\x20f0,\x20const\x20in\x20float\x20f90,\x20const\x20in\x20float\x20dotVH\x20)\x20{\x0a\x09float\x20fresnel\x20=\x20exp2(\x20(\x20-\x205.55473\x20*\x20dotVH\x20-\x206.98316\x20)\x20*\x20dotVH\x20);\x0a\x09return\x20f0\x20*\x20(\x201.0\x20-\x20fresnel\x20)\x20+\x20(\x20f90\x20*\x20fresnel\x20);\x0a}\x0afloat\x20F_Schlick(\x20const\x20in\x20float\x20f0,\x20const\x20in\x20float\x20f90,\x20const\x20in\x20float\x20dotVH\x20)\x20{\x0a\x09float\x20fresnel\x20=\x20exp2(\x20(\x20-\x205.55473\x20*\x20dotVH\x20-\x206.98316\x20)\x20*\x20dotVH\x20);\x0a\x09return\x20f0\x20*\x20(\x201.0\x20-\x20fresnel\x20)\x20+\x20(\x20f90\x20*\x20fresnel\x20);\x0a}\x20//\x20validated','cube_uv_reflection_fragment':'#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09#define\x20cubeUV_minMipLevel\x204.0\x0a\x09#define\x20cubeUV_minTileSize\x2016.0\x0a\x09float\x20getFace(\x20vec3\x20direction\x20)\x20{\x0a\x09\x09vec3\x20absDirection\x20=\x20abs(\x20direction\x20);\x0a\x09\x09float\x20face\x20=\x20-\x201.0;\x0a\x09\x09if\x20(\x20absDirection.x\x20>\x20absDirection.z\x20)\x20{\x0a\x09\x09\x09if\x20(\x20absDirection.x\x20>\x20absDirection.y\x20)\x0a\x09\x09\x09\x09face\x20=\x20direction.x\x20>\x200.0\x20?\x200.0\x20:\x203.0;\x0a\x09\x09\x09else\x0a\x09\x09\x09\x09face\x20=\x20direction.y\x20>\x200.0\x20?\x201.0\x20:\x204.0;\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09if\x20(\x20absDirection.z\x20>\x20absDirection.y\x20)\x0a\x09\x09\x09\x09face\x20=\x20direction.z\x20>\x200.0\x20?\x202.0\x20:\x205.0;\x0a\x09\x09\x09else\x0a\x09\x09\x09\x09face\x20=\x20direction.y\x20>\x200.0\x20?\x201.0\x20:\x204.0;\x0a\x09\x09}\x0a\x09\x09return\x20face;\x0a\x09}\x0a\x09vec2\x20getUV(\x20vec3\x20direction,\x20float\x20face\x20)\x20{\x0a\x09\x09vec2\x20uv;\x0a\x09\x09if\x20(\x20face\x20==\x200.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20direction.z,\x20direction.y\x20)\x20/\x20abs(\x20direction.x\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x201.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.x,\x20-\x20direction.z\x20)\x20/\x20abs(\x20direction.y\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x202.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.x,\x20direction.y\x20)\x20/\x20abs(\x20direction.z\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x203.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.z,\x20direction.y\x20)\x20/\x20abs(\x20direction.x\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x204.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.x,\x20direction.z\x20)\x20/\x20abs(\x20direction.y\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20direction.x,\x20direction.y\x20)\x20/\x20abs(\x20direction.z\x20);\x0a\x09\x09}\x0a\x09\x09return\x200.5\x20*\x20(\x20uv\x20+\x201.0\x20);\x0a\x09}\x0a\x09vec3\x20bilinearCubeUV(\x20sampler2D\x20envMap,\x20vec3\x20direction,\x20float\x20mipInt\x20)\x20{\x0a\x09\x09float\x20face\x20=\x20getFace(\x20direction\x20);\x0a\x09\x09float\x20filterInt\x20=\x20max(\x20cubeUV_minMipLevel\x20-\x20mipInt,\x200.0\x20);\x0a\x09\x09mipInt\x20=\x20max(\x20mipInt,\x20cubeUV_minMipLevel\x20);\x0a\x09\x09float\x20faceSize\x20=\x20exp2(\x20mipInt\x20);\x0a\x09\x09highp\x20vec2\x20uv\x20=\x20getUV(\x20direction,\x20face\x20)\x20*\x20(\x20faceSize\x20-\x202.0\x20)\x20+\x201.0;\x0a\x09\x09if\x20(\x20face\x20>\x202.0\x20)\x20{\x0a\x09\x09\x09uv.y\x20+=\x20faceSize;\x0a\x09\x09\x09face\x20-=\x203.0;\x0a\x09\x09}\x0a\x09\x09uv.x\x20+=\x20face\x20*\x20faceSize;\x0a\x09\x09uv.x\x20+=\x20filterInt\x20*\x203.0\x20*\x20cubeUV_minTileSize;\x0a\x09\x09uv.y\x20+=\x204.0\x20*\x20(\x20exp2(\x20CUBEUV_MAX_MIP\x20)\x20-\x20faceSize\x20);\x0a\x09\x09uv.x\x20*=\x20CUBEUV_TEXEL_WIDTH;\x0a\x09\x09uv.y\x20*=\x20CUBEUV_TEXEL_HEIGHT;\x0a\x09\x09#ifdef\x20texture2DGradEXT\x0a\x09\x09\x09return\x20texture2DGradEXT(\x20envMap,\x20uv,\x20vec2(\x200.0\x20),\x20vec2(\x200.0\x20)\x20).rgb;\x0a\x09\x09#else\x0a\x09\x09\x09return\x20texture2D(\x20envMap,\x20uv\x20).rgb;\x0a\x09\x09#endif\x0a\x09}\x0a\x09#define\x20cubeUV_r0\x201.0\x0a\x09#define\x20cubeUV_m0\x20-\x202.0\x0a\x09#define\x20cubeUV_r1\x200.8\x0a\x09#define\x20cubeUV_m1\x20-\x201.0\x0a\x09#define\x20cubeUV_r4\x200.4\x0a\x09#define\x20cubeUV_m4\x202.0\x0a\x09#define\x20cubeUV_r5\x200.305\x0a\x09#define\x20cubeUV_m5\x203.0\x0a\x09#define\x20cubeUV_r6\x200.21\x0a\x09#define\x20cubeUV_m6\x204.0\x0a\x09float\x20roughnessToMip(\x20float\x20roughness\x20)\x20{\x0a\x09\x09float\x20mip\x20=\x200.0;\x0a\x09\x09if\x20(\x20roughness\x20>=\x20cubeUV_r1\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r0\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m1\x20-\x20cubeUV_m0\x20)\x20/\x20(\x20cubeUV_r0\x20-\x20cubeUV_r1\x20)\x20+\x20cubeUV_m0;\x0a\x09\x09}\x20else\x20if\x20(\x20roughness\x20>=\x20cubeUV_r4\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r1\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m4\x20-\x20cubeUV_m1\x20)\x20/\x20(\x20cubeUV_r1\x20-\x20cubeUV_r4\x20)\x20+\x20cubeUV_m1;\x0a\x09\x09}\x20else\x20if\x20(\x20roughness\x20>=\x20cubeUV_r5\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r4\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m5\x20-\x20cubeUV_m4\x20)\x20/\x20(\x20cubeUV_r4\x20-\x20cubeUV_r5\x20)\x20+\x20cubeUV_m4;\x0a\x09\x09}\x20else\x20if\x20(\x20roughness\x20>=\x20cubeUV_r6\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r5\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m6\x20-\x20cubeUV_m5\x20)\x20/\x20(\x20cubeUV_r5\x20-\x20cubeUV_r6\x20)\x20+\x20cubeUV_m5;\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09mip\x20=\x20-\x202.0\x20*\x20log2(\x201.16\x20*\x20roughness\x20);\x09\x09}\x0a\x09\x09return\x20mip;\x0a\x09}\x0a\x09vec4\x20textureCubeUV(\x20sampler2D\x20envMap,\x20vec3\x20sampleDir,\x20float\x20roughness\x20)\x20{\x0a\x09\x09float\x20mip\x20=\x20clamp(\x20roughnessToMip(\x20roughness\x20),\x20cubeUV_m0,\x20CUBEUV_MAX_MIP\x20);\x0a\x09\x09float\x20mipF\x20=\x20fract(\x20mip\x20);\x0a\x09\x09float\x20mipInt\x20=\x20floor(\x20mip\x20);\x0a\x09\x09vec3\x20color0\x20=\x20bilinearCubeUV(\x20envMap,\x20sampleDir,\x20mipInt\x20);\x0a\x09\x09if\x20(\x20mipF\x20==\x200.0\x20)\x20{\x0a\x09\x09\x09return\x20vec4(\x20color0,\x201.0\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09vec3\x20color1\x20=\x20bilinearCubeUV(\x20envMap,\x20sampleDir,\x20mipInt\x20+\x201.0\x20);\x0a\x09\x09\x09return\x20vec4(\x20mix(\x20color0,\x20color1,\x20mipF\x20),\x201.0\x20);\x0a\x09\x09}\x0a\x09}\x0a#endif','defaultnormal_vertex':'vec3\x20transformedNormal\x20=\x20objectNormal;\x0a#ifdef\x20USE_TANGENT\x0a\x09vec3\x20transformedTangent\x20=\x20objectTangent;\x0a#endif\x0a#ifdef\x20USE_BATCHING\x0a\x09mat3\x20bm\x20=\x20mat3(\x20batchingMatrix\x20);\x0a\x09transformedNormal\x20/=\x20vec3(\x20dot(\x20bm[\x200\x20],\x20bm[\x200\x20]\x20),\x20dot(\x20bm[\x201\x20],\x20bm[\x201\x20]\x20),\x20dot(\x20bm[\x202\x20],\x20bm[\x202\x20]\x20)\x20);\x0a\x09transformedNormal\x20=\x20bm\x20*\x20transformedNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09transformedTangent\x20=\x20bm\x20*\x20transformedTangent;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_INSTANCING\x0a\x09mat3\x20im\x20=\x20mat3(\x20instanceMatrix\x20);\x0a\x09transformedNormal\x20/=\x20vec3(\x20dot(\x20im[\x200\x20],\x20im[\x200\x20]\x20),\x20dot(\x20im[\x201\x20],\x20im[\x201\x20]\x20),\x20dot(\x20im[\x202\x20],\x20im[\x202\x20]\x20)\x20);\x0a\x09transformedNormal\x20=\x20im\x20*\x20transformedNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09transformedTangent\x20=\x20im\x20*\x20transformedTangent;\x0a\x09#endif\x0a#endif\x0atransformedNormal\x20=\x20normalMatrix\x20*\x20transformedNormal;\x0a#ifdef\x20FLIP_SIDED\x0a\x09transformedNormal\x20=\x20-\x20transformedNormal;\x0a#endif\x0a#ifdef\x20USE_TANGENT\x0a\x09transformedTangent\x20=\x20(\x20modelViewMatrix\x20*\x20vec4(\x20transformedTangent,\x200.0\x20)\x20).xyz;\x0a\x09#ifdef\x20FLIP_SIDED\x0a\x09\x09transformedTangent\x20=\x20-\x20transformedTangent;\x0a\x09#endif\x0a#endif','displacementmap_pars_vertex':'#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09uniform\x20sampler2D\x20displacementMap;\x0a\x09uniform\x20float\x20displacementScale;\x0a\x09uniform\x20float\x20displacementBias;\x0a#endif','displacementmap_vertex':'#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09transformed\x20+=\x20normalize(\x20objectNormal\x20)\x20*\x20(\x20texture2D(\x20displacementMap,\x20vDisplacementMapUv\x20).x\x20*\x20displacementScale\x20+\x20displacementBias\x20);\x0a#endif','emissivemap_fragment':'#ifdef\x20USE_EMISSIVEMAP\x0a\x09vec4\x20emissiveColor\x20=\x20texture2D(\x20emissiveMap,\x20vEmissiveMapUv\x20);\x0a\x09#ifdef\x20DECODE_VIDEO_TEXTURE_EMISSIVE\x0a\x09\x09emissiveColor\x20=\x20sRGBTransferEOTF(\x20emissiveColor\x20);\x0a\x09#endif\x0a\x09totalEmissiveRadiance\x20*=\x20emissiveColor.rgb;\x0a#endif','emissivemap_pars_fragment':'#ifdef\x20USE_EMISSIVEMAP\x0a\x09uniform\x20sampler2D\x20emissiveMap;\x0a#endif','colorspace_fragment':'gl_FragColor\x20=\x20linearToOutputTexel(\x20gl_FragColor\x20);','colorspace_pars_fragment':'vec4\x20LinearTransferOETF(\x20in\x20vec4\x20value\x20)\x20{\x0a\x09return\x20value;\x0a}\x0avec4\x20sRGBTransferEOTF(\x20in\x20vec4\x20value\x20)\x20{\x0a\x09return\x20vec4(\x20mix(\x20pow(\x20value.rgb\x20*\x200.9478672986\x20+\x20vec3(\x200.0521327014\x20),\x20vec3(\x202.4\x20)\x20),\x20value.rgb\x20*\x200.0773993808,\x20vec3(\x20lessThanEqual(\x20value.rgb,\x20vec3(\x200.04045\x20)\x20)\x20)\x20),\x20value.a\x20);\x0a}\x0avec4\x20sRGBTransferOETF(\x20in\x20vec4\x20value\x20)\x20{\x0a\x09return\x20vec4(\x20mix(\x20pow(\x20value.rgb,\x20vec3(\x200.41666\x20)\x20)\x20*\x201.055\x20-\x20vec3(\x200.055\x20),\x20value.rgb\x20*\x2012.92,\x20vec3(\x20lessThanEqual(\x20value.rgb,\x20vec3(\x200.0031308\x20)\x20)\x20)\x20),\x20value.a\x20);\x0a}','envmap_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09vec3\x20cameraToFrag;\x0a\x09\x09if\x20(\x20isOrthographic\x20)\x20{\x0a\x09\x09\x09cameraToFrag\x20=\x20normalize(\x20vec3(\x20-\x20viewMatrix[\x200\x20][\x202\x20],\x20-\x20viewMatrix[\x201\x20][\x202\x20],\x20-\x20viewMatrix[\x202\x20][\x202\x20]\x20)\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09cameraToFrag\x20=\x20normalize(\x20vWorldPosition\x20-\x20cameraPosition\x20);\x0a\x09\x09}\x0a\x09\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09\x09#ifdef\x20ENVMAP_MODE_REFLECTION\x0a\x09\x09\x09vec3\x20reflectVec\x20=\x20reflect(\x20cameraToFrag,\x20worldNormal\x20);\x0a\x09\x09#else\x0a\x09\x09\x09vec3\x20reflectVec\x20=\x20refract(\x20cameraToFrag,\x20worldNormal,\x20refractionRatio\x20);\x0a\x09\x09#endif\x0a\x09#else\x0a\x09\x09vec3\x20reflectVec\x20=\x20vReflect;\x0a\x09#endif\x0a\x09#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09\x09vec4\x20envColor\x20=\x20textureCube(\x20envMap,\x20envMapRotation\x20*\x20vec3(\x20flipEnvMap\x20*\x20reflectVec.x,\x20reflectVec.yz\x20)\x20);\x0a\x09#else\x0a\x09\x09vec4\x20envColor\x20=\x20vec4(\x200.0\x20);\x0a\x09#endif\x0a\x09#ifdef\x20ENVMAP_BLENDING_MULTIPLY\x0a\x09\x09outgoingLight\x20=\x20mix(\x20outgoingLight,\x20outgoingLight\x20*\x20envColor.xyz,\x20specularStrength\x20*\x20reflectivity\x20);\x0a\x09#elif\x20defined(\x20ENVMAP_BLENDING_MIX\x20)\x0a\x09\x09outgoingLight\x20=\x20mix(\x20outgoingLight,\x20envColor.xyz,\x20specularStrength\x20*\x20reflectivity\x20);\x0a\x09#elif\x20defined(\x20ENVMAP_BLENDING_ADD\x20)\x0a\x09\x09outgoingLight\x20+=\x20envColor.xyz\x20*\x20specularStrength\x20*\x20reflectivity;\x0a\x09#endif\x0a#endif','envmap_common_pars_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09uniform\x20float\x20envMapIntensity;\x0a\x09uniform\x20float\x20flipEnvMap;\x0a\x09uniform\x20mat3\x20envMapRotation;\x0a\x09#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09\x09uniform\x20samplerCube\x20envMap;\x0a\x09#else\x0a\x09\x09uniform\x20sampler2D\x20envMap;\x0a\x09#endif\x0a\x09\x0a#endif','envmap_pars_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09uniform\x20float\x20reflectivity;\x0a\x09#if\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP\x20)\x20||\x20defined(\x20PHONG\x20)\x20||\x20defined(\x20LAMBERT\x20)\x0a\x09\x09#define\x20ENV_WORLDPOS\x0a\x09#endif\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09varying\x20vec3\x20vWorldPosition;\x0a\x09\x09uniform\x20float\x20refractionRatio;\x0a\x09#else\x0a\x09\x09varying\x20vec3\x20vReflect;\x0a\x09#endif\x0a#endif','envmap_pars_vertex':'#ifdef\x20USE_ENVMAP\x0a\x09#if\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP\x20)\x20||\x20defined(\x20PHONG\x20)\x20||\x20defined(\x20LAMBERT\x20)\x0a\x09\x09#define\x20ENV_WORLDPOS\x0a\x09#endif\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09\x0a\x09\x09varying\x20vec3\x20vWorldPosition;\x0a\x09#else\x0a\x09\x09varying\x20vec3\x20vReflect;\x0a\x09\x09uniform\x20float\x20refractionRatio;\x0a\x09#endif\x0a#endif','envmap_physical_pars_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09vec3\x20getIBLIrradiance(\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09\x09#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09\x09\x09vec4\x20envMapColor\x20=\x20textureCubeUV(\x20envMap,\x20envMapRotation\x20*\x20worldNormal,\x201.0\x20);\x0a\x09\x09\x09return\x20PI\x20*\x20envMapColor.rgb\x20*\x20envMapIntensity;\x0a\x09\x09#else\x0a\x09\x09\x09return\x20vec3(\x200.0\x20);\x0a\x09\x09#endif\x0a\x09}\x0a\x09vec3\x20getIBLRadiance(\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09\x09#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09vec3\x20reflectVec\x20=\x20reflect(\x20-\x20viewDir,\x20normal\x20);\x0a\x09\x09\x09reflectVec\x20=\x20normalize(\x20mix(\x20reflectVec,\x20normal,\x20roughness\x20*\x20roughness)\x20);\x0a\x09\x09\x09reflectVec\x20=\x20inverseTransformDirection(\x20reflectVec,\x20viewMatrix\x20);\x0a\x09\x09\x09vec4\x20envMapColor\x20=\x20textureCubeUV(\x20envMap,\x20envMapRotation\x20*\x20reflectVec,\x20roughness\x20);\x0a\x09\x09\x09return\x20envMapColor.rgb\x20*\x20envMapIntensity;\x0a\x09\x09#else\x0a\x09\x09\x09return\x20vec3(\x200.0\x20);\x0a\x09\x09#endif\x0a\x09}\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09vec3\x20getIBLAnisotropyRadiance(\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20vec3\x20bitangent,\x20const\x20in\x20float\x20anisotropy\x20)\x20{\x0a\x09\x09\x09#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09\x09vec3\x20bentNormal\x20=\x20cross(\x20bitangent,\x20viewDir\x20);\x0a\x09\x09\x09\x09bentNormal\x20=\x20normalize(\x20cross(\x20bentNormal,\x20bitangent\x20)\x20);\x0a\x09\x09\x09\x09bentNormal\x20=\x20normalize(\x20mix(\x20bentNormal,\x20normal,\x20pow2(\x20pow2(\x201.0\x20-\x20anisotropy\x20*\x20(\x201.0\x20-\x20roughness\x20)\x20)\x20)\x20)\x20);\x0a\x09\x09\x09\x09return\x20getIBLRadiance(\x20viewDir,\x20bentNormal,\x20roughness\x20);\x0a\x09\x09\x09#else\x0a\x09\x09\x09\x09return\x20vec3(\x200.0\x20);\x0a\x09\x09\x09#endif\x0a\x09\x09}\x0a\x09#endif\x0a#endif','envmap_vertex':'#ifdef\x20USE_ENVMAP\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09vWorldPosition\x20=\x20worldPosition.xyz;\x0a\x09#else\x0a\x09\x09vec3\x20cameraToVertex;\x0a\x09\x09if\x20(\x20isOrthographic\x20)\x20{\x0a\x09\x09\x09cameraToVertex\x20=\x20normalize(\x20vec3(\x20-\x20viewMatrix[\x200\x20][\x202\x20],\x20-\x20viewMatrix[\x201\x20][\x202\x20],\x20-\x20viewMatrix[\x202\x20][\x202\x20]\x20)\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09cameraToVertex\x20=\x20normalize(\x20worldPosition.xyz\x20-\x20cameraPosition\x20);\x0a\x09\x09}\x0a\x09\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20transformedNormal,\x20viewMatrix\x20);\x0a\x09\x09#ifdef\x20ENVMAP_MODE_REFLECTION\x0a\x09\x09\x09vReflect\x20=\x20reflect(\x20cameraToVertex,\x20worldNormal\x20);\x0a\x09\x09#else\x0a\x09\x09\x09vReflect\x20=\x20refract(\x20cameraToVertex,\x20worldNormal,\x20refractionRatio\x20);\x0a\x09\x09#endif\x0a\x09#endif\x0a#endif','fog_vertex':'#ifdef\x20USE_FOG\x0a\x09vFogDepth\x20=\x20-\x20mvPosition.z;\x0a#endif','fog_pars_vertex':'#ifdef\x20USE_FOG\x0a\x09varying\x20float\x20vFogDepth;\x0a#endif','fog_fragment':'#ifdef\x20USE_FOG\x0a\x09#ifdef\x20FOG_EXP2\x0a\x09\x09float\x20fogFactor\x20=\x201.0\x20-\x20exp(\x20-\x20fogDensity\x20*\x20fogDensity\x20*\x20vFogDepth\x20*\x20vFogDepth\x20);\x0a\x09#else\x0a\x09\x09float\x20fogFactor\x20=\x20smoothstep(\x20fogNear,\x20fogFar,\x20vFogDepth\x20);\x0a\x09#endif\x0a\x09gl_FragColor.rgb\x20=\x20mix(\x20gl_FragColor.rgb,\x20fogColor,\x20fogFactor\x20);\x0a#endif','fog_pars_fragment':'#ifdef\x20USE_FOG\x0a\x09uniform\x20vec3\x20fogColor;\x0a\x09varying\x20float\x20vFogDepth;\x0a\x09#ifdef\x20FOG_EXP2\x0a\x09\x09uniform\x20float\x20fogDensity;\x0a\x09#else\x0a\x09\x09uniform\x20float\x20fogNear;\x0a\x09\x09uniform\x20float\x20fogFar;\x0a\x09#endif\x0a#endif','gradientmap_pars_fragment':'#ifdef\x20USE_GRADIENTMAP\x0a\x09uniform\x20sampler2D\x20gradientMap;\x0a#endif\x0avec3\x20getGradientIrradiance(\x20vec3\x20normal,\x20vec3\x20lightDirection\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20dot(\x20normal,\x20lightDirection\x20);\x0a\x09vec2\x20coord\x20=\x20vec2(\x20dotNL\x20*\x200.5\x20+\x200.5,\x200.0\x20);\x0a\x09#ifdef\x20USE_GRADIENTMAP\x0a\x09\x09return\x20vec3(\x20texture2D(\x20gradientMap,\x20coord\x20).r\x20);\x0a\x09#else\x0a\x09\x09vec2\x20fw\x20=\x20fwidth(\x20coord\x20)\x20*\x200.5;\x0a\x09\x09return\x20mix(\x20vec3(\x200.7\x20),\x20vec3(\x201.0\x20),\x20smoothstep(\x200.7\x20-\x20fw.x,\x200.7\x20+\x20fw.x,\x20coord.x\x20)\x20);\x0a\x09#endif\x0a}','lightmap_pars_fragment':'#ifdef\x20USE_LIGHTMAP\x0a\x09uniform\x20sampler2D\x20lightMap;\x0a\x09uniform\x20float\x20lightMapIntensity;\x0a#endif','lights_lambert_fragment':'LambertMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb;\x0amaterial.specularStrength\x20=\x20specularStrength;','lights_lambert_pars_fragment':'varying\x20vec3\x20vViewPosition;\x0astruct\x20LambertMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a\x09float\x20specularStrength;\x0a};\x0avoid\x20RE_Direct_Lambert(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20LambertMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20directLight.direction\x20)\x20);\x0a\x09vec3\x20irradiance\x20=\x20dotNL\x20*\x20directLight.color;\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectDiffuse_Lambert(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20LambertMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_Lambert\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_Lambert','lights_pars_begin':'uniform\x20bool\x20receiveShadow;\x0auniform\x20vec3\x20ambientLightColor;\x0a#if\x20defined(\x20USE_LIGHT_PROBES\x20)\x0a\x09uniform\x20vec3\x20lightProbe[\x209\x20];\x0a#endif\x0avec3\x20shGetIrradianceAt(\x20in\x20vec3\x20normal,\x20in\x20vec3\x20shCoefficients[\x209\x20]\x20)\x20{\x0a\x09float\x20x\x20=\x20normal.x,\x20y\x20=\x20normal.y,\x20z\x20=\x20normal.z;\x0a\x09vec3\x20result\x20=\x20shCoefficients[\x200\x20]\x20*\x200.886227;\x0a\x09result\x20+=\x20shCoefficients[\x201\x20]\x20*\x202.0\x20*\x200.511664\x20*\x20y;\x0a\x09result\x20+=\x20shCoefficients[\x202\x20]\x20*\x202.0\x20*\x200.511664\x20*\x20z;\x0a\x09result\x20+=\x20shCoefficients[\x203\x20]\x20*\x202.0\x20*\x200.511664\x20*\x20x;\x0a\x09result\x20+=\x20shCoefficients[\x204\x20]\x20*\x202.0\x20*\x200.429043\x20*\x20x\x20*\x20y;\x0a\x09result\x20+=\x20shCoefficients[\x205\x20]\x20*\x202.0\x20*\x200.429043\x20*\x20y\x20*\x20z;\x0a\x09result\x20+=\x20shCoefficients[\x206\x20]\x20*\x20(\x200.743125\x20*\x20z\x20*\x20z\x20-\x200.247708\x20);\x0a\x09result\x20+=\x20shCoefficients[\x207\x20]\x20*\x202.0\x20*\x200.429043\x20*\x20x\x20*\x20z;\x0a\x09result\x20+=\x20shCoefficients[\x208\x20]\x20*\x200.429043\x20*\x20(\x20x\x20*\x20x\x20-\x20y\x20*\x20y\x20);\x0a\x09return\x20result;\x0a}\x0avec3\x20getLightProbeIrradiance(\x20const\x20in\x20vec3\x20lightProbe[\x209\x20],\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09vec3\x20irradiance\x20=\x20shGetIrradianceAt(\x20worldNormal,\x20lightProbe\x20);\x0a\x09return\x20irradiance;\x0a}\x0avec3\x20getAmbientLightIrradiance(\x20const\x20in\x20vec3\x20ambientLightColor\x20)\x20{\x0a\x09vec3\x20irradiance\x20=\x20ambientLightColor;\x0a\x09return\x20irradiance;\x0a}\x0afloat\x20getDistanceAttenuation(\x20const\x20in\x20float\x20lightDistance,\x20const\x20in\x20float\x20cutoffDistance,\x20const\x20in\x20float\x20decayExponent\x20)\x20{\x0a\x09float\x20distanceFalloff\x20=\x201.0\x20/\x20max(\x20pow(\x20lightDistance,\x20decayExponent\x20),\x200.01\x20);\x0a\x09if\x20(\x20cutoffDistance\x20>\x200.0\x20)\x20{\x0a\x09\x09distanceFalloff\x20*=\x20pow2(\x20saturate(\x201.0\x20-\x20pow4(\x20lightDistance\x20/\x20cutoffDistance\x20)\x20)\x20);\x0a\x09}\x0a\x09return\x20distanceFalloff;\x0a}\x0afloat\x20getSpotAttenuation(\x20const\x20in\x20float\x20coneCosine,\x20const\x20in\x20float\x20penumbraCosine,\x20const\x20in\x20float\x20angleCosine\x20)\x20{\x0a\x09return\x20smoothstep(\x20coneCosine,\x20penumbraCosine,\x20angleCosine\x20);\x0a}\x0a#if\x20NUM_DIR_LIGHTS\x20>\x200\x0a\x09struct\x20DirectionalLight\x20{\x0a\x09\x09vec3\x20direction;\x0a\x09\x09vec3\x20color;\x0a\x09};\x0a\x09uniform\x20DirectionalLight\x20directionalLights[\x20NUM_DIR_LIGHTS\x20];\x0a\x09void\x20getDirectionalLightInfo(\x20const\x20in\x20DirectionalLight\x20directionalLight,\x20out\x20IncidentLight\x20light\x20)\x20{\x0a\x09\x09light.color\x20=\x20directionalLight.color;\x0a\x09\x09light.direction\x20=\x20directionalLight.direction;\x0a\x09\x09light.visible\x20=\x20true;\x0a\x09}\x0a#endif\x0a#if\x20NUM_POINT_LIGHTS\x20>\x200\x0a\x09struct\x20PointLight\x20{\x0a\x09\x09vec3\x20position;\x0a\x09\x09vec3\x20color;\x0a\x09\x09float\x20distance;\x0a\x09\x09float\x20decay;\x0a\x09};\x0a\x09uniform\x20PointLight\x20pointLights[\x20NUM_POINT_LIGHTS\x20];\x0a\x09void\x20getPointLightInfo(\x20const\x20in\x20PointLight\x20pointLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20out\x20IncidentLight\x20light\x20)\x20{\x0a\x09\x09vec3\x20lVector\x20=\x20pointLight.position\x20-\x20geometryPosition;\x0a\x09\x09light.direction\x20=\x20normalize(\x20lVector\x20);\x0a\x09\x09float\x20lightDistance\x20=\x20length(\x20lVector\x20);\x0a\x09\x09light.color\x20=\x20pointLight.color;\x0a\x09\x09light.color\x20*=\x20getDistanceAttenuation(\x20lightDistance,\x20pointLight.distance,\x20pointLight.decay\x20);\x0a\x09\x09light.visible\x20=\x20(\x20light.color\x20!=\x20vec3(\x200.0\x20)\x20);\x0a\x09}\x0a#endif\x0a#if\x20NUM_SPOT_LIGHTS\x20>\x200\x0a\x09struct\x20SpotLight\x20{\x0a\x09\x09vec3\x20position;\x0a\x09\x09vec3\x20direction;\x0a\x09\x09vec3\x20color;\x0a\x09\x09float\x20distance;\x0a\x09\x09float\x20decay;\x0a\x09\x09float\x20coneCos;\x0a\x09\x09float\x20penumbraCos;\x0a\x09};\x0a\x09uniform\x20SpotLight\x20spotLights[\x20NUM_SPOT_LIGHTS\x20];\x0a\x09void\x20getSpotLightInfo(\x20const\x20in\x20SpotLight\x20spotLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20out\x20IncidentLight\x20light\x20)\x20{\x0a\x09\x09vec3\x20lVector\x20=\x20spotLight.position\x20-\x20geometryPosition;\x0a\x09\x09light.direction\x20=\x20normalize(\x20lVector\x20);\x0a\x09\x09float\x20angleCos\x20=\x20dot(\x20light.direction,\x20spotLight.direction\x20);\x0a\x09\x09float\x20spotAttenuation\x20=\x20getSpotAttenuation(\x20spotLight.coneCos,\x20spotLight.penumbraCos,\x20angleCos\x20);\x0a\x09\x09if\x20(\x20spotAttenuation\x20>\x200.0\x20)\x20{\x0a\x09\x09\x09float\x20lightDistance\x20=\x20length(\x20lVector\x20);\x0a\x09\x09\x09light.color\x20=\x20spotLight.color\x20*\x20spotAttenuation;\x0a\x09\x09\x09light.color\x20*=\x20getDistanceAttenuation(\x20lightDistance,\x20spotLight.distance,\x20spotLight.decay\x20);\x0a\x09\x09\x09light.visible\x20=\x20(\x20light.color\x20!=\x20vec3(\x200.0\x20)\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09light.color\x20=\x20vec3(\x200.0\x20);\x0a\x09\x09\x09light.visible\x20=\x20false;\x0a\x09\x09}\x0a\x09}\x0a#endif\x0a#if\x20NUM_RECT_AREA_LIGHTS\x20>\x200\x0a\x09struct\x20RectAreaLight\x20{\x0a\x09\x09vec3\x20color;\x0a\x09\x09vec3\x20position;\x0a\x09\x09vec3\x20halfWidth;\x0a\x09\x09vec3\x20halfHeight;\x0a\x09};\x0a\x09uniform\x20sampler2D\x20ltc_1;\x09uniform\x20sampler2D\x20ltc_2;\x0a\x09uniform\x20RectAreaLight\x20rectAreaLights[\x20NUM_RECT_AREA_LIGHTS\x20];\x0a#endif\x0a#if\x20NUM_HEMI_LIGHTS\x20>\x200\x0a\x09struct\x20HemisphereLight\x20{\x0a\x09\x09vec3\x20direction;\x0a\x09\x09vec3\x20skyColor;\x0a\x09\x09vec3\x20groundColor;\x0a\x09};\x0a\x09uniform\x20HemisphereLight\x20hemisphereLights[\x20NUM_HEMI_LIGHTS\x20];\x0a\x09vec3\x20getHemisphereLightIrradiance(\x20const\x20in\x20HemisphereLight\x20hemiLight,\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09\x09float\x20dotNL\x20=\x20dot(\x20normal,\x20hemiLight.direction\x20);\x0a\x09\x09float\x20hemiDiffuseWeight\x20=\x200.5\x20*\x20dotNL\x20+\x200.5;\x0a\x09\x09vec3\x20irradiance\x20=\x20mix(\x20hemiLight.groundColor,\x20hemiLight.skyColor,\x20hemiDiffuseWeight\x20);\x0a\x09\x09return\x20irradiance;\x0a\x09}\x0a#endif','lights_toon_fragment':'ToonMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb;','lights_toon_pars_fragment':'varying\x20vec3\x20vViewPosition;\x0astruct\x20ToonMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a};\x0avoid\x20RE_Direct_Toon(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20ToonMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09vec3\x20irradiance\x20=\x20getGradientIrradiance(\x20geometryNormal,\x20directLight.direction\x20)\x20*\x20directLight.color;\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectDiffuse_Toon(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20ToonMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_Toon\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_Toon','lights_phong_fragment':'BlinnPhongMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb;\x0amaterial.specularColor\x20=\x20specular;\x0amaterial.specularShininess\x20=\x20shininess;\x0amaterial.specularStrength\x20=\x20specularStrength;','lights_phong_pars_fragment':'varying\x20vec3\x20vViewPosition;\x0astruct\x20BlinnPhongMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a\x09vec3\x20specularColor;\x0a\x09float\x20specularShininess;\x0a\x09float\x20specularStrength;\x0a};\x0avoid\x20RE_Direct_BlinnPhong(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20BlinnPhongMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20directLight.direction\x20)\x20);\x0a\x09vec3\x20irradiance\x20=\x20dotNL\x20*\x20directLight.color;\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a\x09reflectedLight.directSpecular\x20+=\x20irradiance\x20*\x20BRDF_BlinnPhong(\x20directLight.direction,\x20geometryViewDir,\x20geometryNormal,\x20material.specularColor,\x20material.specularShininess\x20)\x20*\x20material.specularStrength;\x0a}\x0avoid\x20RE_IndirectDiffuse_BlinnPhong(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20BlinnPhongMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_BlinnPhong\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_BlinnPhong','lights_physical_fragment':'PhysicalMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb\x20*\x20(\x201.0\x20-\x20metalnessFactor\x20);\x0avec3\x20dxy\x20=\x20max(\x20abs(\x20dFdx(\x20nonPerturbedNormal\x20)\x20),\x20abs(\x20dFdy(\x20nonPerturbedNormal\x20)\x20)\x20);\x0afloat\x20geometryRoughness\x20=\x20max(\x20max(\x20dxy.x,\x20dxy.y\x20),\x20dxy.z\x20);\x0amaterial.roughness\x20=\x20max(\x20roughnessFactor,\x200.0525\x20);material.roughness\x20+=\x20geometryRoughness;\x0amaterial.roughness\x20=\x20min(\x20material.roughness,\x201.0\x20);\x0a#ifdef\x20IOR\x0a\x09material.ior\x20=\x20ior;\x0a\x09#ifdef\x20USE_SPECULAR\x0a\x09\x09float\x20specularIntensityFactor\x20=\x20specularIntensity;\x0a\x09\x09vec3\x20specularColorFactor\x20=\x20specularColor;\x0a\x09\x09#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09\x09\x09specularColorFactor\x20*=\x20texture2D(\x20specularColorMap,\x20vSpecularColorMapUv\x20).rgb;\x0a\x09\x09#endif\x0a\x09\x09#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09\x09\x09specularIntensityFactor\x20*=\x20texture2D(\x20specularIntensityMap,\x20vSpecularIntensityMapUv\x20).a;\x0a\x09\x09#endif\x0a\x09\x09material.specularF90\x20=\x20mix(\x20specularIntensityFactor,\x201.0,\x20metalnessFactor\x20);\x0a\x09#else\x0a\x09\x09float\x20specularIntensityFactor\x20=\x201.0;\x0a\x09\x09vec3\x20specularColorFactor\x20=\x20vec3(\x201.0\x20);\x0a\x09\x09material.specularF90\x20=\x201.0;\x0a\x09#endif\x0a\x09material.specularColor\x20=\x20mix(\x20min(\x20pow2(\x20(\x20material.ior\x20-\x201.0\x20)\x20/\x20(\x20material.ior\x20+\x201.0\x20)\x20)\x20*\x20specularColorFactor,\x20vec3(\x201.0\x20)\x20)\x20*\x20specularIntensityFactor,\x20diffuseColor.rgb,\x20metalnessFactor\x20);\x0a#else\x0a\x09material.specularColor\x20=\x20mix(\x20vec3(\x200.04\x20),\x20diffuseColor.rgb,\x20metalnessFactor\x20);\x0a\x09material.specularF90\x20=\x201.0;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09material.clearcoat\x20=\x20clearcoat;\x0a\x09material.clearcoatRoughness\x20=\x20clearcoatRoughness;\x0a\x09material.clearcoatF0\x20=\x20vec3(\x200.04\x20);\x0a\x09material.clearcoatF90\x20=\x201.0;\x0a\x09#ifdef\x20USE_CLEARCOATMAP\x0a\x09\x09material.clearcoat\x20*=\x20texture2D(\x20clearcoatMap,\x20vClearcoatMapUv\x20).x;\x0a\x09#endif\x0a\x09#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09\x09material.clearcoatRoughness\x20*=\x20texture2D(\x20clearcoatRoughnessMap,\x20vClearcoatRoughnessMapUv\x20).y;\x0a\x09#endif\x0a\x09material.clearcoat\x20=\x20saturate(\x20material.clearcoat\x20);\x09material.clearcoatRoughness\x20=\x20max(\x20material.clearcoatRoughness,\x200.0525\x20);\x0a\x09material.clearcoatRoughness\x20+=\x20geometryRoughness;\x0a\x09material.clearcoatRoughness\x20=\x20min(\x20material.clearcoatRoughness,\x201.0\x20);\x0a#endif\x0a#ifdef\x20USE_DISPERSION\x0a\x09material.dispersion\x20=\x20dispersion;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE\x0a\x09material.iridescence\x20=\x20iridescence;\x0a\x09material.iridescenceIOR\x20=\x20iridescenceIOR;\x0a\x09#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09\x09material.iridescence\x20*=\x20texture2D(\x20iridescenceMap,\x20vIridescenceMapUv\x20).r;\x0a\x09#endif\x0a\x09#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09\x09material.iridescenceThickness\x20=\x20(iridescenceThicknessMaximum\x20-\x20iridescenceThicknessMinimum)\x20*\x20texture2D(\x20iridescenceThicknessMap,\x20vIridescenceThicknessMapUv\x20).g\x20+\x20iridescenceThicknessMinimum;\x0a\x09#else\x0a\x09\x09material.iridescenceThickness\x20=\x20iridescenceThicknessMaximum;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_SHEEN\x0a\x09material.sheenColor\x20=\x20sheenColor;\x0a\x09#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09\x09material.sheenColor\x20*=\x20texture2D(\x20sheenColorMap,\x20vSheenColorMapUv\x20).rgb;\x0a\x09#endif\x0a\x09material.sheenRoughness\x20=\x20clamp(\x20sheenRoughness,\x200.07,\x201.0\x20);\x0a\x09#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09\x09material.sheenRoughness\x20*=\x20texture2D(\x20sheenRoughnessMap,\x20vSheenRoughnessMapUv\x20).a;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_ANISOTROPY\x0a\x09#ifdef\x20USE_ANISOTROPYMAP\x0a\x09\x09mat2\x20anisotropyMat\x20=\x20mat2(\x20anisotropyVector.x,\x20anisotropyVector.y,\x20-\x20anisotropyVector.y,\x20anisotropyVector.x\x20);\x0a\x09\x09vec3\x20anisotropyPolar\x20=\x20texture2D(\x20anisotropyMap,\x20vAnisotropyMapUv\x20).rgb;\x0a\x09\x09vec2\x20anisotropyV\x20=\x20anisotropyMat\x20*\x20normalize(\x202.0\x20*\x20anisotropyPolar.rg\x20-\x20vec2(\x201.0\x20)\x20)\x20*\x20anisotropyPolar.b;\x0a\x09#else\x0a\x09\x09vec2\x20anisotropyV\x20=\x20anisotropyVector;\x0a\x09#endif\x0a\x09material.anisotropy\x20=\x20length(\x20anisotropyV\x20);\x0a\x09if(\x20material.anisotropy\x20==\x200.0\x20)\x20{\x0a\x09\x09anisotropyV\x20=\x20vec2(\x201.0,\x200.0\x20);\x0a\x09}\x20else\x20{\x0a\x09\x09anisotropyV\x20/=\x20material.anisotropy;\x0a\x09\x09material.anisotropy\x20=\x20saturate(\x20material.anisotropy\x20);\x0a\x09}\x0a\x09material.alphaT\x20=\x20mix(\x20pow2(\x20material.roughness\x20),\x201.0,\x20pow2(\x20material.anisotropy\x20)\x20);\x0a\x09material.anisotropyT\x20=\x20tbn[\x200\x20]\x20*\x20anisotropyV.x\x20+\x20tbn[\x201\x20]\x20*\x20anisotropyV.y;\x0a\x09material.anisotropyB\x20=\x20tbn[\x201\x20]\x20*\x20anisotropyV.x\x20-\x20tbn[\x200\x20]\x20*\x20anisotropyV.y;\x0a#endif','lights_physical_pars_fragment':'struct\x20PhysicalMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a\x09float\x20roughness;\x0a\x09vec3\x20specularColor;\x0a\x09float\x20specularF90;\x0a\x09float\x20dispersion;\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09float\x20clearcoat;\x0a\x09\x09float\x20clearcoatRoughness;\x0a\x09\x09vec3\x20clearcoatF0;\x0a\x09\x09float\x20clearcoatF90;\x0a\x09#endif\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09float\x20iridescence;\x0a\x09\x09float\x20iridescenceIOR;\x0a\x09\x09float\x20iridescenceThickness;\x0a\x09\x09vec3\x20iridescenceFresnel;\x0a\x09\x09vec3\x20iridescenceF0;\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09vec3\x20sheenColor;\x0a\x09\x09float\x20sheenRoughness;\x0a\x09#endif\x0a\x09#ifdef\x20IOR\x0a\x09\x09float\x20ior;\x0a\x09#endif\x0a\x09#ifdef\x20USE_TRANSMISSION\x0a\x09\x09float\x20transmission;\x0a\x09\x09float\x20transmissionAlpha;\x0a\x09\x09float\x20thickness;\x0a\x09\x09float\x20attenuationDistance;\x0a\x09\x09vec3\x20attenuationColor;\x0a\x09#endif\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09float\x20anisotropy;\x0a\x09\x09float\x20alphaT;\x0a\x09\x09vec3\x20anisotropyT;\x0a\x09\x09vec3\x20anisotropyB;\x0a\x09#endif\x0a};\x0avec3\x20clearcoatSpecularDirect\x20=\x20vec3(\x200.0\x20);\x0avec3\x20clearcoatSpecularIndirect\x20=\x20vec3(\x200.0\x20);\x0avec3\x20sheenSpecularDirect\x20=\x20vec3(\x200.0\x20);\x0avec3\x20sheenSpecularIndirect\x20=\x20vec3(0.0\x20);\x0avec3\x20Schlick_to_F0(\x20const\x20in\x20vec3\x20f,\x20const\x20in\x20float\x20f90,\x20const\x20in\x20float\x20dotVH\x20)\x20{\x0a\x20\x20\x20\x20float\x20x\x20=\x20clamp(\x201.0\x20-\x20dotVH,\x200.0,\x201.0\x20);\x0a\x20\x20\x20\x20float\x20x2\x20=\x20x\x20*\x20x;\x0a\x20\x20\x20\x20float\x20x5\x20=\x20clamp(\x20x\x20*\x20x2\x20*\x20x2,\x200.0,\x200.9999\x20);\x0a\x20\x20\x20\x20return\x20(\x20f\x20-\x20vec3(\x20f90\x20)\x20*\x20x5\x20)\x20/\x20(\x201.0\x20-\x20x5\x20);\x0a}\x0afloat\x20V_GGX_SmithCorrelated(\x20const\x20in\x20float\x20alpha,\x20const\x20in\x20float\x20dotNL,\x20const\x20in\x20float\x20dotNV\x20)\x20{\x0a\x09float\x20a2\x20=\x20pow2(\x20alpha\x20);\x0a\x09float\x20gv\x20=\x20dotNL\x20*\x20sqrt(\x20a2\x20+\x20(\x201.0\x20-\x20a2\x20)\x20*\x20pow2(\x20dotNV\x20)\x20);\x0a\x09float\x20gl\x20=\x20dotNV\x20*\x20sqrt(\x20a2\x20+\x20(\x201.0\x20-\x20a2\x20)\x20*\x20pow2(\x20dotNL\x20)\x20);\x0a\x09return\x200.5\x20/\x20max(\x20gv\x20+\x20gl,\x20EPSILON\x20);\x0a}\x0afloat\x20D_GGX(\x20const\x20in\x20float\x20alpha,\x20const\x20in\x20float\x20dotNH\x20)\x20{\x0a\x09float\x20a2\x20=\x20pow2(\x20alpha\x20);\x0a\x09float\x20denom\x20=\x20pow2(\x20dotNH\x20)\x20*\x20(\x20a2\x20-\x201.0\x20)\x20+\x201.0;\x0a\x09return\x20RECIPROCAL_PI\x20*\x20a2\x20/\x20pow2(\x20denom\x20);\x0a}\x0a#ifdef\x20USE_ANISOTROPY\x0a\x09float\x20V_GGX_SmithCorrelated_Anisotropic(\x20const\x20in\x20float\x20alphaT,\x20const\x20in\x20float\x20alphaB,\x20const\x20in\x20float\x20dotTV,\x20const\x20in\x20float\x20dotBV,\x20const\x20in\x20float\x20dotTL,\x20const\x20in\x20float\x20dotBL,\x20const\x20in\x20float\x20dotNV,\x20const\x20in\x20float\x20dotNL\x20)\x20{\x0a\x09\x09float\x20gv\x20=\x20dotNL\x20*\x20length(\x20vec3(\x20alphaT\x20*\x20dotTV,\x20alphaB\x20*\x20dotBV,\x20dotNV\x20)\x20);\x0a\x09\x09float\x20gl\x20=\x20dotNV\x20*\x20length(\x20vec3(\x20alphaT\x20*\x20dotTL,\x20alphaB\x20*\x20dotBL,\x20dotNL\x20)\x20);\x0a\x09\x09float\x20v\x20=\x200.5\x20/\x20(\x20gv\x20+\x20gl\x20);\x0a\x09\x09return\x20saturate(v);\x0a\x09}\x0a\x09float\x20D_GGX_Anisotropic(\x20const\x20in\x20float\x20alphaT,\x20const\x20in\x20float\x20alphaB,\x20const\x20in\x20float\x20dotNH,\x20const\x20in\x20float\x20dotTH,\x20const\x20in\x20float\x20dotBH\x20)\x20{\x0a\x09\x09float\x20a2\x20=\x20alphaT\x20*\x20alphaB;\x0a\x09\x09highp\x20vec3\x20v\x20=\x20vec3(\x20alphaB\x20*\x20dotTH,\x20alphaT\x20*\x20dotBH,\x20a2\x20*\x20dotNH\x20);\x0a\x09\x09highp\x20float\x20v2\x20=\x20dot(\x20v,\x20v\x20);\x0a\x09\x09float\x20w2\x20=\x20a2\x20/\x20v2;\x0a\x09\x09return\x20RECIPROCAL_PI\x20*\x20a2\x20*\x20pow2\x20(\x20w2\x20);\x0a\x09}\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09vec3\x20BRDF_GGX_Clearcoat(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20PhysicalMaterial\x20material)\x20{\x0a\x09\x09vec3\x20f0\x20=\x20material.clearcoatF0;\x0a\x09\x09float\x20f90\x20=\x20material.clearcoatF90;\x0a\x09\x09float\x20roughness\x20=\x20material.clearcoatRoughness;\x0a\x09\x09float\x20alpha\x20=\x20pow2(\x20roughness\x20);\x0a\x09\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20normal,\x20lightDir\x20)\x20);\x0a\x09\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09\x09float\x20dotVH\x20=\x20saturate(\x20dot(\x20viewDir,\x20halfDir\x20)\x20);\x0a\x09\x09vec3\x20F\x20=\x20F_Schlick(\x20f0,\x20f90,\x20dotVH\x20);\x0a\x09\x09float\x20V\x20=\x20V_GGX_SmithCorrelated(\x20alpha,\x20dotNL,\x20dotNV\x20);\x0a\x09\x09float\x20D\x20=\x20D_GGX(\x20alpha,\x20dotNH\x20);\x0a\x09\x09return\x20F\x20*\x20(\x20V\x20*\x20D\x20);\x0a\x09}\x0a#endif\x0avec3\x20BRDF_GGX(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20PhysicalMaterial\x20material\x20)\x20{\x0a\x09vec3\x20f0\x20=\x20material.specularColor;\x0a\x09float\x20f90\x20=\x20material.specularF90;\x0a\x09float\x20roughness\x20=\x20material.roughness;\x0a\x09float\x20alpha\x20=\x20pow2(\x20roughness\x20);\x0a\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20normal,\x20lightDir\x20)\x20);\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09float\x20dotVH\x20=\x20saturate(\x20dot(\x20viewDir,\x20halfDir\x20)\x20);\x0a\x09vec3\x20F\x20=\x20F_Schlick(\x20f0,\x20f90,\x20dotVH\x20);\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09F\x20=\x20mix(\x20F,\x20material.iridescenceFresnel,\x20material.iridescence\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09float\x20dotTL\x20=\x20dot(\x20material.anisotropyT,\x20lightDir\x20);\x0a\x09\x09float\x20dotTV\x20=\x20dot(\x20material.anisotropyT,\x20viewDir\x20);\x0a\x09\x09float\x20dotTH\x20=\x20dot(\x20material.anisotropyT,\x20halfDir\x20);\x0a\x09\x09float\x20dotBL\x20=\x20dot(\x20material.anisotropyB,\x20lightDir\x20);\x0a\x09\x09float\x20dotBV\x20=\x20dot(\x20material.anisotropyB,\x20viewDir\x20);\x0a\x09\x09float\x20dotBH\x20=\x20dot(\x20material.anisotropyB,\x20halfDir\x20);\x0a\x09\x09float\x20V\x20=\x20V_GGX_SmithCorrelated_Anisotropic(\x20material.alphaT,\x20alpha,\x20dotTV,\x20dotBV,\x20dotTL,\x20dotBL,\x20dotNV,\x20dotNL\x20);\x0a\x09\x09float\x20D\x20=\x20D_GGX_Anisotropic(\x20material.alphaT,\x20alpha,\x20dotNH,\x20dotTH,\x20dotBH\x20);\x0a\x09#else\x0a\x09\x09float\x20V\x20=\x20V_GGX_SmithCorrelated(\x20alpha,\x20dotNL,\x20dotNV\x20);\x0a\x09\x09float\x20D\x20=\x20D_GGX(\x20alpha,\x20dotNH\x20);\x0a\x09#endif\x0a\x09return\x20F\x20*\x20(\x20V\x20*\x20D\x20);\x0a}\x0avec2\x20LTC_Uv(\x20const\x20in\x20vec3\x20N,\x20const\x20in\x20vec3\x20V,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09const\x20float\x20LUT_SIZE\x20=\x2064.0;\x0a\x09const\x20float\x20LUT_SCALE\x20=\x20(\x20LUT_SIZE\x20-\x201.0\x20)\x20/\x20LUT_SIZE;\x0a\x09const\x20float\x20LUT_BIAS\x20=\x200.5\x20/\x20LUT_SIZE;\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20N,\x20V\x20)\x20);\x0a\x09vec2\x20uv\x20=\x20vec2(\x20roughness,\x20sqrt(\x201.0\x20-\x20dotNV\x20)\x20);\x0a\x09uv\x20=\x20uv\x20*\x20LUT_SCALE\x20+\x20LUT_BIAS;\x0a\x09return\x20uv;\x0a}\x0afloat\x20LTC_ClippedSphereFormFactor(\x20const\x20in\x20vec3\x20f\x20)\x20{\x0a\x09float\x20l\x20=\x20length(\x20f\x20);\x0a\x09return\x20max(\x20(\x20l\x20*\x20l\x20+\x20f.z\x20)\x20/\x20(\x20l\x20+\x201.0\x20),\x200.0\x20);\x0a}\x0avec3\x20LTC_EdgeVectorFormFactor(\x20const\x20in\x20vec3\x20v1,\x20const\x20in\x20vec3\x20v2\x20)\x20{\x0a\x09float\x20x\x20=\x20dot(\x20v1,\x20v2\x20);\x0a\x09float\x20y\x20=\x20abs(\x20x\x20);\x0a\x09float\x20a\x20=\x200.8543985\x20+\x20(\x200.4965155\x20+\x200.0145206\x20*\x20y\x20)\x20*\x20y;\x0a\x09float\x20b\x20=\x203.4175940\x20+\x20(\x204.1616724\x20+\x20y\x20)\x20*\x20y;\x0a\x09float\x20v\x20=\x20a\x20/\x20b;\x0a\x09float\x20theta_sintheta\x20=\x20(\x20x\x20>\x200.0\x20)\x20?\x20v\x20:\x200.5\x20*\x20inversesqrt(\x20max(\x201.0\x20-\x20x\x20*\x20x,\x201e-7\x20)\x20)\x20-\x20v;\x0a\x09return\x20cross(\x20v1,\x20v2\x20)\x20*\x20theta_sintheta;\x0a}\x0avec3\x20LTC_Evaluate(\x20const\x20in\x20vec3\x20N,\x20const\x20in\x20vec3\x20V,\x20const\x20in\x20vec3\x20P,\x20const\x20in\x20mat3\x20mInv,\x20const\x20in\x20vec3\x20rectCoords[\x204\x20]\x20)\x20{\x0a\x09vec3\x20v1\x20=\x20rectCoords[\x201\x20]\x20-\x20rectCoords[\x200\x20];\x0a\x09vec3\x20v2\x20=\x20rectCoords[\x203\x20]\x20-\x20rectCoords[\x200\x20];\x0a\x09vec3\x20lightNormal\x20=\x20cross(\x20v1,\x20v2\x20);\x0a\x09if(\x20dot(\x20lightNormal,\x20P\x20-\x20rectCoords[\x200\x20]\x20)\x20<\x200.0\x20)\x20return\x20vec3(\x200.0\x20);\x0a\x09vec3\x20T1,\x20T2;\x0a\x09T1\x20=\x20normalize(\x20V\x20-\x20N\x20*\x20dot(\x20V,\x20N\x20)\x20);\x0a\x09T2\x20=\x20-\x20cross(\x20N,\x20T1\x20);\x0a\x09mat3\x20mat\x20=\x20mInv\x20*\x20transposeMat3(\x20mat3(\x20T1,\x20T2,\x20N\x20)\x20);\x0a\x09vec3\x20coords[\x204\x20];\x0a\x09coords[\x200\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x200\x20]\x20-\x20P\x20);\x0a\x09coords[\x201\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x201\x20]\x20-\x20P\x20);\x0a\x09coords[\x202\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x202\x20]\x20-\x20P\x20);\x0a\x09coords[\x203\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x203\x20]\x20-\x20P\x20);\x0a\x09coords[\x200\x20]\x20=\x20normalize(\x20coords[\x200\x20]\x20);\x0a\x09coords[\x201\x20]\x20=\x20normalize(\x20coords[\x201\x20]\x20);\x0a\x09coords[\x202\x20]\x20=\x20normalize(\x20coords[\x202\x20]\x20);\x0a\x09coords[\x203\x20]\x20=\x20normalize(\x20coords[\x203\x20]\x20);\x0a\x09vec3\x20vectorFormFactor\x20=\x20vec3(\x200.0\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x200\x20],\x20coords[\x201\x20]\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x201\x20],\x20coords[\x202\x20]\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x202\x20],\x20coords[\x203\x20]\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x203\x20],\x20coords[\x200\x20]\x20);\x0a\x09float\x20result\x20=\x20LTC_ClippedSphereFormFactor(\x20vectorFormFactor\x20);\x0a\x09return\x20vec3(\x20result\x20);\x0a}\x0a#if\x20defined(\x20USE_SHEEN\x20)\x0afloat\x20D_Charlie(\x20float\x20roughness,\x20float\x20dotNH\x20)\x20{\x0a\x09float\x20alpha\x20=\x20pow2(\x20roughness\x20);\x0a\x09float\x20invAlpha\x20=\x201.0\x20/\x20alpha;\x0a\x09float\x20cos2h\x20=\x20dotNH\x20*\x20dotNH;\x0a\x09float\x20sin2h\x20=\x20max(\x201.0\x20-\x20cos2h,\x200.0078125\x20);\x0a\x09return\x20(\x202.0\x20+\x20invAlpha\x20)\x20*\x20pow(\x20sin2h,\x20invAlpha\x20*\x200.5\x20)\x20/\x20(\x202.0\x20*\x20PI\x20);\x0a}\x0afloat\x20V_Neubelt(\x20float\x20dotNV,\x20float\x20dotNL\x20)\x20{\x0a\x09return\x20saturate(\x201.0\x20/\x20(\x204.0\x20*\x20(\x20dotNL\x20+\x20dotNV\x20-\x20dotNL\x20*\x20dotNV\x20)\x20)\x20);\x0a}\x0avec3\x20BRDF_Sheen(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20vec3\x20sheenColor,\x20const\x20in\x20float\x20sheenRoughness\x20)\x20{\x0a\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20normal,\x20lightDir\x20)\x20);\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09float\x20D\x20=\x20D_Charlie(\x20sheenRoughness,\x20dotNH\x20);\x0a\x09float\x20V\x20=\x20V_Neubelt(\x20dotNV,\x20dotNL\x20);\x0a\x09return\x20sheenColor\x20*\x20(\x20D\x20*\x20V\x20);\x0a}\x0a#endif\x0afloat\x20IBLSheenBRDF(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09float\x20r2\x20=\x20roughness\x20*\x20roughness;\x0a\x09float\x20a\x20=\x20roughness\x20<\x200.25\x20?\x20-339.2\x20*\x20r2\x20+\x20161.4\x20*\x20roughness\x20-\x2025.9\x20:\x20-8.48\x20*\x20r2\x20+\x2014.3\x20*\x20roughness\x20-\x209.95;\x0a\x09float\x20b\x20=\x20roughness\x20<\x200.25\x20?\x2044.0\x20*\x20r2\x20-\x2023.7\x20*\x20roughness\x20+\x203.26\x20:\x201.97\x20*\x20r2\x20-\x203.27\x20*\x20roughness\x20+\x200.72;\x0a\x09float\x20DG\x20=\x20exp(\x20a\x20*\x20dotNV\x20+\x20b\x20)\x20+\x20(\x20roughness\x20<\x200.25\x20?\x200.0\x20:\x200.1\x20*\x20(\x20roughness\x20-\x200.25\x20)\x20);\x0a\x09return\x20saturate(\x20DG\x20*\x20RECIPROCAL_PI\x20);\x0a}\x0avec2\x20DFGApprox(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09const\x20vec4\x20c0\x20=\x20vec4(\x20-\x201,\x20-\x200.0275,\x20-\x200.572,\x200.022\x20);\x0a\x09const\x20vec4\x20c1\x20=\x20vec4(\x201,\x200.0425,\x201.04,\x20-\x200.04\x20);\x0a\x09vec4\x20r\x20=\x20roughness\x20*\x20c0\x20+\x20c1;\x0a\x09float\x20a004\x20=\x20min(\x20r.x\x20*\x20r.x,\x20exp2(\x20-\x209.28\x20*\x20dotNV\x20)\x20)\x20*\x20r.x\x20+\x20r.y;\x0a\x09vec2\x20fab\x20=\x20vec2(\x20-\x201.04,\x201.04\x20)\x20*\x20a004\x20+\x20r.zw;\x0a\x09return\x20fab;\x0a}\x0avec3\x20EnvironmentBRDF(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09vec2\x20fab\x20=\x20DFGApprox(\x20normal,\x20viewDir,\x20roughness\x20);\x0a\x09return\x20specularColor\x20*\x20fab.x\x20+\x20specularF90\x20*\x20fab.y;\x0a}\x0a#ifdef\x20USE_IRIDESCENCE\x0avoid\x20computeMultiscatteringIridescence(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20float\x20iridescence,\x20const\x20in\x20vec3\x20iridescenceF0,\x20const\x20in\x20float\x20roughness,\x20inout\x20vec3\x20singleScatter,\x20inout\x20vec3\x20multiScatter\x20)\x20{\x0a#else\x0avoid\x20computeMultiscattering(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20float\x20roughness,\x20inout\x20vec3\x20singleScatter,\x20inout\x20vec3\x20multiScatter\x20)\x20{\x0a#endif\x0a\x09vec2\x20fab\x20=\x20DFGApprox(\x20normal,\x20viewDir,\x20roughness\x20);\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09vec3\x20Fr\x20=\x20mix(\x20specularColor,\x20iridescenceF0,\x20iridescence\x20);\x0a\x09#else\x0a\x09\x09vec3\x20Fr\x20=\x20specularColor;\x0a\x09#endif\x0a\x09vec3\x20FssEss\x20=\x20Fr\x20*\x20fab.x\x20+\x20specularF90\x20*\x20fab.y;\x0a\x09float\x20Ess\x20=\x20fab.x\x20+\x20fab.y;\x0a\x09float\x20Ems\x20=\x201.0\x20-\x20Ess;\x0a\x09vec3\x20Favg\x20=\x20Fr\x20+\x20(\x201.0\x20-\x20Fr\x20)\x20*\x200.047619;\x09vec3\x20Fms\x20=\x20FssEss\x20*\x20Favg\x20/\x20(\x201.0\x20-\x20Ems\x20*\x20Favg\x20);\x0a\x09singleScatter\x20+=\x20FssEss;\x0a\x09multiScatter\x20+=\x20Fms\x20*\x20Ems;\x0a}\x0a#if\x20NUM_RECT_AREA_LIGHTS\x20>\x200\x0a\x09void\x20RE_Direct_RectArea_Physical(\x20const\x20in\x20RectAreaLight\x20rectAreaLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09\x09vec3\x20normal\x20=\x20geometryNormal;\x0a\x09\x09vec3\x20viewDir\x20=\x20geometryViewDir;\x0a\x09\x09vec3\x20position\x20=\x20geometryPosition;\x0a\x09\x09vec3\x20lightPos\x20=\x20rectAreaLight.position;\x0a\x09\x09vec3\x20halfWidth\x20=\x20rectAreaLight.halfWidth;\x0a\x09\x09vec3\x20halfHeight\x20=\x20rectAreaLight.halfHeight;\x0a\x09\x09vec3\x20lightColor\x20=\x20rectAreaLight.color;\x0a\x09\x09float\x20roughness\x20=\x20material.roughness;\x0a\x09\x09vec3\x20rectCoords[\x204\x20];\x0a\x09\x09rectCoords[\x200\x20]\x20=\x20lightPos\x20+\x20halfWidth\x20-\x20halfHeight;\x09\x09rectCoords[\x201\x20]\x20=\x20lightPos\x20-\x20halfWidth\x20-\x20halfHeight;\x0a\x09\x09rectCoords[\x202\x20]\x20=\x20lightPos\x20-\x20halfWidth\x20+\x20halfHeight;\x0a\x09\x09rectCoords[\x203\x20]\x20=\x20lightPos\x20+\x20halfWidth\x20+\x20halfHeight;\x0a\x09\x09vec2\x20uv\x20=\x20LTC_Uv(\x20normal,\x20viewDir,\x20roughness\x20);\x0a\x09\x09vec4\x20t1\x20=\x20texture2D(\x20ltc_1,\x20uv\x20);\x0a\x09\x09vec4\x20t2\x20=\x20texture2D(\x20ltc_2,\x20uv\x20);\x0a\x09\x09mat3\x20mInv\x20=\x20mat3(\x0a\x09\x09\x09vec3(\x20t1.x,\x200,\x20t1.y\x20),\x0a\x09\x09\x09vec3(\x20\x20\x20\x200,\x201,\x20\x20\x20\x200\x20),\x0a\x09\x09\x09vec3(\x20t1.z,\x200,\x20t1.w\x20)\x0a\x09\x09);\x0a\x09\x09vec3\x20fresnel\x20=\x20(\x20material.specularColor\x20*\x20t2.x\x20+\x20(\x20vec3(\x201.0\x20)\x20-\x20material.specularColor\x20)\x20*\x20t2.y\x20);\x0a\x09\x09reflectedLight.directSpecular\x20+=\x20lightColor\x20*\x20fresnel\x20*\x20LTC_Evaluate(\x20normal,\x20viewDir,\x20position,\x20mInv,\x20rectCoords\x20);\x0a\x09\x09reflectedLight.directDiffuse\x20+=\x20lightColor\x20*\x20material.diffuseColor\x20*\x20LTC_Evaluate(\x20normal,\x20viewDir,\x20position,\x20mat3(\x201.0\x20),\x20rectCoords\x20);\x0a\x09}\x0a#endif\x0avoid\x20RE_Direct_Physical(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20directLight.direction\x20)\x20);\x0a\x09vec3\x20irradiance\x20=\x20dotNL\x20*\x20directLight.color;\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09float\x20dotNLcc\x20=\x20saturate(\x20dot(\x20geometryClearcoatNormal,\x20directLight.direction\x20)\x20);\x0a\x09\x09vec3\x20ccIrradiance\x20=\x20dotNLcc\x20*\x20directLight.color;\x0a\x09\x09clearcoatSpecularDirect\x20+=\x20ccIrradiance\x20*\x20BRDF_GGX_Clearcoat(\x20directLight.direction,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09sheenSpecularDirect\x20+=\x20irradiance\x20*\x20BRDF_Sheen(\x20directLight.direction,\x20geometryViewDir,\x20geometryNormal,\x20material.sheenColor,\x20material.sheenRoughness\x20);\x0a\x09#endif\x0a\x09reflectedLight.directSpecular\x20+=\x20irradiance\x20*\x20BRDF_GGX(\x20directLight.direction,\x20geometryViewDir,\x20geometryNormal,\x20material\x20);\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectDiffuse_Physical(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectSpecular_Physical(\x20const\x20in\x20vec3\x20radiance,\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20clearcoatRadiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight)\x20{\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09clearcoatSpecularIndirect\x20+=\x20clearcoatRadiance\x20*\x20EnvironmentBRDF(\x20geometryClearcoatNormal,\x20geometryViewDir,\x20material.clearcoatF0,\x20material.clearcoatF90,\x20material.clearcoatRoughness\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09sheenSpecularIndirect\x20+=\x20irradiance\x20*\x20material.sheenColor\x20*\x20IBLSheenBRDF(\x20geometryNormal,\x20geometryViewDir,\x20material.sheenRoughness\x20);\x0a\x09#endif\x0a\x09vec3\x20singleScattering\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20multiScattering\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20cosineWeightedIrradiance\x20=\x20irradiance\x20*\x20RECIPROCAL_PI;\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09computeMultiscatteringIridescence(\x20geometryNormal,\x20geometryViewDir,\x20material.specularColor,\x20material.specularF90,\x20material.iridescence,\x20material.iridescenceFresnel,\x20material.roughness,\x20singleScattering,\x20multiScattering\x20);\x0a\x09#else\x0a\x09\x09computeMultiscattering(\x20geometryNormal,\x20geometryViewDir,\x20material.specularColor,\x20material.specularF90,\x20material.roughness,\x20singleScattering,\x20multiScattering\x20);\x0a\x09#endif\x0a\x09vec3\x20totalScattering\x20=\x20singleScattering\x20+\x20multiScattering;\x0a\x09vec3\x20diffuse\x20=\x20material.diffuseColor\x20*\x20(\x201.0\x20-\x20max(\x20max(\x20totalScattering.r,\x20totalScattering.g\x20),\x20totalScattering.b\x20)\x20);\x0a\x09reflectedLight.indirectSpecular\x20+=\x20radiance\x20*\x20singleScattering;\x0a\x09reflectedLight.indirectSpecular\x20+=\x20multiScattering\x20*\x20cosineWeightedIrradiance;\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20diffuse\x20*\x20cosineWeightedIrradiance;\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_Physical\x0a#define\x20RE_Direct_RectArea\x09\x09RE_Direct_RectArea_Physical\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_Physical\x0a#define\x20RE_IndirectSpecular\x09\x09RE_IndirectSpecular_Physical\x0afloat\x20computeSpecularOcclusion(\x20const\x20in\x20float\x20dotNV,\x20const\x20in\x20float\x20ambientOcclusion,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09return\x20saturate(\x20pow(\x20dotNV\x20+\x20ambientOcclusion,\x20exp2(\x20-\x2016.0\x20*\x20roughness\x20-\x201.0\x20)\x20)\x20-\x201.0\x20+\x20ambientOcclusion\x20);\x0a}','lights_fragment_begin':'\x0avec3\x20geometryPosition\x20=\x20-\x20vViewPosition;\x0avec3\x20geometryNormal\x20=\x20normal;\x0avec3\x20geometryViewDir\x20=\x20(\x20isOrthographic\x20)\x20?\x20vec3(\x200,\x200,\x201\x20)\x20:\x20normalize(\x20vViewPosition\x20);\x0avec3\x20geometryClearcoatNormal\x20=\x20vec3(\x200.0\x20);\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09geometryClearcoatNormal\x20=\x20clearcoatNormal;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE\x0a\x09float\x20dotNVi\x20=\x20saturate(\x20dot(\x20normal,\x20geometryViewDir\x20)\x20);\x0a\x09if\x20(\x20material.iridescenceThickness\x20==\x200.0\x20)\x20{\x0a\x09\x09material.iridescence\x20=\x200.0;\x0a\x09}\x20else\x20{\x0a\x09\x09material.iridescence\x20=\x20saturate(\x20material.iridescence\x20);\x0a\x09}\x0a\x09if\x20(\x20material.iridescence\x20>\x200.0\x20)\x20{\x0a\x09\x09material.iridescenceFresnel\x20=\x20evalIridescence(\x201.0,\x20material.iridescenceIOR,\x20dotNVi,\x20material.iridescenceThickness,\x20material.specularColor\x20);\x0a\x09\x09material.iridescenceF0\x20=\x20Schlick_to_F0(\x20material.iridescenceFresnel,\x201.0,\x20dotNVi\x20);\x0a\x09}\x0a#endif\x0aIncidentLight\x20directLight;\x0a#if\x20(\x20NUM_POINT_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x09PointLight\x20pointLight;\x0a\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09PointLightShadow\x20pointLightShadow;\x0a\x09#endif\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_POINT_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09pointLight\x20=\x20pointLights[\x20i\x20];\x0a\x09\x09getPointLightInfo(\x20pointLight,\x20geometryPosition,\x20directLight\x20);\x0a\x09\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_POINT_LIGHT_SHADOWS\x20)\x0a\x09\x09pointLightShadow\x20=\x20pointLightShadows[\x20i\x20];\x0a\x09\x09directLight.color\x20*=\x20(\x20directLight.visible\x20&&\x20receiveShadow\x20)\x20?\x20getPointShadow(\x20pointShadowMap[\x20i\x20],\x20pointLightShadow.shadowMapSize,\x20pointLightShadow.shadowIntensity,\x20pointLightShadow.shadowBias,\x20pointLightShadow.shadowRadius,\x20vPointShadowCoord[\x20i\x20],\x20pointLightShadow.shadowCameraNear,\x20pointLightShadow.shadowCameraFar\x20)\x20:\x201.0;\x0a\x09\x09#endif\x0a\x09\x09RE_Direct(\x20directLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20(\x20NUM_SPOT_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x09SpotLight\x20spotLight;\x0a\x09vec4\x20spotColor;\x0a\x09vec3\x20spotLightCoord;\x0a\x09bool\x20inSpotLightMap;\x0a\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09SpotLightShadow\x20spotLightShadow;\x0a\x09#endif\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_SPOT_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09spotLight\x20=\x20spotLights[\x20i\x20];\x0a\x09\x09getSpotLightInfo(\x20spotLight,\x20geometryPosition,\x20directLight\x20);\x0a\x09\x09#if\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS\x20)\x0a\x09\x09#define\x20SPOT_LIGHT_MAP_INDEX\x20UNROLLED_LOOP_INDEX\x0a\x09\x09#elif\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS\x20)\x0a\x09\x09#define\x20SPOT_LIGHT_MAP_INDEX\x20NUM_SPOT_LIGHT_MAPS\x0a\x09\x09#else\x0a\x09\x09#define\x20SPOT_LIGHT_MAP_INDEX\x20(\x20UNROLLED_LOOP_INDEX\x20-\x20NUM_SPOT_LIGHT_SHADOWS\x20+\x20NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS\x20)\x0a\x09\x09#endif\x0a\x09\x09#if\x20(\x20SPOT_LIGHT_MAP_INDEX\x20<\x20NUM_SPOT_LIGHT_MAPS\x20)\x0a\x09\x09\x09spotLightCoord\x20=\x20vSpotLightCoord[\x20i\x20].xyz\x20/\x20vSpotLightCoord[\x20i\x20].w;\x0a\x09\x09\x09inSpotLightMap\x20=\x20all(\x20lessThan(\x20abs(\x20spotLightCoord\x20*\x202.\x20-\x201.\x20),\x20vec3(\x201.0\x20)\x20)\x20);\x0a\x09\x09\x09spotColor\x20=\x20texture2D(\x20spotLightMap[\x20SPOT_LIGHT_MAP_INDEX\x20],\x20spotLightCoord.xy\x20);\x0a\x09\x09\x09directLight.color\x20=\x20inSpotLightMap\x20?\x20directLight.color\x20*\x20spotColor.rgb\x20:\x20directLight.color;\x0a\x09\x09#endif\x0a\x09\x09#undef\x20SPOT_LIGHT_MAP_INDEX\x0a\x09\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS\x20)\x0a\x09\x09spotLightShadow\x20=\x20spotLightShadows[\x20i\x20];\x0a\x09\x09directLight.color\x20*=\x20(\x20directLight.visible\x20&&\x20receiveShadow\x20)\x20?\x20getShadow(\x20spotShadowMap[\x20i\x20],\x20spotLightShadow.shadowMapSize,\x20spotLightShadow.shadowIntensity,\x20spotLightShadow.shadowBias,\x20spotLightShadow.shadowRadius,\x20vSpotLightCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09\x09#endif\x0a\x09\x09RE_Direct(\x20directLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20(\x20NUM_DIR_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x09DirectionalLight\x20directionalLight;\x0a\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09DirectionalLightShadow\x20directionalLightShadow;\x0a\x09#endif\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_DIR_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09directionalLight\x20=\x20directionalLights[\x20i\x20];\x0a\x09\x09getDirectionalLightInfo(\x20directionalLight,\x20directLight\x20);\x0a\x09\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_DIR_LIGHT_SHADOWS\x20)\x0a\x09\x09directionalLightShadow\x20=\x20directionalLightShadows[\x20i\x20];\x0a\x09\x09directLight.color\x20*=\x20(\x20directLight.visible\x20&&\x20receiveShadow\x20)\x20?\x20getShadow(\x20directionalShadowMap[\x20i\x20],\x20directionalLightShadow.shadowMapSize,\x20directionalLightShadow.shadowIntensity,\x20directionalLightShadow.shadowBias,\x20directionalLightShadow.shadowRadius,\x20vDirectionalShadowCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09\x09#endif\x0a\x09\x09RE_Direct(\x20directLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20(\x20NUM_RECT_AREA_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct_RectArea\x20)\x0a\x09RectAreaLight\x20rectAreaLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_RECT_AREA_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09rectAreaLight\x20=\x20rectAreaLights[\x20i\x20];\x0a\x09\x09RE_Direct_RectArea(\x20rectAreaLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20defined(\x20RE_IndirectDiffuse\x20)\x0a\x09vec3\x20iblIrradiance\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20irradiance\x20=\x20getAmbientLightIrradiance(\x20ambientLightColor\x20);\x0a\x09#if\x20defined(\x20USE_LIGHT_PROBES\x20)\x0a\x09\x09irradiance\x20+=\x20getLightProbeIrradiance(\x20lightProbe,\x20geometryNormal\x20);\x0a\x09#endif\x0a\x09#if\x20(\x20NUM_HEMI_LIGHTS\x20>\x200\x20)\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_HEMI_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09irradiance\x20+=\x20getHemisphereLightIrradiance(\x20hemisphereLights[\x20i\x20],\x20geometryNormal\x20);\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a#endif\x0a#if\x20defined(\x20RE_IndirectSpecular\x20)\x0a\x09vec3\x20radiance\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20clearcoatRadiance\x20=\x20vec3(\x200.0\x20);\x0a#endif','lights_fragment_maps':'#if\x20defined(\x20RE_IndirectDiffuse\x20)\x0a\x09#ifdef\x20USE_LIGHTMAP\x0a\x09\x09vec4\x20lightMapTexel\x20=\x20texture2D(\x20lightMap,\x20vLightMapUv\x20);\x0a\x09\x09vec3\x20lightMapIrradiance\x20=\x20lightMapTexel.rgb\x20*\x20lightMapIntensity;\x0a\x09\x09irradiance\x20+=\x20lightMapIrradiance;\x0a\x09#endif\x0a\x09#if\x20defined(\x20USE_ENVMAP\x20)\x20&&\x20defined(\x20STANDARD\x20)\x20&&\x20defined(\x20ENVMAP_TYPE_CUBE_UV\x20)\x0a\x09\x09iblIrradiance\x20+=\x20getIBLIrradiance(\x20geometryNormal\x20);\x0a\x09#endif\x0a#endif\x0a#if\x20defined(\x20USE_ENVMAP\x20)\x20&&\x20defined(\x20RE_IndirectSpecular\x20)\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09radiance\x20+=\x20getIBLAnisotropyRadiance(\x20geometryViewDir,\x20geometryNormal,\x20material.roughness,\x20material.anisotropyB,\x20material.anisotropy\x20);\x0a\x09#else\x0a\x09\x09radiance\x20+=\x20getIBLRadiance(\x20geometryViewDir,\x20geometryNormal,\x20material.roughness\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09clearcoatRadiance\x20+=\x20getIBLRadiance(\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material.clearcoatRoughness\x20);\x0a\x09#endif\x0a#endif','lights_fragment_end':'#if\x20defined(\x20RE_IndirectDiffuse\x20)\x0a\x09RE_IndirectDiffuse(\x20irradiance,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a#endif\x0a#if\x20defined(\x20RE_IndirectSpecular\x20)\x0a\x09RE_IndirectSpecular(\x20radiance,\x20iblIrradiance,\x20clearcoatRadiance,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a#endif','logdepthbuf_fragment':'#if\x20defined(\x20USE_LOGDEPTHBUF\x20)\x0a\x09gl_FragDepth\x20=\x20vIsPerspective\x20==\x200.0\x20?\x20gl_FragCoord.z\x20:\x20log2(\x20vFragDepth\x20)\x20*\x20logDepthBufFC\x20*\x200.5;\x0a#endif','logdepthbuf_pars_fragment':'#if\x20defined(\x20USE_LOGDEPTHBUF\x20)\x0a\x09uniform\x20float\x20logDepthBufFC;\x0a\x09varying\x20float\x20vFragDepth;\x0a\x09varying\x20float\x20vIsPerspective;\x0a#endif','logdepthbuf_pars_vertex':'#ifdef\x20USE_LOGDEPTHBUF\x0a\x09varying\x20float\x20vFragDepth;\x0a\x09varying\x20float\x20vIsPerspective;\x0a#endif','logdepthbuf_vertex':'#ifdef\x20USE_LOGDEPTHBUF\x0a\x09vFragDepth\x20=\x201.0\x20+\x20gl_Position.w;\x0a\x09vIsPerspective\x20=\x20float(\x20isPerspectiveMatrix(\x20projectionMatrix\x20)\x20);\x0a#endif','map_fragment':'#ifdef\x20USE_MAP\x0a\x09vec4\x20sampledDiffuseColor\x20=\x20texture2D(\x20map,\x20vMapUv\x20);\x0a\x09#ifdef\x20DECODE_VIDEO_TEXTURE\x0a\x09\x09sampledDiffuseColor\x20=\x20sRGBTransferEOTF(\x20sampledDiffuseColor\x20);\x0a\x09#endif\x0a\x09diffuseColor\x20*=\x20sampledDiffuseColor;\x0a#endif','map_pars_fragment':'#ifdef\x20USE_MAP\x0a\x09uniform\x20sampler2D\x20map;\x0a#endif','map_particle_fragment':'#if\x20defined(\x20USE_MAP\x20)\x20||\x20defined(\x20USE_ALPHAMAP\x20)\x0a\x09#if\x20defined(\x20USE_POINTS_UV\x20)\x0a\x09\x09vec2\x20uv\x20=\x20vUv;\x0a\x09#else\x0a\x09\x09vec2\x20uv\x20=\x20(\x20uvTransform\x20*\x20vec3(\x20gl_PointCoord.x,\x201.0\x20-\x20gl_PointCoord.y,\x201\x20)\x20).xy;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09diffuseColor\x20*=\x20texture2D(\x20map,\x20uv\x20);\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09diffuseColor.a\x20*=\x20texture2D(\x20alphaMap,\x20uv\x20).g;\x0a#endif','map_particle_pars_fragment':'#if\x20defined(\x20USE_POINTS_UV\x20)\x0a\x09varying\x20vec2\x20vUv;\x0a#else\x0a\x09#if\x20defined(\x20USE_MAP\x20)\x20||\x20defined(\x20USE_ALPHAMAP\x20)\x0a\x09\x09uniform\x20mat3\x20uvTransform;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09uniform\x20sampler2D\x20map;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09uniform\x20sampler2D\x20alphaMap;\x0a#endif','metalnessmap_fragment':'float\x20metalnessFactor\x20=\x20metalness;\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09vec4\x20texelMetalness\x20=\x20texture2D(\x20metalnessMap,\x20vMetalnessMapUv\x20);\x0a\x09metalnessFactor\x20*=\x20texelMetalness.b;\x0a#endif','metalnessmap_pars_fragment':'#ifdef\x20USE_METALNESSMAP\x0a\x09uniform\x20sampler2D\x20metalnessMap;\x0a#endif','morphinstance_vertex':'#ifdef\x20USE_INSTANCING_MORPH\x0a\x09float\x20morphTargetInfluences[\x20MORPHTARGETS_COUNT\x20];\x0a\x09float\x20morphTargetBaseInfluence\x20=\x20texelFetch(\x20morphTexture,\x20ivec2(\x200,\x20gl_InstanceID\x20),\x200\x20).r;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09morphTargetInfluences[i]\x20=\x20\x20texelFetch(\x20morphTexture,\x20ivec2(\x20i\x20+\x201,\x20gl_InstanceID\x20),\x200\x20).r;\x0a\x09}\x0a#endif','morphcolor_vertex':'#if\x20defined(\x20USE_MORPHCOLORS\x20)\x0a\x09vColor\x20*=\x20morphTargetBaseInfluence;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20vColor\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x202\x20)\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09\x09#elif\x20defined(\x20USE_COLOR\x20)\x0a\x09\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20vColor\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x202\x20).rgb\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09\x09#endif\x0a\x09}\x0a#endif','morphnormal_vertex':'#ifdef\x20USE_MORPHNORMALS\x0a\x09objectNormal\x20*=\x20morphTargetBaseInfluence;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20objectNormal\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x201\x20).xyz\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09}\x0a#endif','morphtarget_pars_vertex':'#ifdef\x20USE_MORPHTARGETS\x0a\x09#ifndef\x20USE_INSTANCING_MORPH\x0a\x09\x09uniform\x20float\x20morphTargetBaseInfluence;\x0a\x09\x09uniform\x20float\x20morphTargetInfluences[\x20MORPHTARGETS_COUNT\x20];\x0a\x09#endif\x0a\x09uniform\x20sampler2DArray\x20morphTargetsTexture;\x0a\x09uniform\x20ivec2\x20morphTargetsTextureSize;\x0a\x09vec4\x20getMorph(\x20const\x20in\x20int\x20vertexIndex,\x20const\x20in\x20int\x20morphTargetIndex,\x20const\x20in\x20int\x20offset\x20)\x20{\x0a\x09\x09int\x20texelIndex\x20=\x20vertexIndex\x20*\x20MORPHTARGETS_TEXTURE_STRIDE\x20+\x20offset;\x0a\x09\x09int\x20y\x20=\x20texelIndex\x20/\x20morphTargetsTextureSize.x;\x0a\x09\x09int\x20x\x20=\x20texelIndex\x20-\x20y\x20*\x20morphTargetsTextureSize.x;\x0a\x09\x09ivec3\x20morphUV\x20=\x20ivec3(\x20x,\x20y,\x20morphTargetIndex\x20);\x0a\x09\x09return\x20texelFetch(\x20morphTargetsTexture,\x20morphUV,\x200\x20);\x0a\x09}\x0a#endif','morphtarget_vertex':'#ifdef\x20USE_MORPHTARGETS\x0a\x09transformed\x20*=\x20morphTargetBaseInfluence;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20transformed\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x200\x20).xyz\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09}\x0a#endif','normal_fragment_begin':'float\x20faceDirection\x20=\x20gl_FrontFacing\x20?\x201.0\x20:\x20-\x201.0;\x0a#ifdef\x20FLAT_SHADED\x0a\x09vec3\x20fdx\x20=\x20dFdx(\x20vViewPosition\x20);\x0a\x09vec3\x20fdy\x20=\x20dFdy(\x20vViewPosition\x20);\x0a\x09vec3\x20normal\x20=\x20normalize(\x20cross(\x20fdx,\x20fdy\x20)\x20);\x0a#else\x0a\x09vec3\x20normal\x20=\x20normalize(\x20vNormal\x20);\x0a\x09#ifdef\x20DOUBLE_SIDED\x0a\x09\x09normal\x20*=\x20faceDirection;\x0a\x09#endif\x0a#endif\x0a#if\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x20||\x20defined(\x20USE_CLEARCOAT_NORMALMAP\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09mat3\x20tbn\x20=\x20mat3(\x20normalize(\x20vTangent\x20),\x20normalize(\x20vBitangent\x20),\x20normal\x20);\x0a\x09#else\x0a\x09\x09mat3\x20tbn\x20=\x20getTangentFrame(\x20-\x20vViewPosition,\x20normal,\x0a\x09\x09#if\x20defined(\x20USE_NORMALMAP\x20)\x0a\x09\x09\x09vNormalMapUv\x0a\x09\x09#elif\x20defined(\x20USE_CLEARCOAT_NORMALMAP\x20)\x0a\x09\x09\x09vClearcoatNormalMapUv\x0a\x09\x09#else\x0a\x09\x09\x09vUv\x0a\x09\x09#endif\x0a\x09\x09);\x0a\x09#endif\x0a\x09#if\x20defined(\x20DOUBLE_SIDED\x20)\x20&&\x20!\x20defined(\x20FLAT_SHADED\x20)\x0a\x09\x09tbn[0]\x20*=\x20faceDirection;\x0a\x09\x09tbn[1]\x20*=\x20faceDirection;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09mat3\x20tbn2\x20=\x20mat3(\x20normalize(\x20vTangent\x20),\x20normalize(\x20vBitangent\x20),\x20normal\x20);\x0a\x09#else\x0a\x09\x09mat3\x20tbn2\x20=\x20getTangentFrame(\x20-\x20vViewPosition,\x20normal,\x20vClearcoatNormalMapUv\x20);\x0a\x09#endif\x0a\x09#if\x20defined(\x20DOUBLE_SIDED\x20)\x20&&\x20!\x20defined(\x20FLAT_SHADED\x20)\x0a\x09\x09tbn2[0]\x20*=\x20faceDirection;\x0a\x09\x09tbn2[1]\x20*=\x20faceDirection;\x0a\x09#endif\x0a#endif\x0avec3\x20nonPerturbedNormal\x20=\x20normal;','normal_fragment_maps':'#ifdef\x20USE_NORMALMAP_OBJECTSPACE\x0a\x09normal\x20=\x20texture2D(\x20normalMap,\x20vNormalMapUv\x20).xyz\x20*\x202.0\x20-\x201.0;\x0a\x09#ifdef\x20FLIP_SIDED\x0a\x09\x09normal\x20=\x20-\x20normal;\x0a\x09#endif\x0a\x09#ifdef\x20DOUBLE_SIDED\x0a\x09\x09normal\x20=\x20normal\x20*\x20faceDirection;\x0a\x09#endif\x0a\x09normal\x20=\x20normalize(\x20normalMatrix\x20*\x20normal\x20);\x0a#elif\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09vec3\x20mapN\x20=\x20texture2D(\x20normalMap,\x20vNormalMapUv\x20).xyz\x20*\x202.0\x20-\x201.0;\x0a\x09mapN.xy\x20*=\x20normalScale;\x0a\x09normal\x20=\x20normalize(\x20tbn\x20*\x20mapN\x20);\x0a#elif\x20defined(\x20USE_BUMPMAP\x20)\x0a\x09normal\x20=\x20perturbNormalArb(\x20-\x20vViewPosition,\x20normal,\x20dHdxy_fwd(),\x20faceDirection\x20);\x0a#endif','normal_pars_fragment':'#ifndef\x20FLAT_SHADED\x0a\x09varying\x20vec3\x20vNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09varying\x20vec3\x20vTangent;\x0a\x09\x09varying\x20vec3\x20vBitangent;\x0a\x09#endif\x0a#endif','normal_pars_vertex':'#ifndef\x20FLAT_SHADED\x0a\x09varying\x20vec3\x20vNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09varying\x20vec3\x20vTangent;\x0a\x09\x09varying\x20vec3\x20vBitangent;\x0a\x09#endif\x0a#endif','normal_vertex':'#ifndef\x20FLAT_SHADED\x0a\x09vNormal\x20=\x20normalize(\x20transformedNormal\x20);\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09vTangent\x20=\x20normalize(\x20transformedTangent\x20);\x0a\x09\x09vBitangent\x20=\x20normalize(\x20cross(\x20vNormal,\x20vTangent\x20)\x20*\x20tangent.w\x20);\x0a\x09#endif\x0a#endif','normalmap_pars_fragment':'#ifdef\x20USE_NORMALMAP\x0a\x09uniform\x20sampler2D\x20normalMap;\x0a\x09uniform\x20vec2\x20normalScale;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP_OBJECTSPACE\x0a\x09uniform\x20mat3\x20normalMatrix;\x0a#endif\x0a#if\x20!\x20defined\x20(\x20USE_TANGENT\x20)\x20&&\x20(\x20defined\x20(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x20||\x20defined\x20(\x20USE_CLEARCOAT_NORMALMAP\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x20)\x0a\x09mat3\x20getTangentFrame(\x20vec3\x20eye_pos,\x20vec3\x20surf_norm,\x20vec2\x20uv\x20)\x20{\x0a\x09\x09vec3\x20q0\x20=\x20dFdx(\x20eye_pos.xyz\x20);\x0a\x09\x09vec3\x20q1\x20=\x20dFdy(\x20eye_pos.xyz\x20);\x0a\x09\x09vec2\x20st0\x20=\x20dFdx(\x20uv.st\x20);\x0a\x09\x09vec2\x20st1\x20=\x20dFdy(\x20uv.st\x20);\x0a\x09\x09vec3\x20N\x20=\x20surf_norm;\x0a\x09\x09vec3\x20q1perp\x20=\x20cross(\x20q1,\x20N\x20);\x0a\x09\x09vec3\x20q0perp\x20=\x20cross(\x20N,\x20q0\x20);\x0a\x09\x09vec3\x20T\x20=\x20q1perp\x20*\x20st0.x\x20+\x20q0perp\x20*\x20st1.x;\x0a\x09\x09vec3\x20B\x20=\x20q1perp\x20*\x20st0.y\x20+\x20q0perp\x20*\x20st1.y;\x0a\x09\x09float\x20det\x20=\x20max(\x20dot(\x20T,\x20T\x20),\x20dot(\x20B,\x20B\x20)\x20);\x0a\x09\x09float\x20scale\x20=\x20(\x20det\x20==\x200.0\x20)\x20?\x200.0\x20:\x20inversesqrt(\x20det\x20);\x0a\x09\x09return\x20mat3(\x20T\x20*\x20scale,\x20B\x20*\x20scale,\x20N\x20);\x0a\x09}\x0a#endif','clearcoat_normal_fragment_begin':'#ifdef\x20USE_CLEARCOAT\x0a\x09vec3\x20clearcoatNormal\x20=\x20nonPerturbedNormal;\x0a#endif','clearcoat_normal_fragment_maps':'#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09vec3\x20clearcoatMapN\x20=\x20texture2D(\x20clearcoatNormalMap,\x20vClearcoatNormalMapUv\x20).xyz\x20*\x202.0\x20-\x201.0;\x0a\x09clearcoatMapN.xy\x20*=\x20clearcoatNormalScale;\x0a\x09clearcoatNormal\x20=\x20normalize(\x20tbn2\x20*\x20clearcoatMapN\x20);\x0a#endif','clearcoat_pars_fragment':'#ifdef\x20USE_CLEARCOATMAP\x0a\x09uniform\x20sampler2D\x20clearcoatMap;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09uniform\x20sampler2D\x20clearcoatNormalMap;\x0a\x09uniform\x20vec2\x20clearcoatNormalScale;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09uniform\x20sampler2D\x20clearcoatRoughnessMap;\x0a#endif','iridescence_pars_fragment':'#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09uniform\x20sampler2D\x20iridescenceMap;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09uniform\x20sampler2D\x20iridescenceThicknessMap;\x0a#endif','opaque_fragment':'#ifdef\x20OPAQUE\x0adiffuseColor.a\x20=\x201.0;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSION\x0adiffuseColor.a\x20*=\x20material.transmissionAlpha;\x0a#endif\x0agl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);','packing':'vec3\x20packNormalToRGB(\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09return\x20normalize(\x20normal\x20)\x20*\x200.5\x20+\x200.5;\x0a}\x0avec3\x20unpackRGBToNormal(\x20const\x20in\x20vec3\x20rgb\x20)\x20{\x0a\x09return\x202.0\x20*\x20rgb.xyz\x20-\x201.0;\x0a}\x0aconst\x20float\x20PackUpscale\x20=\x20256.\x20/\x20255.;const\x20float\x20UnpackDownscale\x20=\x20255.\x20/\x20256.;const\x20float\x20ShiftRight8\x20=\x201.\x20/\x20256.;\x0aconst\x20float\x20Inv255\x20=\x201.\x20/\x20255.;\x0aconst\x20vec4\x20PackFactors\x20=\x20vec4(\x201.0,\x20256.0,\x20256.0\x20*\x20256.0,\x20256.0\x20*\x20256.0\x20*\x20256.0\x20);\x0aconst\x20vec2\x20UnpackFactors2\x20=\x20vec2(\x20UnpackDownscale,\x201.0\x20/\x20PackFactors.g\x20);\x0aconst\x20vec3\x20UnpackFactors3\x20=\x20vec3(\x20UnpackDownscale\x20/\x20PackFactors.rg,\x201.0\x20/\x20PackFactors.b\x20);\x0aconst\x20vec4\x20UnpackFactors4\x20=\x20vec4(\x20UnpackDownscale\x20/\x20PackFactors.rgb,\x201.0\x20/\x20PackFactors.a\x20);\x0avec4\x20packDepthToRGBA(\x20const\x20in\x20float\x20v\x20)\x20{\x0a\x09if(\x20v\x20<=\x200.0\x20)\x0a\x09\x09return\x20vec4(\x200.,\x200.,\x200.,\x200.\x20);\x0a\x09if(\x20v\x20>=\x201.0\x20)\x0a\x09\x09return\x20vec4(\x201.,\x201.,\x201.,\x201.\x20);\x0a\x09float\x20vuf;\x0a\x09float\x20af\x20=\x20modf(\x20v\x20*\x20PackFactors.a,\x20vuf\x20);\x0a\x09float\x20bf\x20=\x20modf(\x20vuf\x20*\x20ShiftRight8,\x20vuf\x20);\x0a\x09float\x20gf\x20=\x20modf(\x20vuf\x20*\x20ShiftRight8,\x20vuf\x20);\x0a\x09return\x20vec4(\x20vuf\x20*\x20Inv255,\x20gf\x20*\x20PackUpscale,\x20bf\x20*\x20PackUpscale,\x20af\x20);\x0a}\x0avec3\x20packDepthToRGB(\x20const\x20in\x20float\x20v\x20)\x20{\x0a\x09if(\x20v\x20<=\x200.0\x20)\x0a\x09\x09return\x20vec3(\x200.,\x200.,\x200.\x20);\x0a\x09if(\x20v\x20>=\x201.0\x20)\x0a\x09\x09return\x20vec3(\x201.,\x201.,\x201.\x20);\x0a\x09float\x20vuf;\x0a\x09float\x20bf\x20=\x20modf(\x20v\x20*\x20PackFactors.b,\x20vuf\x20);\x0a\x09float\x20gf\x20=\x20modf(\x20vuf\x20*\x20ShiftRight8,\x20vuf\x20);\x0a\x09return\x20vec3(\x20vuf\x20*\x20Inv255,\x20gf\x20*\x20PackUpscale,\x20bf\x20);\x0a}\x0avec2\x20packDepthToRG(\x20const\x20in\x20float\x20v\x20)\x20{\x0a\x09if(\x20v\x20<=\x200.0\x20)\x0a\x09\x09return\x20vec2(\x200.,\x200.\x20);\x0a\x09if(\x20v\x20>=\x201.0\x20)\x0a\x09\x09return\x20vec2(\x201.,\x201.\x20);\x0a\x09float\x20vuf;\x0a\x09float\x20gf\x20=\x20modf(\x20v\x20*\x20256.,\x20vuf\x20);\x0a\x09return\x20vec2(\x20vuf\x20*\x20Inv255,\x20gf\x20);\x0a}\x0afloat\x20unpackRGBAToDepth(\x20const\x20in\x20vec4\x20v\x20)\x20{\x0a\x09return\x20dot(\x20v,\x20UnpackFactors4\x20);\x0a}\x0afloat\x20unpackRGBToDepth(\x20const\x20in\x20vec3\x20v\x20)\x20{\x0a\x09return\x20dot(\x20v,\x20UnpackFactors3\x20);\x0a}\x0afloat\x20unpackRGToDepth(\x20const\x20in\x20vec2\x20v\x20)\x20{\x0a\x09return\x20v.r\x20*\x20UnpackFactors2.r\x20+\x20v.g\x20*\x20UnpackFactors2.g;\x0a}\x0avec4\x20pack2HalfToRGBA(\x20const\x20in\x20vec2\x20v\x20)\x20{\x0a\x09vec4\x20r\x20=\x20vec4(\x20v.x,\x20fract(\x20v.x\x20*\x20255.0\x20),\x20v.y,\x20fract(\x20v.y\x20*\x20255.0\x20)\x20);\x0a\x09return\x20vec4(\x20r.x\x20-\x20r.y\x20/\x20255.0,\x20r.y,\x20r.z\x20-\x20r.w\x20/\x20255.0,\x20r.w\x20);\x0a}\x0avec2\x20unpackRGBATo2Half(\x20const\x20in\x20vec4\x20v\x20)\x20{\x0a\x09return\x20vec2(\x20v.x\x20+\x20(\x20v.y\x20/\x20255.0\x20),\x20v.z\x20+\x20(\x20v.w\x20/\x20255.0\x20)\x20);\x0a}\x0afloat\x20viewZToOrthographicDepth(\x20const\x20in\x20float\x20viewZ,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20(\x20viewZ\x20+\x20near\x20)\x20/\x20(\x20near\x20-\x20far\x20);\x0a}\x0afloat\x20orthographicDepthToViewZ(\x20const\x20in\x20float\x20depth,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20depth\x20*\x20(\x20near\x20-\x20far\x20)\x20-\x20near;\x0a}\x0afloat\x20viewZToPerspectiveDepth(\x20const\x20in\x20float\x20viewZ,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20(\x20(\x20near\x20+\x20viewZ\x20)\x20*\x20far\x20)\x20/\x20(\x20(\x20far\x20-\x20near\x20)\x20*\x20viewZ\x20);\x0a}\x0afloat\x20perspectiveDepthToViewZ(\x20const\x20in\x20float\x20depth,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20(\x20near\x20*\x20far\x20)\x20/\x20(\x20(\x20far\x20-\x20near\x20)\x20*\x20depth\x20-\x20far\x20);\x0a}','premultiplied_alpha_fragment':'#ifdef\x20PREMULTIPLIED_ALPHA\x0a\x09gl_FragColor.rgb\x20*=\x20gl_FragColor.a;\x0a#endif','project_vertex':'vec4\x20mvPosition\x20=\x20vec4(\x20transformed,\x201.0\x20);\x0a#ifdef\x20USE_BATCHING\x0a\x09mvPosition\x20=\x20batchingMatrix\x20*\x20mvPosition;\x0a#endif\x0a#ifdef\x20USE_INSTANCING\x0a\x09mvPosition\x20=\x20instanceMatrix\x20*\x20mvPosition;\x0a#endif\x0amvPosition\x20=\x20modelViewMatrix\x20*\x20mvPosition;\x0agl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;','dithering_fragment':'#ifdef\x20DITHERING\x0a\x09gl_FragColor.rgb\x20=\x20dithering(\x20gl_FragColor.rgb\x20);\x0a#endif','dithering_pars_fragment':'#ifdef\x20DITHERING\x0a\x09vec3\x20dithering(\x20vec3\x20color\x20)\x20{\x0a\x09\x09float\x20grid_position\x20=\x20rand(\x20gl_FragCoord.xy\x20);\x0a\x09\x09vec3\x20dither_shift_RGB\x20=\x20vec3(\x200.25\x20/\x20255.0,\x20-0.25\x20/\x20255.0,\x200.25\x20/\x20255.0\x20);\x0a\x09\x09dither_shift_RGB\x20=\x20mix(\x202.0\x20*\x20dither_shift_RGB,\x20-2.0\x20*\x20dither_shift_RGB,\x20grid_position\x20);\x0a\x09\x09return\x20color\x20+\x20dither_shift_RGB;\x0a\x09}\x0a#endif','roughnessmap_fragment':'float\x20roughnessFactor\x20=\x20roughness;\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09vec4\x20texelRoughness\x20=\x20texture2D(\x20roughnessMap,\x20vRoughnessMapUv\x20);\x0a\x09roughnessFactor\x20*=\x20texelRoughness.g;\x0a#endif','roughnessmap_pars_fragment':'#ifdef\x20USE_ROUGHNESSMAP\x0a\x09uniform\x20sampler2D\x20roughnessMap;\x0a#endif','shadowmap_pars_fragment':'#if\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09varying\x20vec4\x20vSpotLightCoord[\x20NUM_SPOT_LIGHT_COORDS\x20];\x0a#endif\x0a#if\x20NUM_SPOT_LIGHT_MAPS\x20>\x200\x0a\x09uniform\x20sampler2D\x20spotLightMap[\x20NUM_SPOT_LIGHT_MAPS\x20];\x0a#endif\x0a#ifdef\x20USE_SHADOWMAP\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20sampler2D\x20directionalShadowMap[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vDirectionalShadowCoord[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20DirectionalLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20DirectionalLightShadow\x20directionalLightShadows[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20sampler2D\x20spotShadowMap[\x20NUM_SPOT_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20SpotLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20SpotLightShadow\x20spotLightShadows[\x20NUM_SPOT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20sampler2D\x20pointShadowMap[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vPointShadowCoord[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20PointLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09\x09float\x20shadowCameraNear;\x0a\x09\x09\x09float\x20shadowCameraFar;\x0a\x09\x09};\x0a\x09\x09uniform\x20PointLightShadow\x20pointLightShadows[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09float\x20texture2DCompare(\x20sampler2D\x20depths,\x20vec2\x20uv,\x20float\x20compare\x20)\x20{\x0a\x09\x09return\x20step(\x20compare,\x20unpackRGBAToDepth(\x20texture2D(\x20depths,\x20uv\x20)\x20)\x20);\x0a\x09}\x0a\x09vec2\x20texture2DDistribution(\x20sampler2D\x20shadow,\x20vec2\x20uv\x20)\x20{\x0a\x09\x09return\x20unpackRGBATo2Half(\x20texture2D(\x20shadow,\x20uv\x20)\x20);\x0a\x09}\x0a\x09float\x20VSMShadow\x20(sampler2D\x20shadow,\x20vec2\x20uv,\x20float\x20compare\x20){\x0a\x09\x09float\x20occlusion\x20=\x201.0;\x0a\x09\x09vec2\x20distribution\x20=\x20texture2DDistribution(\x20shadow,\x20uv\x20);\x0a\x09\x09float\x20hard_shadow\x20=\x20step(\x20compare\x20,\x20distribution.x\x20);\x0a\x09\x09if\x20(hard_shadow\x20!=\x201.0\x20)\x20{\x0a\x09\x09\x09float\x20distance\x20=\x20compare\x20-\x20distribution.x\x20;\x0a\x09\x09\x09float\x20variance\x20=\x20max(\x200.00000,\x20distribution.y\x20*\x20distribution.y\x20);\x0a\x09\x09\x09float\x20softness_probability\x20=\x20variance\x20/\x20(variance\x20+\x20distance\x20*\x20distance\x20);\x09\x09\x09softness_probability\x20=\x20clamp(\x20(\x20softness_probability\x20-\x200.3\x20)\x20/\x20(\x200.95\x20-\x200.3\x20),\x200.0,\x201.0\x20);\x09\x09\x09occlusion\x20=\x20clamp(\x20max(\x20hard_shadow,\x20softness_probability\x20),\x200.0,\x201.0\x20);\x0a\x09\x09}\x0a\x09\x09return\x20occlusion;\x0a\x09}\x0a\x09float\x20getShadow(\x20sampler2D\x20shadowMap,\x20vec2\x20shadowMapSize,\x20float\x20shadowIntensity,\x20float\x20shadowBias,\x20float\x20shadowRadius,\x20vec4\x20shadowCoord\x20)\x20{\x0a\x09\x09float\x20shadow\x20=\x201.0;\x0a\x09\x09shadowCoord.xyz\x20/=\x20shadowCoord.w;\x0a\x09\x09shadowCoord.z\x20+=\x20shadowBias;\x0a\x09\x09bool\x20inFrustum\x20=\x20shadowCoord.x\x20>=\x200.0\x20&&\x20shadowCoord.x\x20<=\x201.0\x20&&\x20shadowCoord.y\x20>=\x200.0\x20&&\x20shadowCoord.y\x20<=\x201.0;\x0a\x09\x09bool\x20frustumTest\x20=\x20inFrustum\x20&&\x20shadowCoord.z\x20<=\x201.0;\x0a\x09\x09if\x20(\x20frustumTest\x20)\x20{\x0a\x09\x09#if\x20defined(\x20SHADOWMAP_TYPE_PCF\x20)\x0a\x09\x09\x09vec2\x20texelSize\x20=\x20vec2(\x201.0\x20)\x20/\x20shadowMapSize;\x0a\x09\x09\x09float\x20dx0\x20=\x20-\x20texelSize.x\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dy0\x20=\x20-\x20texelSize.y\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dx1\x20=\x20+\x20texelSize.x\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dy1\x20=\x20+\x20texelSize.y\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dx2\x20=\x20dx0\x20/\x202.0;\x0a\x09\x09\x09float\x20dy2\x20=\x20dy0\x20/\x202.0;\x0a\x09\x09\x09float\x20dx3\x20=\x20dx1\x20/\x202.0;\x0a\x09\x09\x09float\x20dy3\x20=\x20dy1\x20/\x202.0;\x0a\x09\x09\x09shadow\x20=\x20(\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx0,\x20dy0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx1,\x20dy0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx2,\x20dy2\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy2\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx3,\x20dy2\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx0,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx2,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy,\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx3,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx1,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx2,\x20dy3\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy3\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx3,\x20dy3\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx0,\x20dy1\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy1\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx1,\x20dy1\x20),\x20shadowCoord.z\x20)\x0a\x09\x09\x09)\x20*\x20(\x201.0\x20/\x2017.0\x20);\x0a\x09\x09#elif\x20defined(\x20SHADOWMAP_TYPE_PCF_SOFT\x20)\x0a\x09\x09\x09vec2\x20texelSize\x20=\x20vec2(\x201.0\x20)\x20/\x20shadowMapSize;\x0a\x09\x09\x09float\x20dx\x20=\x20texelSize.x;\x0a\x09\x09\x09float\x20dy\x20=\x20texelSize.y;\x0a\x09\x09\x09vec2\x20uv\x20=\x20shadowCoord.xy;\x0a\x09\x09\x09vec2\x20f\x20=\x20fract(\x20uv\x20*\x20shadowMapSize\x20+\x200.5\x20);\x0a\x09\x09\x09uv\x20-=\x20f\x20*\x20texelSize;\x0a\x09\x09\x09shadow\x20=\x20(\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv,\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20dx,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x200.0,\x20dy\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv\x20+\x20texelSize,\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x200.0\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x200.0\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.x\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.x\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x200.0,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x200.0,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.y\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20dx,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20dx,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.y\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20f.x\x20),\x0a\x09\x09\x09\x09\x09\x20mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20f.x\x20),\x0a\x09\x09\x09\x09\x09\x20f.y\x20)\x0a\x09\x09\x09)\x20*\x20(\x201.0\x20/\x209.0\x20);\x0a\x09\x09#elif\x20defined(\x20SHADOWMAP_TYPE_VSM\x20)\x0a\x09\x09\x09shadow\x20=\x20VSMShadow(\x20shadowMap,\x20shadowCoord.xy,\x20shadowCoord.z\x20);\x0a\x09\x09#else\x0a\x09\x09\x09shadow\x20=\x20texture2DCompare(\x20shadowMap,\x20shadowCoord.xy,\x20shadowCoord.z\x20);\x0a\x09\x09#endif\x0a\x09\x09}\x0a\x09\x09return\x20mix(\x201.0,\x20shadow,\x20shadowIntensity\x20);\x0a\x09}\x0a\x09vec2\x20cubeToUV(\x20vec3\x20v,\x20float\x20texelSizeY\x20)\x20{\x0a\x09\x09vec3\x20absV\x20=\x20abs(\x20v\x20);\x0a\x09\x09float\x20scaleToCube\x20=\x201.0\x20/\x20max(\x20absV.x,\x20max(\x20absV.y,\x20absV.z\x20)\x20);\x0a\x09\x09absV\x20*=\x20scaleToCube;\x0a\x09\x09v\x20*=\x20scaleToCube\x20*\x20(\x201.0\x20-\x202.0\x20*\x20texelSizeY\x20);\x0a\x09\x09vec2\x20planar\x20=\x20v.xy;\x0a\x09\x09float\x20almostATexel\x20=\x201.5\x20*\x20texelSizeY;\x0a\x09\x09float\x20almostOne\x20=\x201.0\x20-\x20almostATexel;\x0a\x09\x09if\x20(\x20absV.z\x20>=\x20almostOne\x20)\x20{\x0a\x09\x09\x09if\x20(\x20v.z\x20>\x200.0\x20)\x0a\x09\x09\x09\x09planar.x\x20=\x204.0\x20-\x20v.x;\x0a\x09\x09}\x20else\x20if\x20(\x20absV.x\x20>=\x20almostOne\x20)\x20{\x0a\x09\x09\x09float\x20signX\x20=\x20sign(\x20v.x\x20);\x0a\x09\x09\x09planar.x\x20=\x20v.z\x20*\x20signX\x20+\x202.0\x20*\x20signX;\x0a\x09\x09}\x20else\x20if\x20(\x20absV.y\x20>=\x20almostOne\x20)\x20{\x0a\x09\x09\x09float\x20signY\x20=\x20sign(\x20v.y\x20);\x0a\x09\x09\x09planar.x\x20=\x20v.x\x20+\x202.0\x20*\x20signY\x20+\x202.0;\x0a\x09\x09\x09planar.y\x20=\x20v.z\x20*\x20signY\x20-\x202.0;\x0a\x09\x09}\x0a\x09\x09return\x20vec2(\x200.125,\x200.25\x20)\x20*\x20planar\x20+\x20vec2(\x200.375,\x200.75\x20);\x0a\x09}\x0a\x09float\x20getPointShadow(\x20sampler2D\x20shadowMap,\x20vec2\x20shadowMapSize,\x20float\x20shadowIntensity,\x20float\x20shadowBias,\x20float\x20shadowRadius,\x20vec4\x20shadowCoord,\x20float\x20shadowCameraNear,\x20float\x20shadowCameraFar\x20)\x20{\x0a\x09\x09float\x20shadow\x20=\x201.0;\x0a\x09\x09vec3\x20lightToPosition\x20=\x20shadowCoord.xyz;\x0a\x09\x09\x0a\x09\x09float\x20lightToPositionLength\x20=\x20length(\x20lightToPosition\x20);\x0a\x09\x09if\x20(\x20lightToPositionLength\x20-\x20shadowCameraFar\x20<=\x200.0\x20&&\x20lightToPositionLength\x20-\x20shadowCameraNear\x20>=\x200.0\x20)\x20{\x0a\x09\x09\x09float\x20dp\x20=\x20(\x20lightToPositionLength\x20-\x20shadowCameraNear\x20)\x20/\x20(\x20shadowCameraFar\x20-\x20shadowCameraNear\x20);\x09\x09\x09dp\x20+=\x20shadowBias;\x0a\x09\x09\x09vec3\x20bd3D\x20=\x20normalize(\x20lightToPosition\x20);\x0a\x09\x09\x09vec2\x20texelSize\x20=\x20vec2(\x201.0\x20)\x20/\x20(\x20shadowMapSize\x20*\x20vec2(\x204.0,\x202.0\x20)\x20);\x0a\x09\x09\x09#if\x20defined(\x20SHADOWMAP_TYPE_PCF\x20)\x20||\x20defined(\x20SHADOWMAP_TYPE_PCF_SOFT\x20)\x20||\x20defined(\x20SHADOWMAP_TYPE_VSM\x20)\x0a\x09\x09\x09\x09vec2\x20offset\x20=\x20vec2(\x20-\x201,\x201\x20)\x20*\x20shadowRadius\x20*\x20texelSize.y;\x0a\x09\x09\x09\x09shadow\x20=\x20(\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xyy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yyy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xyx,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yyx,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xxy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yxy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xxx,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yxx,\x20texelSize.y\x20),\x20dp\x20)\x0a\x09\x09\x09\x09)\x20*\x20(\x201.0\x20/\x209.0\x20);\x0a\x09\x09\x09#else\x0a\x09\x09\x09\x09shadow\x20=\x20texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D,\x20texelSize.y\x20),\x20dp\x20);\x0a\x09\x09\x09#endif\x0a\x09\x09}\x0a\x09\x09return\x20mix(\x201.0,\x20shadow,\x20shadowIntensity\x20);\x0a\x09}\x0a#endif','shadowmap_pars_vertex':'#if\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09uniform\x20mat4\x20spotLightMatrix[\x20NUM_SPOT_LIGHT_COORDS\x20];\x0a\x09varying\x20vec4\x20vSpotLightCoord[\x20NUM_SPOT_LIGHT_COORDS\x20];\x0a#endif\x0a#ifdef\x20USE_SHADOWMAP\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20mat4\x20directionalShadowMatrix[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vDirectionalShadowCoord[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20DirectionalLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20DirectionalLightShadow\x20directionalLightShadows[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09struct\x20SpotLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20SpotLightShadow\x20spotLightShadows[\x20NUM_SPOT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20mat4\x20pointShadowMatrix[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vPointShadowCoord[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20PointLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09\x09float\x20shadowCameraNear;\x0a\x09\x09\x09float\x20shadowCameraFar;\x0a\x09\x09};\x0a\x09\x09uniform\x20PointLightShadow\x20pointLightShadows[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a#endif','shadowmap_vertex':'#if\x20(\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x20||\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x20)\x20)\x20||\x20(\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x20)\x0a\x09vec3\x20shadowWorldNormal\x20=\x20inverseTransformDirection(\x20transformedNormal,\x20viewMatrix\x20);\x0a\x09vec4\x20shadowWorldPosition;\x0a#endif\x0a#if\x20defined(\x20USE_SHADOWMAP\x20)\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_DIR_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09shadowWorldPosition\x20=\x20worldPosition\x20+\x20vec4(\x20shadowWorldNormal\x20*\x20directionalLightShadows[\x20i\x20].shadowNormalBias,\x200\x20);\x0a\x09\x09\x09vDirectionalShadowCoord[\x20i\x20]\x20=\x20directionalShadowMatrix[\x20i\x20]\x20*\x20shadowWorldPosition;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_POINT_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09shadowWorldPosition\x20=\x20worldPosition\x20+\x20vec4(\x20shadowWorldNormal\x20*\x20pointLightShadows[\x20i\x20].shadowNormalBias,\x200\x20);\x0a\x09\x09\x09vPointShadowCoord[\x20i\x20]\x20=\x20pointShadowMatrix[\x20i\x20]\x20*\x20shadowWorldPosition;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a#endif\x0a#if\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_SPOT_LIGHT_COORDS;\x20i\x20++\x20)\x20{\x0a\x09\x09shadowWorldPosition\x20=\x20worldPosition;\x0a\x09\x09#if\x20(\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS\x20)\x0a\x09\x09\x09shadowWorldPosition.xyz\x20+=\x20shadowWorldNormal\x20*\x20spotLightShadows[\x20i\x20].shadowNormalBias;\x0a\x09\x09#endif\x0a\x09\x09vSpotLightCoord[\x20i\x20]\x20=\x20spotLightMatrix[\x20i\x20]\x20*\x20shadowWorldPosition;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif','shadowmask_pars_fragment':'float\x20getShadowMask()\x20{\x0a\x09float\x20shadow\x20=\x201.0;\x0a\x09#ifdef\x20USE_SHADOWMAP\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09DirectionalLightShadow\x20directionalLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_DIR_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09directionalLight\x20=\x20directionalLightShadows[\x20i\x20];\x0a\x09\x09shadow\x20*=\x20receiveShadow\x20?\x20getShadow(\x20directionalShadowMap[\x20i\x20],\x20directionalLight.shadowMapSize,\x20directionalLight.shadowIntensity,\x20directionalLight.shadowBias,\x20directionalLight.shadowRadius,\x20vDirectionalShadowCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#if\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09SpotLightShadow\x20spotLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_SPOT_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09spotLight\x20=\x20spotLightShadows[\x20i\x20];\x0a\x09\x09shadow\x20*=\x20receiveShadow\x20?\x20getShadow(\x20spotShadowMap[\x20i\x20],\x20spotLight.shadowMapSize,\x20spotLight.shadowIntensity,\x20spotLight.shadowBias,\x20spotLight.shadowRadius,\x20vSpotLightCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09PointLightShadow\x20pointLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_POINT_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09pointLight\x20=\x20pointLightShadows[\x20i\x20];\x0a\x09\x09shadow\x20*=\x20receiveShadow\x20?\x20getPointShadow(\x20pointShadowMap[\x20i\x20],\x20pointLight.shadowMapSize,\x20pointLight.shadowIntensity,\x20pointLight.shadowBias,\x20pointLight.shadowRadius,\x20vPointShadowCoord[\x20i\x20],\x20pointLight.shadowCameraNear,\x20pointLight.shadowCameraFar\x20)\x20:\x201.0;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#endif\x0a\x09return\x20shadow;\x0a}','skinbase_vertex':'#ifdef\x20USE_SKINNING\x0a\x09mat4\x20boneMatX\x20=\x20getBoneMatrix(\x20skinIndex.x\x20);\x0a\x09mat4\x20boneMatY\x20=\x20getBoneMatrix(\x20skinIndex.y\x20);\x0a\x09mat4\x20boneMatZ\x20=\x20getBoneMatrix(\x20skinIndex.z\x20);\x0a\x09mat4\x20boneMatW\x20=\x20getBoneMatrix(\x20skinIndex.w\x20);\x0a#endif','skinning_pars_vertex':'#ifdef\x20USE_SKINNING\x0a\x09uniform\x20mat4\x20bindMatrix;\x0a\x09uniform\x20mat4\x20bindMatrixInverse;\x0a\x09uniform\x20highp\x20sampler2D\x20boneTexture;\x0a\x09mat4\x20getBoneMatrix(\x20const\x20in\x20float\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20boneTexture,\x200\x20).x;\x0a\x09\x09int\x20j\x20=\x20int(\x20i\x20)\x20*\x204;\x0a\x09\x09int\x20x\x20=\x20j\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20j\x20/\x20size;\x0a\x09\x09vec4\x20v1\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v2\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x\x20+\x201,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v3\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x\x20+\x202,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v4\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x\x20+\x203,\x20y\x20),\x200\x20);\x0a\x09\x09return\x20mat4(\x20v1,\x20v2,\x20v3,\x20v4\x20);\x0a\x09}\x0a#endif','skinning_vertex':'#ifdef\x20USE_SKINNING\x0a\x09vec4\x20skinVertex\x20=\x20bindMatrix\x20*\x20vec4(\x20transformed,\x201.0\x20);\x0a\x09vec4\x20skinned\x20=\x20vec4(\x200.0\x20);\x0a\x09skinned\x20+=\x20boneMatX\x20*\x20skinVertex\x20*\x20skinWeight.x;\x0a\x09skinned\x20+=\x20boneMatY\x20*\x20skinVertex\x20*\x20skinWeight.y;\x0a\x09skinned\x20+=\x20boneMatZ\x20*\x20skinVertex\x20*\x20skinWeight.z;\x0a\x09skinned\x20+=\x20boneMatW\x20*\x20skinVertex\x20*\x20skinWeight.w;\x0a\x09transformed\x20=\x20(\x20bindMatrixInverse\x20*\x20skinned\x20).xyz;\x0a#endif','skinnormal_vertex':'#ifdef\x20USE_SKINNING\x0a\x09mat4\x20skinMatrix\x20=\x20mat4(\x200.0\x20);\x0a\x09skinMatrix\x20+=\x20skinWeight.x\x20*\x20boneMatX;\x0a\x09skinMatrix\x20+=\x20skinWeight.y\x20*\x20boneMatY;\x0a\x09skinMatrix\x20+=\x20skinWeight.z\x20*\x20boneMatZ;\x0a\x09skinMatrix\x20+=\x20skinWeight.w\x20*\x20boneMatW;\x0a\x09skinMatrix\x20=\x20bindMatrixInverse\x20*\x20skinMatrix\x20*\x20bindMatrix;\x0a\x09objectNormal\x20=\x20vec4(\x20skinMatrix\x20*\x20vec4(\x20objectNormal,\x200.0\x20)\x20).xyz;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09objectTangent\x20=\x20vec4(\x20skinMatrix\x20*\x20vec4(\x20objectTangent,\x200.0\x20)\x20).xyz;\x0a\x09#endif\x0a#endif','specularmap_fragment':'float\x20specularStrength;\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09vec4\x20texelSpecular\x20=\x20texture2D(\x20specularMap,\x20vSpecularMapUv\x20);\x0a\x09specularStrength\x20=\x20texelSpecular.r;\x0a#else\x0a\x09specularStrength\x20=\x201.0;\x0a#endif','specularmap_pars_fragment':'#ifdef\x20USE_SPECULARMAP\x0a\x09uniform\x20sampler2D\x20specularMap;\x0a#endif','tonemapping_fragment':'#if\x20defined(\x20TONE_MAPPING\x20)\x0a\x09gl_FragColor.rgb\x20=\x20toneMapping(\x20gl_FragColor.rgb\x20);\x0a#endif','tonemapping_pars_fragment':'#ifndef\x20saturate\x0a#define\x20saturate(\x20a\x20)\x20clamp(\x20a,\x200.0,\x201.0\x20)\x0a#endif\x0auniform\x20float\x20toneMappingExposure;\x0avec3\x20LinearToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09return\x20saturate(\x20toneMappingExposure\x20*\x20color\x20);\x0a}\x0avec3\x20ReinhardToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09return\x20saturate(\x20color\x20/\x20(\x20vec3(\x201.0\x20)\x20+\x20color\x20)\x20);\x0a}\x0avec3\x20CineonToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09color\x20=\x20max(\x20vec3(\x200.0\x20),\x20color\x20-\x200.004\x20);\x0a\x09return\x20pow(\x20(\x20color\x20*\x20(\x206.2\x20*\x20color\x20+\x200.5\x20)\x20)\x20/\x20(\x20color\x20*\x20(\x206.2\x20*\x20color\x20+\x201.7\x20)\x20+\x200.06\x20),\x20vec3(\x202.2\x20)\x20);\x0a}\x0avec3\x20RRTAndODTFit(\x20vec3\x20v\x20)\x20{\x0a\x09vec3\x20a\x20=\x20v\x20*\x20(\x20v\x20+\x200.0245786\x20)\x20-\x200.000090537;\x0a\x09vec3\x20b\x20=\x20v\x20*\x20(\x200.983729\x20*\x20v\x20+\x200.4329510\x20)\x20+\x200.238081;\x0a\x09return\x20a\x20/\x20b;\x0a}\x0avec3\x20ACESFilmicToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09const\x20mat3\x20ACESInputMat\x20=\x20mat3(\x0a\x09\x09vec3(\x200.59719,\x200.07600,\x200.02840\x20),\x09\x09vec3(\x200.35458,\x200.90834,\x200.13383\x20),\x0a\x09\x09vec3(\x200.04823,\x200.01566,\x200.83777\x20)\x0a\x09);\x0a\x09const\x20mat3\x20ACESOutputMat\x20=\x20mat3(\x0a\x09\x09vec3(\x20\x201.60475,\x20-0.10208,\x20-0.00327\x20),\x09\x09vec3(\x20-0.53108,\x20\x201.10813,\x20-0.07276\x20),\x0a\x09\x09vec3(\x20-0.07367,\x20-0.00605,\x20\x201.07602\x20)\x0a\x09);\x0a\x09color\x20*=\x20toneMappingExposure\x20/\x200.6;\x0a\x09color\x20=\x20ACESInputMat\x20*\x20color;\x0a\x09color\x20=\x20RRTAndODTFit(\x20color\x20);\x0a\x09color\x20=\x20ACESOutputMat\x20*\x20color;\x0a\x09return\x20saturate(\x20color\x20);\x0a}\x0aconst\x20mat3\x20LINEAR_REC2020_TO_LINEAR_SRGB\x20=\x20mat3(\x0a\x09vec3(\x201.6605,\x20-\x200.1246,\x20-\x200.0182\x20),\x0a\x09vec3(\x20-\x200.5876,\x201.1329,\x20-\x200.1006\x20),\x0a\x09vec3(\x20-\x200.0728,\x20-\x200.0083,\x201.1187\x20)\x0a);\x0aconst\x20mat3\x20LINEAR_SRGB_TO_LINEAR_REC2020\x20=\x20mat3(\x0a\x09vec3(\x200.6274,\x200.0691,\x200.0164\x20),\x0a\x09vec3(\x200.3293,\x200.9195,\x200.0880\x20),\x0a\x09vec3(\x200.0433,\x200.0113,\x200.8956\x20)\x0a);\x0avec3\x20agxDefaultContrastApprox(\x20vec3\x20x\x20)\x20{\x0a\x09vec3\x20x2\x20=\x20x\x20*\x20x;\x0a\x09vec3\x20x4\x20=\x20x2\x20*\x20x2;\x0a\x09return\x20+\x2015.5\x20*\x20x4\x20*\x20x2\x0a\x09\x09-\x2040.14\x20*\x20x4\x20*\x20x\x0a\x09\x09+\x2031.96\x20*\x20x4\x0a\x09\x09-\x206.868\x20*\x20x2\x20*\x20x\x0a\x09\x09+\x200.4298\x20*\x20x2\x0a\x09\x09+\x200.1191\x20*\x20x\x0a\x09\x09-\x200.00232;\x0a}\x0avec3\x20AgXToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09const\x20mat3\x20AgXInsetMatrix\x20=\x20mat3(\x0a\x09\x09vec3(\x200.856627153315983,\x200.137318972929847,\x200.11189821299995\x20),\x0a\x09\x09vec3(\x200.0951212405381588,\x200.761241990602591,\x200.0767994186031903\x20),\x0a\x09\x09vec3(\x200.0482516061458583,\x200.101439036467562,\x200.811302368396859\x20)\x0a\x09);\x0a\x09const\x20mat3\x20AgXOutsetMatrix\x20=\x20mat3(\x0a\x09\x09vec3(\x201.1271005818144368,\x20-\x200.1413297634984383,\x20-\x200.14132976349843826\x20),\x0a\x09\x09vec3(\x20-\x200.11060664309660323,\x201.157823702216272,\x20-\x200.11060664309660294\x20),\x0a\x09\x09vec3(\x20-\x200.016493938717834573,\x20-\x200.016493938717834257,\x201.2519364065950405\x20)\x0a\x09);\x0a\x09const\x20float\x20AgxMinEv\x20=\x20-\x2012.47393;\x09const\x20float\x20AgxMaxEv\x20=\x204.026069;\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09color\x20=\x20LINEAR_SRGB_TO_LINEAR_REC2020\x20*\x20color;\x0a\x09color\x20=\x20AgXInsetMatrix\x20*\x20color;\x0a\x09color\x20=\x20max(\x20color,\x201e-10\x20);\x09color\x20=\x20log2(\x20color\x20);\x0a\x09color\x20=\x20(\x20color\x20-\x20AgxMinEv\x20)\x20/\x20(\x20AgxMaxEv\x20-\x20AgxMinEv\x20);\x0a\x09color\x20=\x20clamp(\x20color,\x200.0,\x201.0\x20);\x0a\x09color\x20=\x20agxDefaultContrastApprox(\x20color\x20);\x0a\x09color\x20=\x20AgXOutsetMatrix\x20*\x20color;\x0a\x09color\x20=\x20pow(\x20max(\x20vec3(\x200.0\x20),\x20color\x20),\x20vec3(\x202.2\x20)\x20);\x0a\x09color\x20=\x20LINEAR_REC2020_TO_LINEAR_SRGB\x20*\x20color;\x0a\x09color\x20=\x20clamp(\x20color,\x200.0,\x201.0\x20);\x0a\x09return\x20color;\x0a}\x0avec3\x20NeutralToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09const\x20float\x20StartCompression\x20=\x200.8\x20-\x200.04;\x0a\x09const\x20float\x20Desaturation\x20=\x200.15;\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09float\x20x\x20=\x20min(\x20color.r,\x20min(\x20color.g,\x20color.b\x20)\x20);\x0a\x09float\x20offset\x20=\x20x\x20<\x200.08\x20?\x20x\x20-\x206.25\x20*\x20x\x20*\x20x\x20:\x200.04;\x0a\x09color\x20-=\x20offset;\x0a\x09float\x20peak\x20=\x20max(\x20color.r,\x20max(\x20color.g,\x20color.b\x20)\x20);\x0a\x09if\x20(\x20peak\x20<\x20StartCompression\x20)\x20return\x20color;\x0a\x09float\x20d\x20=\x201.\x20-\x20StartCompression;\x0a\x09float\x20newPeak\x20=\x201.\x20-\x20d\x20*\x20d\x20/\x20(\x20peak\x20+\x20d\x20-\x20StartCompression\x20);\x0a\x09color\x20*=\x20newPeak\x20/\x20peak;\x0a\x09float\x20g\x20=\x201.\x20-\x201.\x20/\x20(\x20Desaturation\x20*\x20(\x20peak\x20-\x20newPeak\x20)\x20+\x201.\x20);\x0a\x09return\x20mix(\x20color,\x20vec3(\x20newPeak\x20),\x20g\x20);\x0a}\x0avec3\x20CustomToneMapping(\x20vec3\x20color\x20)\x20{\x20return\x20color;\x20}','transmission_fragment':'#ifdef\x20USE_TRANSMISSION\x0a\x09material.transmission\x20=\x20transmission;\x0a\x09material.transmissionAlpha\x20=\x201.0;\x0a\x09material.thickness\x20=\x20thickness;\x0a\x09material.attenuationDistance\x20=\x20attenuationDistance;\x0a\x09material.attenuationColor\x20=\x20attenuationColor;\x0a\x09#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09\x09material.transmission\x20*=\x20texture2D(\x20transmissionMap,\x20vTransmissionMapUv\x20).r;\x0a\x09#endif\x0a\x09#ifdef\x20USE_THICKNESSMAP\x0a\x09\x09material.thickness\x20*=\x20texture2D(\x20thicknessMap,\x20vThicknessMapUv\x20).g;\x0a\x09#endif\x0a\x09vec3\x20pos\x20=\x20vWorldPosition;\x0a\x09vec3\x20v\x20=\x20normalize(\x20cameraPosition\x20-\x20pos\x20);\x0a\x09vec3\x20n\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09vec4\x20transmitted\x20=\x20getIBLVolumeRefraction(\x0a\x09\x09n,\x20v,\x20material.roughness,\x20material.diffuseColor,\x20material.specularColor,\x20material.specularF90,\x0a\x09\x09pos,\x20modelMatrix,\x20viewMatrix,\x20projectionMatrix,\x20material.dispersion,\x20material.ior,\x20material.thickness,\x0a\x09\x09material.attenuationColor,\x20material.attenuationDistance\x20);\x0a\x09material.transmissionAlpha\x20=\x20mix(\x20material.transmissionAlpha,\x20transmitted.a,\x20material.transmission\x20);\x0a\x09totalDiffuse\x20=\x20mix(\x20totalDiffuse,\x20transmitted.rgb,\x20material.transmission\x20);\x0a#endif','transmission_pars_fragment':'#ifdef\x20USE_TRANSMISSION\x0a\x09uniform\x20float\x20transmission;\x0a\x09uniform\x20float\x20thickness;\x0a\x09uniform\x20float\x20attenuationDistance;\x0a\x09uniform\x20vec3\x20attenuationColor;\x0a\x09#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09\x09uniform\x20sampler2D\x20transmissionMap;\x0a\x09#endif\x0a\x09#ifdef\x20USE_THICKNESSMAP\x0a\x09\x09uniform\x20sampler2D\x20thicknessMap;\x0a\x09#endif\x0a\x09uniform\x20vec2\x20transmissionSamplerSize;\x0a\x09uniform\x20sampler2D\x20transmissionSamplerMap;\x0a\x09uniform\x20mat4\x20modelMatrix;\x0a\x09uniform\x20mat4\x20projectionMatrix;\x0a\x09varying\x20vec3\x20vWorldPosition;\x0a\x09float\x20w0(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20(\x20a\x20*\x20(\x20-\x20a\x20+\x203.0\x20)\x20-\x203.0\x20)\x20+\x201.0\x20);\x0a\x09}\x0a\x09float\x20w1(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20\x20a\x20*\x20(\x203.0\x20*\x20a\x20-\x206.0\x20)\x20+\x204.0\x20);\x0a\x09}\x0a\x09float\x20w2(\x20float\x20a\x20){\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20(\x20a\x20*\x20(\x20-\x203.0\x20*\x20a\x20+\x203.0\x20)\x20+\x203.0\x20)\x20+\x201.0\x20);\x0a\x09}\x0a\x09float\x20w3(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20a\x20*\x20a\x20);\x0a\x09}\x0a\x09float\x20g0(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20w0(\x20a\x20)\x20+\x20w1(\x20a\x20);\x0a\x09}\x0a\x09float\x20g1(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20w2(\x20a\x20)\x20+\x20w3(\x20a\x20);\x0a\x09}\x0a\x09float\x20h0(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20-\x201.0\x20+\x20w1(\x20a\x20)\x20/\x20(\x20w0(\x20a\x20)\x20+\x20w1(\x20a\x20)\x20);\x0a\x09}\x0a\x09float\x20h1(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x201.0\x20+\x20w3(\x20a\x20)\x20/\x20(\x20w2(\x20a\x20)\x20+\x20w3(\x20a\x20)\x20);\x0a\x09}\x0a\x09vec4\x20bicubic(\x20sampler2D\x20tex,\x20vec2\x20uv,\x20vec4\x20texelSize,\x20float\x20lod\x20)\x20{\x0a\x09\x09uv\x20=\x20uv\x20*\x20texelSize.zw\x20+\x200.5;\x0a\x09\x09vec2\x20iuv\x20=\x20floor(\x20uv\x20);\x0a\x09\x09vec2\x20fuv\x20=\x20fract(\x20uv\x20);\x0a\x09\x09float\x20g0x\x20=\x20g0(\x20fuv.x\x20);\x0a\x09\x09float\x20g1x\x20=\x20g1(\x20fuv.x\x20);\x0a\x09\x09float\x20h0x\x20=\x20h0(\x20fuv.x\x20);\x0a\x09\x09float\x20h1x\x20=\x20h1(\x20fuv.x\x20);\x0a\x09\x09float\x20h0y\x20=\x20h0(\x20fuv.y\x20);\x0a\x09\x09float\x20h1y\x20=\x20h1(\x20fuv.y\x20);\x0a\x09\x09vec2\x20p0\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h0x,\x20iuv.y\x20+\x20h0y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09vec2\x20p1\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h1x,\x20iuv.y\x20+\x20h0y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09vec2\x20p2\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h0x,\x20iuv.y\x20+\x20h1y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09vec2\x20p3\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h1x,\x20iuv.y\x20+\x20h1y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09return\x20g0(\x20fuv.y\x20)\x20*\x20(\x20g0x\x20*\x20textureLod(\x20tex,\x20p0,\x20lod\x20)\x20+\x20g1x\x20*\x20textureLod(\x20tex,\x20p1,\x20lod\x20)\x20)\x20+\x0a\x09\x09\x09g1(\x20fuv.y\x20)\x20*\x20(\x20g0x\x20*\x20textureLod(\x20tex,\x20p2,\x20lod\x20)\x20+\x20g1x\x20*\x20textureLod(\x20tex,\x20p3,\x20lod\x20)\x20);\x0a\x09}\x0a\x09vec4\x20textureBicubic(\x20sampler2D\x20sampler,\x20vec2\x20uv,\x20float\x20lod\x20)\x20{\x0a\x09\x09vec2\x20fLodSize\x20=\x20vec2(\x20textureSize(\x20sampler,\x20int(\x20lod\x20)\x20)\x20);\x0a\x09\x09vec2\x20cLodSize\x20=\x20vec2(\x20textureSize(\x20sampler,\x20int(\x20lod\x20+\x201.0\x20)\x20)\x20);\x0a\x09\x09vec2\x20fLodSizeInv\x20=\x201.0\x20/\x20fLodSize;\x0a\x09\x09vec2\x20cLodSizeInv\x20=\x201.0\x20/\x20cLodSize;\x0a\x09\x09vec4\x20fSample\x20=\x20bicubic(\x20sampler,\x20uv,\x20vec4(\x20fLodSizeInv,\x20fLodSize\x20),\x20floor(\x20lod\x20)\x20);\x0a\x09\x09vec4\x20cSample\x20=\x20bicubic(\x20sampler,\x20uv,\x20vec4(\x20cLodSizeInv,\x20cLodSize\x20),\x20ceil(\x20lod\x20)\x20);\x0a\x09\x09return\x20mix(\x20fSample,\x20cSample,\x20fract(\x20lod\x20)\x20);\x0a\x09}\x0a\x09vec3\x20getVolumeTransmissionRay(\x20const\x20in\x20vec3\x20n,\x20const\x20in\x20vec3\x20v,\x20const\x20in\x20float\x20thickness,\x20const\x20in\x20float\x20ior,\x20const\x20in\x20mat4\x20modelMatrix\x20)\x20{\x0a\x09\x09vec3\x20refractionVector\x20=\x20refract(\x20-\x20v,\x20normalize(\x20n\x20),\x201.0\x20/\x20ior\x20);\x0a\x09\x09vec3\x20modelScale;\x0a\x09\x09modelScale.x\x20=\x20length(\x20vec3(\x20modelMatrix[\x200\x20].xyz\x20)\x20);\x0a\x09\x09modelScale.y\x20=\x20length(\x20vec3(\x20modelMatrix[\x201\x20].xyz\x20)\x20);\x0a\x09\x09modelScale.z\x20=\x20length(\x20vec3(\x20modelMatrix[\x202\x20].xyz\x20)\x20);\x0a\x09\x09return\x20normalize(\x20refractionVector\x20)\x20*\x20thickness\x20*\x20modelScale;\x0a\x09}\x0a\x09float\x20applyIorToRoughness(\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20float\x20ior\x20)\x20{\x0a\x09\x09return\x20roughness\x20*\x20clamp(\x20ior\x20*\x202.0\x20-\x202.0,\x200.0,\x201.0\x20);\x0a\x09}\x0a\x09vec4\x20getTransmissionSample(\x20const\x20in\x20vec2\x20fragCoord,\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20float\x20ior\x20)\x20{\x0a\x09\x09float\x20lod\x20=\x20log2(\x20transmissionSamplerSize.x\x20)\x20*\x20applyIorToRoughness(\x20roughness,\x20ior\x20);\x0a\x09\x09return\x20textureBicubic(\x20transmissionSamplerMap,\x20fragCoord.xy,\x20lod\x20);\x0a\x09}\x0a\x09vec3\x20volumeAttenuation(\x20const\x20in\x20float\x20transmissionDistance,\x20const\x20in\x20vec3\x20attenuationColor,\x20const\x20in\x20float\x20attenuationDistance\x20)\x20{\x0a\x09\x09if\x20(\x20isinf(\x20attenuationDistance\x20)\x20)\x20{\x0a\x09\x09\x09return\x20vec3(\x201.0\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09vec3\x20attenuationCoefficient\x20=\x20-log(\x20attenuationColor\x20)\x20/\x20attenuationDistance;\x0a\x09\x09\x09vec3\x20transmittance\x20=\x20exp(\x20-\x20attenuationCoefficient\x20*\x20transmissionDistance\x20);\x09\x09\x09return\x20transmittance;\x0a\x09\x09}\x0a\x09}\x0a\x09vec4\x20getIBLVolumeRefraction(\x20const\x20in\x20vec3\x20n,\x20const\x20in\x20vec3\x20v,\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20vec3\x20diffuseColor,\x0a\x09\x09const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20vec3\x20position,\x20const\x20in\x20mat4\x20modelMatrix,\x0a\x09\x09const\x20in\x20mat4\x20viewMatrix,\x20const\x20in\x20mat4\x20projMatrix,\x20const\x20in\x20float\x20dispersion,\x20const\x20in\x20float\x20ior,\x20const\x20in\x20float\x20thickness,\x0a\x09\x09const\x20in\x20vec3\x20attenuationColor,\x20const\x20in\x20float\x20attenuationDistance\x20)\x20{\x0a\x09\x09vec4\x20transmittedLight;\x0a\x09\x09vec3\x20transmittance;\x0a\x09\x09#ifdef\x20USE_DISPERSION\x0a\x09\x09\x09float\x20halfSpread\x20=\x20(\x20ior\x20-\x201.0\x20)\x20*\x200.025\x20*\x20dispersion;\x0a\x09\x09\x09vec3\x20iors\x20=\x20vec3(\x20ior\x20-\x20halfSpread,\x20ior,\x20ior\x20+\x20halfSpread\x20);\x0a\x09\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x203;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09\x09vec3\x20transmissionRay\x20=\x20getVolumeTransmissionRay(\x20n,\x20v,\x20thickness,\x20iors[\x20i\x20],\x20modelMatrix\x20);\x0a\x09\x09\x09\x09vec3\x20refractedRayExit\x20=\x20position\x20+\x20transmissionRay;\x0a\x09\x09\x09\x09vec4\x20ndcPos\x20=\x20projMatrix\x20*\x20viewMatrix\x20*\x20vec4(\x20refractedRayExit,\x201.0\x20);\x0a\x09\x09\x09\x09vec2\x20refractionCoords\x20=\x20ndcPos.xy\x20/\x20ndcPos.w;\x0a\x09\x09\x09\x09refractionCoords\x20+=\x201.0;\x0a\x09\x09\x09\x09refractionCoords\x20/=\x202.0;\x0a\x09\x09\x09\x09vec4\x20transmissionSample\x20=\x20getTransmissionSample(\x20refractionCoords,\x20roughness,\x20iors[\x20i\x20]\x20);\x0a\x09\x09\x09\x09transmittedLight[\x20i\x20]\x20=\x20transmissionSample[\x20i\x20];\x0a\x09\x09\x09\x09transmittedLight.a\x20+=\x20transmissionSample.a;\x0a\x09\x09\x09\x09transmittance[\x20i\x20]\x20=\x20diffuseColor[\x20i\x20]\x20*\x20volumeAttenuation(\x20length(\x20transmissionRay\x20),\x20attenuationColor,\x20attenuationDistance\x20)[\x20i\x20];\x0a\x09\x09\x09}\x0a\x09\x09\x09transmittedLight.a\x20/=\x203.0;\x0a\x09\x09#else\x0a\x09\x09\x09vec3\x20transmissionRay\x20=\x20getVolumeTransmissionRay(\x20n,\x20v,\x20thickness,\x20ior,\x20modelMatrix\x20);\x0a\x09\x09\x09vec3\x20refractedRayExit\x20=\x20position\x20+\x20transmissionRay;\x0a\x09\x09\x09vec4\x20ndcPos\x20=\x20projMatrix\x20*\x20viewMatrix\x20*\x20vec4(\x20refractedRayExit,\x201.0\x20);\x0a\x09\x09\x09vec2\x20refractionCoords\x20=\x20ndcPos.xy\x20/\x20ndcPos.w;\x0a\x09\x09\x09refractionCoords\x20+=\x201.0;\x0a\x09\x09\x09refractionCoords\x20/=\x202.0;\x0a\x09\x09\x09transmittedLight\x20=\x20getTransmissionSample(\x20refractionCoords,\x20roughness,\x20ior\x20);\x0a\x09\x09\x09transmittance\x20=\x20diffuseColor\x20*\x20volumeAttenuation(\x20length(\x20transmissionRay\x20),\x20attenuationColor,\x20attenuationDistance\x20);\x0a\x09\x09#endif\x0a\x09\x09vec3\x20attenuatedColor\x20=\x20transmittance\x20*\x20transmittedLight.rgb;\x0a\x09\x09vec3\x20F\x20=\x20EnvironmentBRDF(\x20n,\x20v,\x20specularColor,\x20specularF90,\x20roughness\x20);\x0a\x09\x09float\x20transmittanceFactor\x20=\x20(\x20transmittance.r\x20+\x20transmittance.g\x20+\x20transmittance.b\x20)\x20/\x203.0;\x0a\x09\x09return\x20vec4(\x20(\x201.0\x20-\x20F\x20)\x20*\x20attenuatedColor,\x201.0\x20-\x20(\x201.0\x20-\x20transmittedLight.a\x20)\x20*\x20transmittanceFactor\x20);\x0a\x09}\x0a#endif','uv_pars_fragment':'#if\x20defined(\x20USE_UV\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09varying\x20vec2\x20vUv;\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09varying\x20vec2\x20vMapUv;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09varying\x20vec2\x20vAlphaMapUv;\x0a#endif\x0a#ifdef\x20USE_LIGHTMAP\x0a\x09varying\x20vec2\x20vLightMapUv;\x0a#endif\x0a#ifdef\x20USE_AOMAP\x0a\x09varying\x20vec2\x20vAoMapUv;\x0a#endif\x0a#ifdef\x20USE_BUMPMAP\x0a\x09varying\x20vec2\x20vBumpMapUv;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP\x0a\x09varying\x20vec2\x20vNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_EMISSIVEMAP\x0a\x09varying\x20vec2\x20vEmissiveMapUv;\x0a#endif\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09varying\x20vec2\x20vMetalnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09varying\x20vec2\x20vRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ANISOTROPYMAP\x0a\x09varying\x20vec2\x20vAnisotropyMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOATMAP\x0a\x09varying\x20vec2\x20vClearcoatMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09varying\x20vec2\x20vClearcoatNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09varying\x20vec2\x20vClearcoatRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09varying\x20vec2\x20vIridescenceMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09varying\x20vec2\x20vIridescenceThicknessMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09varying\x20vec2\x20vSheenColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09varying\x20vec2\x20vSheenRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09varying\x20vec2\x20vSpecularMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09varying\x20vec2\x20vSpecularColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09varying\x20vec2\x20vSpecularIntensityMapUv;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09uniform\x20mat3\x20transmissionMapTransform;\x0a\x09varying\x20vec2\x20vTransmissionMapUv;\x0a#endif\x0a#ifdef\x20USE_THICKNESSMAP\x0a\x09uniform\x20mat3\x20thicknessMapTransform;\x0a\x09varying\x20vec2\x20vThicknessMapUv;\x0a#endif','uv_pars_vertex':'#if\x20defined(\x20USE_UV\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09varying\x20vec2\x20vUv;\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09uniform\x20mat3\x20mapTransform;\x0a\x09varying\x20vec2\x20vMapUv;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09uniform\x20mat3\x20alphaMapTransform;\x0a\x09varying\x20vec2\x20vAlphaMapUv;\x0a#endif\x0a#ifdef\x20USE_LIGHTMAP\x0a\x09uniform\x20mat3\x20lightMapTransform;\x0a\x09varying\x20vec2\x20vLightMapUv;\x0a#endif\x0a#ifdef\x20USE_AOMAP\x0a\x09uniform\x20mat3\x20aoMapTransform;\x0a\x09varying\x20vec2\x20vAoMapUv;\x0a#endif\x0a#ifdef\x20USE_BUMPMAP\x0a\x09uniform\x20mat3\x20bumpMapTransform;\x0a\x09varying\x20vec2\x20vBumpMapUv;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP\x0a\x09uniform\x20mat3\x20normalMapTransform;\x0a\x09varying\x20vec2\x20vNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09uniform\x20mat3\x20displacementMapTransform;\x0a\x09varying\x20vec2\x20vDisplacementMapUv;\x0a#endif\x0a#ifdef\x20USE_EMISSIVEMAP\x0a\x09uniform\x20mat3\x20emissiveMapTransform;\x0a\x09varying\x20vec2\x20vEmissiveMapUv;\x0a#endif\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09uniform\x20mat3\x20metalnessMapTransform;\x0a\x09varying\x20vec2\x20vMetalnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09uniform\x20mat3\x20roughnessMapTransform;\x0a\x09varying\x20vec2\x20vRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ANISOTROPYMAP\x0a\x09uniform\x20mat3\x20anisotropyMapTransform;\x0a\x09varying\x20vec2\x20vAnisotropyMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOATMAP\x0a\x09uniform\x20mat3\x20clearcoatMapTransform;\x0a\x09varying\x20vec2\x20vClearcoatMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09uniform\x20mat3\x20clearcoatNormalMapTransform;\x0a\x09varying\x20vec2\x20vClearcoatNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09uniform\x20mat3\x20clearcoatRoughnessMapTransform;\x0a\x09varying\x20vec2\x20vClearcoatRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09uniform\x20mat3\x20sheenColorMapTransform;\x0a\x09varying\x20vec2\x20vSheenColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09uniform\x20mat3\x20sheenRoughnessMapTransform;\x0a\x09varying\x20vec2\x20vSheenRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09uniform\x20mat3\x20iridescenceMapTransform;\x0a\x09varying\x20vec2\x20vIridescenceMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09uniform\x20mat3\x20iridescenceThicknessMapTransform;\x0a\x09varying\x20vec2\x20vIridescenceThicknessMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09uniform\x20mat3\x20specularMapTransform;\x0a\x09varying\x20vec2\x20vSpecularMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09uniform\x20mat3\x20specularColorMapTransform;\x0a\x09varying\x20vec2\x20vSpecularColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09uniform\x20mat3\x20specularIntensityMapTransform;\x0a\x09varying\x20vec2\x20vSpecularIntensityMapUv;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09uniform\x20mat3\x20transmissionMapTransform;\x0a\x09varying\x20vec2\x20vTransmissionMapUv;\x0a#endif\x0a#ifdef\x20USE_THICKNESSMAP\x0a\x09uniform\x20mat3\x20thicknessMapTransform;\x0a\x09varying\x20vec2\x20vThicknessMapUv;\x0a#endif','uv_vertex':'#if\x20defined(\x20USE_UV\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09vUv\x20=\x20vec3(\x20uv,\x201\x20).xy;\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09vMapUv\x20=\x20(\x20mapTransform\x20*\x20vec3(\x20MAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09vAlphaMapUv\x20=\x20(\x20alphaMapTransform\x20*\x20vec3(\x20ALPHAMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_LIGHTMAP\x0a\x09vLightMapUv\x20=\x20(\x20lightMapTransform\x20*\x20vec3(\x20LIGHTMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_AOMAP\x0a\x09vAoMapUv\x20=\x20(\x20aoMapTransform\x20*\x20vec3(\x20AOMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_BUMPMAP\x0a\x09vBumpMapUv\x20=\x20(\x20bumpMapTransform\x20*\x20vec3(\x20BUMPMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP\x0a\x09vNormalMapUv\x20=\x20(\x20normalMapTransform\x20*\x20vec3(\x20NORMALMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09vDisplacementMapUv\x20=\x20(\x20displacementMapTransform\x20*\x20vec3(\x20DISPLACEMENTMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_EMISSIVEMAP\x0a\x09vEmissiveMapUv\x20=\x20(\x20emissiveMapTransform\x20*\x20vec3(\x20EMISSIVEMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09vMetalnessMapUv\x20=\x20(\x20metalnessMapTransform\x20*\x20vec3(\x20METALNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09vRoughnessMapUv\x20=\x20(\x20roughnessMapTransform\x20*\x20vec3(\x20ROUGHNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_ANISOTROPYMAP\x0a\x09vAnisotropyMapUv\x20=\x20(\x20anisotropyMapTransform\x20*\x20vec3(\x20ANISOTROPYMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_CLEARCOATMAP\x0a\x09vClearcoatMapUv\x20=\x20(\x20clearcoatMapTransform\x20*\x20vec3(\x20CLEARCOATMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09vClearcoatNormalMapUv\x20=\x20(\x20clearcoatNormalMapTransform\x20*\x20vec3(\x20CLEARCOAT_NORMALMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09vClearcoatRoughnessMapUv\x20=\x20(\x20clearcoatRoughnessMapTransform\x20*\x20vec3(\x20CLEARCOAT_ROUGHNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09vIridescenceMapUv\x20=\x20(\x20iridescenceMapTransform\x20*\x20vec3(\x20IRIDESCENCEMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09vIridescenceThicknessMapUv\x20=\x20(\x20iridescenceThicknessMapTransform\x20*\x20vec3(\x20IRIDESCENCE_THICKNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09vSheenColorMapUv\x20=\x20(\x20sheenColorMapTransform\x20*\x20vec3(\x20SHEEN_COLORMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09vSheenRoughnessMapUv\x20=\x20(\x20sheenRoughnessMapTransform\x20*\x20vec3(\x20SHEEN_ROUGHNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09vSpecularMapUv\x20=\x20(\x20specularMapTransform\x20*\x20vec3(\x20SPECULARMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09vSpecularColorMapUv\x20=\x20(\x20specularColorMapTransform\x20*\x20vec3(\x20SPECULAR_COLORMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09vSpecularIntensityMapUv\x20=\x20(\x20specularIntensityMapTransform\x20*\x20vec3(\x20SPECULAR_INTENSITYMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09vTransmissionMapUv\x20=\x20(\x20transmissionMapTransform\x20*\x20vec3(\x20TRANSMISSIONMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_THICKNESSMAP\x0a\x09vThicknessMapUv\x20=\x20(\x20thicknessMapTransform\x20*\x20vec3(\x20THICKNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif','worldpos_vertex':'#if\x20defined(\x20USE_ENVMAP\x20)\x20||\x20defined(\x20DISTANCE\x20)\x20||\x20defined\x20(\x20USE_SHADOWMAP\x20)\x20||\x20defined\x20(\x20USE_TRANSMISSION\x20)\x20||\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09vec4\x20worldPosition\x20=\x20vec4(\x20transformed,\x201.0\x20);\x0a\x09#ifdef\x20USE_BATCHING\x0a\x09\x09worldPosition\x20=\x20batchingMatrix\x20*\x20worldPosition;\x0a\x09#endif\x0a\x09#ifdef\x20USE_INSTANCING\x0a\x09\x09worldPosition\x20=\x20instanceMatrix\x20*\x20worldPosition;\x0a\x09#endif\x0a\x09worldPosition\x20=\x20modelMatrix\x20*\x20worldPosition;\x0a#endif','background_vert':'varying\x20vec2\x20vUv;\x0auniform\x20mat3\x20uvTransform;\x0avoid\x20main()\x20{\x0a\x09vUv\x20=\x20(\x20uvTransform\x20*\x20vec3(\x20uv,\x201\x20)\x20).xy;\x0a\x09gl_Position\x20=\x20vec4(\x20position.xy,\x201.0,\x201.0\x20);\x0a}','background_frag':'uniform\x20sampler2D\x20t2D;\x0auniform\x20float\x20backgroundIntensity;\x0avarying\x20vec2\x20vUv;\x0avoid\x20main()\x20{\x0a\x09vec4\x20texColor\x20=\x20texture2D(\x20t2D,\x20vUv\x20);\x0a\x09#ifdef\x20DECODE_VIDEO_TEXTURE\x0a\x09\x09texColor\x20=\x20vec4(\x20mix(\x20pow(\x20texColor.rgb\x20*\x200.9478672986\x20+\x20vec3(\x200.0521327014\x20),\x20vec3(\x202.4\x20)\x20),\x20texColor.rgb\x20*\x200.0773993808,\x20vec3(\x20lessThanEqual(\x20texColor.rgb,\x20vec3(\x200.04045\x20)\x20)\x20)\x20),\x20texColor.w\x20);\x0a\x09#endif\x0a\x09texColor.rgb\x20*=\x20backgroundIntensity;\x0a\x09gl_FragColor\x20=\x20texColor;\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','backgroundCube_vert':'varying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09gl_Position.z\x20=\x20gl_Position.w;\x0a}','backgroundCube_frag':'#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09uniform\x20samplerCube\x20envMap;\x0a#elif\x20defined(\x20ENVMAP_TYPE_CUBE_UV\x20)\x0a\x09uniform\x20sampler2D\x20envMap;\x0a#endif\x0auniform\x20float\x20flipEnvMap;\x0auniform\x20float\x20backgroundBlurriness;\x0auniform\x20float\x20backgroundIntensity;\x0auniform\x20mat3\x20backgroundRotation;\x0avarying\x20vec3\x20vWorldDirection;\x0a#include\x20<cube_uv_reflection_fragment>\x0avoid\x20main()\x20{\x0a\x09#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09\x09vec4\x20texColor\x20=\x20textureCube(\x20envMap,\x20backgroundRotation\x20*\x20vec3(\x20flipEnvMap\x20*\x20vWorldDirection.x,\x20vWorldDirection.yz\x20)\x20);\x0a\x09#elif\x20defined(\x20ENVMAP_TYPE_CUBE_UV\x20)\x0a\x09\x09vec4\x20texColor\x20=\x20textureCubeUV(\x20envMap,\x20backgroundRotation\x20*\x20vWorldDirection,\x20backgroundBlurriness\x20);\x0a\x09#else\x0a\x09\x09vec4\x20texColor\x20=\x20vec4(\x200.0,\x200.0,\x200.0,\x201.0\x20);\x0a\x09#endif\x0a\x09texColor.rgb\x20*=\x20backgroundIntensity;\x0a\x09gl_FragColor\x20=\x20texColor;\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','cube_vert':'varying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09gl_Position.z\x20=\x20gl_Position.w;\x0a}','cube_frag':'uniform\x20samplerCube\x20tCube;\x0auniform\x20float\x20tFlip;\x0auniform\x20float\x20opacity;\x0avarying\x20vec3\x20vWorldDirection;\x0avoid\x20main()\x20{\x0a\x09vec4\x20texColor\x20=\x20textureCube(\x20tCube,\x20vec3(\x20tFlip\x20*\x20vWorldDirection.x,\x20vWorldDirection.yz\x20)\x20);\x0a\x09gl_FragColor\x20=\x20texColor;\x0a\x09gl_FragColor.a\x20*=\x20opacity;\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','depth_vert':'#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avarying\x20vec2\x20vHighPrecisionZW;\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09\x09#include\x20<beginnormal_vertex>\x0a\x09\x09#include\x20<morphnormal_vertex>\x0a\x09\x09#include\x20<skinnormal_vertex>\x0a\x09#endif\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vHighPrecisionZW\x20=\x20gl_Position.zw;\x0a}','depth_frag':'#if\x20DEPTH_PACKING\x20==\x203200\x0a\x09uniform\x20float\x20opacity;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avarying\x20vec2\x20vHighPrecisionZW;\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x201.0\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#if\x20DEPTH_PACKING\x20==\x203200\x0a\x09\x09diffuseColor.a\x20=\x20opacity;\x0a\x09#endif\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09float\x20fragCoordZ\x20=\x200.5\x20*\x20vHighPrecisionZW[0]\x20/\x20vHighPrecisionZW[1]\x20+\x200.5;\x0a\x09#if\x20DEPTH_PACKING\x20==\x203200\x0a\x09\x09gl_FragColor\x20=\x20vec4(\x20vec3(\x201.0\x20-\x20fragCoordZ\x20),\x20opacity\x20);\x0a\x09#elif\x20DEPTH_PACKING\x20==\x203201\x0a\x09\x09gl_FragColor\x20=\x20packDepthToRGBA(\x20fragCoordZ\x20);\x0a\x09#elif\x20DEPTH_PACKING\x20==\x203202\x0a\x09\x09gl_FragColor\x20=\x20vec4(\x20packDepthToRGB(\x20fragCoordZ\x20),\x201.0\x20);\x0a\x09#elif\x20DEPTH_PACKING\x20==\x203203\x0a\x09\x09gl_FragColor\x20=\x20vec4(\x20packDepthToRG(\x20fragCoordZ\x20),\x200.0,\x201.0\x20);\x0a\x09#endif\x0a}','distanceRGBA_vert':'#define\x20DISTANCE\x0avarying\x20vec3\x20vWorldPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09\x09#include\x20<beginnormal_vertex>\x0a\x09\x09#include\x20<morphnormal_vertex>\x0a\x09\x09#include\x20<skinnormal_vertex>\x0a\x09#endif\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vWorldPosition\x20=\x20worldPosition.xyz;\x0a}','distanceRGBA_frag':'#define\x20DISTANCE\x0auniform\x20vec3\x20referencePosition;\x0auniform\x20float\x20nearDistance;\x0auniform\x20float\x20farDistance;\x0avarying\x20vec3\x20vWorldPosition;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main\x20()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x201.0\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09float\x20dist\x20=\x20length(\x20vWorldPosition\x20-\x20referencePosition\x20);\x0a\x09dist\x20=\x20(\x20dist\x20-\x20nearDistance\x20)\x20/\x20(\x20farDistance\x20-\x20nearDistance\x20);\x0a\x09dist\x20=\x20saturate(\x20dist\x20);\x0a\x09gl_FragColor\x20=\x20packDepthToRGBA(\x20dist\x20);\x0a}','equirect_vert':'varying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<project_vertex>\x0a}','equirect_frag':'uniform\x20sampler2D\x20tEquirect;\x0avarying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vec3\x20direction\x20=\x20normalize(\x20vWorldDirection\x20);\x0a\x09vec2\x20sampleUV\x20=\x20equirectUv(\x20direction\x20);\x0a\x09gl_FragColor\x20=\x20texture2D(\x20tEquirect,\x20sampleUV\x20);\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','linedashed_vert':'uniform\x20float\x20scale;\x0aattribute\x20float\x20lineDistance;\x0avarying\x20float\x20vLineDistance;\x0a#include\x20<common>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09vLineDistance\x20=\x20scale\x20*\x20lineDistance;\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','linedashed_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0auniform\x20float\x20dashSize;\x0auniform\x20float\x20totalSize;\x0avarying\x20float\x20vLineDistance;\x0a#include\x20<common>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09if\x20(\x20mod(\x20vLineDistance,\x20totalSize\x20)\x20>\x20dashSize\x20)\x20{\x0a\x09\x09discard;\x0a\x09}\x0a\x09vec3\x20outgoingLight\x20=\x20vec3(\x200.0\x20);\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09outgoingLight\x20=\x20diffuseColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a}','meshbasic_vert':'#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<envmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#if\x20defined\x20(\x20USE_ENVMAP\x20)\x20||\x20defined\x20(\x20USE_SKINNING\x20)\x0a\x09\x09#include\x20<beginnormal_vertex>\x0a\x09\x09#include\x20<morphnormal_vertex>\x0a\x09\x09#include\x20<skinbase_vertex>\x0a\x09\x09#include\x20<skinnormal_vertex>\x0a\x09\x09#include\x20<defaultnormal_vertex>\x0a\x09#endif\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<envmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshbasic_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0a#ifndef\x20FLAT_SHADED\x0a\x09varying\x20vec3\x20vNormal;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<specularmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<specularmap_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09#ifdef\x20USE_LIGHTMAP\x0a\x09\x09vec4\x20lightMapTexel\x20=\x20texture2D(\x20lightMap,\x20vLightMapUv\x20);\x0a\x09\x09reflectedLight.indirectDiffuse\x20+=\x20lightMapTexel.rgb\x20*\x20lightMapIntensity\x20*\x20RECIPROCAL_PI;\x0a\x09#else\x0a\x09\x09reflectedLight.indirectDiffuse\x20+=\x20vec3(\x201.0\x20);\x0a\x09#endif\x0a\x09#include\x20<aomap_fragment>\x0a\x09reflectedLight.indirectDiffuse\x20*=\x20diffuseColor.rgb;\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.indirectDiffuse;\x0a\x09#include\x20<envmap_fragment>\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshlambert_vert':'#define\x20LAMBERT\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<envmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<envmap_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshlambert_frag':'#define\x20LAMBERT\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_lambert_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<specularmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<specularmap_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_lambert_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse\x20+\x20totalEmissiveRadiance;\x0a\x09#include\x20<envmap_fragment>\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshmatcap_vert':'#define\x20MATCAP\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<fog_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a}','meshmatcap_frag':'#define\x20MATCAP\x0auniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0auniform\x20sampler2D\x20matcap;\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09vec3\x20viewDir\x20=\x20normalize(\x20vViewPosition\x20);\x0a\x09vec3\x20x\x20=\x20normalize(\x20vec3(\x20viewDir.z,\x200.0,\x20-\x20viewDir.x\x20)\x20);\x0a\x09vec3\x20y\x20=\x20cross(\x20viewDir,\x20x\x20);\x0a\x09vec2\x20uv\x20=\x20vec2(\x20dot(\x20x,\x20normal\x20),\x20dot(\x20y,\x20normal\x20)\x20)\x20*\x200.495\x20+\x200.5;\x0a\x09#ifdef\x20USE_MATCAP\x0a\x09\x09vec4\x20matcapColor\x20=\x20texture2D(\x20matcap,\x20uv\x20);\x0a\x09#else\x0a\x09\x09vec4\x20matcapColor\x20=\x20vec4(\x20vec3(\x20mix(\x200.2,\x200.8,\x20uv.y\x20)\x20),\x201.0\x20);\x0a\x09#endif\x0a\x09vec3\x20outgoingLight\x20=\x20diffuseColor.rgb\x20*\x20matcapColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshnormal_vert':'#define\x20NORMAL\x0a#if\x20defined(\x20FLAT_SHADED\x20)\x20||\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09varying\x20vec3\x20vViewPosition;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a#if\x20defined(\x20FLAT_SHADED\x20)\x20||\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a#endif\x0a}','meshnormal_frag':'#define\x20NORMAL\x0auniform\x20float\x20opacity;\x0a#if\x20defined(\x20FLAT_SHADED\x20)\x20||\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09varying\x20vec3\x20vViewPosition;\x0a#endif\x0a#include\x20<packing>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x200.0,\x200.0,\x200.0,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09gl_FragColor\x20=\x20vec4(\x20packNormalToRGB(\x20normal\x20),\x20diffuseColor.a\x20);\x0a\x09#ifdef\x20OPAQUE\x0a\x09\x09gl_FragColor.a\x20=\x201.0;\x0a\x09#endif\x0a}','meshphong_vert':'#define\x20PHONG\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<envmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<envmap_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshphong_frag':'#define\x20PHONG\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20vec3\x20specular;\x0auniform\x20float\x20shininess;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_phong_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<specularmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<specularmap_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_phong_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse\x20+\x20reflectedLight.directSpecular\x20+\x20reflectedLight.indirectSpecular\x20+\x20totalEmissiveRadiance;\x0a\x09#include\x20<envmap_fragment>\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshphysical_vert':'#define\x20STANDARD\x0avarying\x20vec3\x20vViewPosition;\x0a#ifdef\x20USE_TRANSMISSION\x0a\x09varying\x20vec3\x20vWorldPosition;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a#ifdef\x20USE_TRANSMISSION\x0a\x09vWorldPosition\x20=\x20worldPosition.xyz;\x0a#endif\x0a}','meshphysical_frag':'#define\x20STANDARD\x0a#ifdef\x20PHYSICAL\x0a\x09#define\x20IOR\x0a\x09#define\x20USE_SPECULAR\x0a#endif\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20float\x20roughness;\x0auniform\x20float\x20metalness;\x0auniform\x20float\x20opacity;\x0a#ifdef\x20IOR\x0a\x09uniform\x20float\x20ior;\x0a#endif\x0a#ifdef\x20USE_SPECULAR\x0a\x09uniform\x20float\x20specularIntensity;\x0a\x09uniform\x20vec3\x20specularColor;\x0a\x09#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09\x09uniform\x20sampler2D\x20specularColorMap;\x0a\x09#endif\x0a\x09#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09\x09uniform\x20sampler2D\x20specularIntensityMap;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09uniform\x20float\x20clearcoat;\x0a\x09uniform\x20float\x20clearcoatRoughness;\x0a#endif\x0a#ifdef\x20USE_DISPERSION\x0a\x09uniform\x20float\x20dispersion;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE\x0a\x09uniform\x20float\x20iridescence;\x0a\x09uniform\x20float\x20iridescenceIOR;\x0a\x09uniform\x20float\x20iridescenceThicknessMinimum;\x0a\x09uniform\x20float\x20iridescenceThicknessMaximum;\x0a#endif\x0a#ifdef\x20USE_SHEEN\x0a\x09uniform\x20vec3\x20sheenColor;\x0a\x09uniform\x20float\x20sheenRoughness;\x0a\x09#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09\x09uniform\x20sampler2D\x20sheenColorMap;\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09\x09uniform\x20sampler2D\x20sheenRoughnessMap;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_ANISOTROPY\x0a\x09uniform\x20vec2\x20anisotropyVector;\x0a\x09#ifdef\x20USE_ANISOTROPYMAP\x0a\x09\x09uniform\x20sampler2D\x20anisotropyMap;\x0a\x09#endif\x0a#endif\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<iridescence_fragment>\x0a#include\x20<cube_uv_reflection_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_physical_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_physical_pars_fragment>\x0a#include\x20<transmission_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<clearcoat_pars_fragment>\x0a#include\x20<iridescence_pars_fragment>\x0a#include\x20<roughnessmap_pars_fragment>\x0a#include\x20<metalnessmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<roughnessmap_fragment>\x0a\x09#include\x20<metalnessmap_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<clearcoat_normal_fragment_begin>\x0a\x09#include\x20<clearcoat_normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_physical_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20totalDiffuse\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse;\x0a\x09vec3\x20totalSpecular\x20=\x20reflectedLight.directSpecular\x20+\x20reflectedLight.indirectSpecular;\x0a\x09#include\x20<transmission_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20totalDiffuse\x20+\x20totalSpecular\x20+\x20totalEmissiveRadiance;\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09float\x20sheenEnergyComp\x20=\x201.0\x20-\x200.157\x20*\x20max3(\x20material.sheenColor\x20);\x0a\x09\x09outgoingLight\x20=\x20outgoingLight\x20*\x20sheenEnergyComp\x20+\x20sheenSpecularDirect\x20+\x20sheenSpecularIndirect;\x0a\x09#endif\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09float\x20dotNVcc\x20=\x20saturate(\x20dot(\x20geometryClearcoatNormal,\x20geometryViewDir\x20)\x20);\x0a\x09\x09vec3\x20Fcc\x20=\x20F_Schlick(\x20material.clearcoatF0,\x20material.clearcoatF90,\x20dotNVcc\x20);\x0a\x09\x09outgoingLight\x20=\x20outgoingLight\x20*\x20(\x201.0\x20-\x20material.clearcoat\x20*\x20Fcc\x20)\x20+\x20(\x20clearcoatSpecularDirect\x20+\x20clearcoatSpecularIndirect\x20)\x20*\x20material.clearcoat;\x0a\x09#endif\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshtoon_vert':'#define\x20TOON\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshtoon_frag':'#define\x20TOON\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<gradientmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_toon_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_toon_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse\x20+\x20totalEmissiveRadiance;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','points_vert':'uniform\x20float\x20size;\x0auniform\x20float\x20scale;\x0a#include\x20<common>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0a#ifdef\x20USE_POINTS_UV\x0a\x09varying\x20vec2\x20vUv;\x0a\x09uniform\x20mat3\x20uvTransform;\x0a#endif\x0avoid\x20main()\x20{\x0a\x09#ifdef\x20USE_POINTS_UV\x0a\x09\x09vUv\x20=\x20(\x20uvTransform\x20*\x20vec3(\x20uv,\x201\x20)\x20).xy;\x0a\x09#endif\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09gl_PointSize\x20=\x20size;\x0a\x09#ifdef\x20USE_SIZEATTENUATION\x0a\x09\x09bool\x20isPerspective\x20=\x20isPerspectiveMatrix(\x20projectionMatrix\x20);\x0a\x09\x09if\x20(\x20isPerspective\x20)\x20gl_PointSize\x20*=\x20(\x20scale\x20/\x20-\x20mvPosition.z\x20);\x0a\x09#endif\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','points_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<map_particle_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20vec3(\x200.0\x20);\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_particle_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09outgoingLight\x20=\x20diffuseColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a}','shadow_vert':'#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','shadow_frag':'uniform\x20vec3\x20color;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<shadowmask_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09gl_FragColor\x20=\x20vec4(\x20color,\x20opacity\x20*\x20(\x201.0\x20-\x20getShadowMask()\x20)\x20);\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a}','sprite_vert':'uniform\x20float\x20rotation;\x0auniform\x20vec2\x20center;\x0a#include\x20<common>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09vec4\x20mvPosition\x20=\x20modelViewMatrix[\x203\x20];\x0a\x09vec2\x20scale\x20=\x20vec2(\x20length(\x20modelMatrix[\x200\x20].xyz\x20),\x20length(\x20modelMatrix[\x201\x20].xyz\x20)\x20);\x0a\x09#ifndef\x20USE_SIZEATTENUATION\x0a\x09\x09bool\x20isPerspective\x20=\x20isPerspectiveMatrix(\x20projectionMatrix\x20);\x0a\x09\x09if\x20(\x20isPerspective\x20)\x20scale\x20*=\x20-\x20mvPosition.z;\x0a\x09#endif\x0a\x09vec2\x20alignedPosition\x20=\x20(\x20position.xy\x20-\x20(\x20center\x20-\x20vec2(\x200.5\x20)\x20)\x20)\x20*\x20scale;\x0a\x09vec2\x20rotatedPosition;\x0a\x09rotatedPosition.x\x20=\x20cos(\x20rotation\x20)\x20*\x20alignedPosition.x\x20-\x20sin(\x20rotation\x20)\x20*\x20alignedPosition.y;\x0a\x09rotatedPosition.y\x20=\x20sin(\x20rotation\x20)\x20*\x20alignedPosition.x\x20+\x20cos(\x20rotation\x20)\x20*\x20alignedPosition.y;\x0a\x09mvPosition.xy\x20+=\x20rotatedPosition;\x0a\x09gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','sprite_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20vec3(\x200.0\x20);\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09outgoingLight\x20=\x20diffuseColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a}'},_0x586b80={'common':{'diffuse':{'value':new _0x46094d['Q1f'](0xffffff)},'opacity':{'value':0x1},'map':{'value':null},'mapTransform':{'value':new _0x46094d['dwI']()},'alphaMap':{'value':null},'alphaMapTransform':{'value':new _0x46094d['dwI']()},'alphaTest':{'value':0x0}},'specularmap':{'specularMap':{'value':null},'specularMapTransform':{'value':new _0x46094d['dwI']()}},'envmap':{'envMap':{'value':null},'envMapRotation':{'value':new _0x46094d['dwI']()},'flipEnvMap':{'value':-0x1},'reflectivity':{'value':0x1},'ior':{'value':1.5},'refractionRatio':{'value':0.98}},'aomap':{'aoMap':{'value':null},'aoMapIntensity':{'value':0x1},'aoMapTransform':{'value':new _0x46094d['dwI']()}},'lightmap':{'lightMap':{'value':null},'lightMapIntensity':{'value':0x1},'lightMapTransform':{'value':new _0x46094d['dwI']()}},'bumpmap':{'bumpMap':{'value':null},'bumpMapTransform':{'value':new _0x46094d['dwI']()},'bumpScale':{'value':0x1}},'normalmap':{'normalMap':{'value':null},'normalMapTransform':{'value':new _0x46094d['dwI']()},'normalScale':{'value':new _0x46094d['I9Y'](0x1,0x1)}},'displacementmap':{'displacementMap':{'value':null},'displacementMapTransform':{'value':new _0x46094d['dwI']()},'displacementScale':{'value':0x1},'displacementBias':{'value':0x0}},'emissivemap':{'emissiveMap':{'value':null},'emissiveMapTransform':{'value':new _0x46094d['dwI']()}},'metalnessmap':{'metalnessMap':{'value':null},'metalnessMapTransform':{'value':new _0x46094d['dwI']()}},'roughnessmap':{'roughnessMap':{'value':null},'roughnessMapTransform':{'value':new _0x46094d['dwI']()}},'gradientmap':{'gradientMap':{'value':null}},'fog':{'fogDensity':{'value':0.00025},'fogNear':{'value':0x1},'fogFar':{'value':0x7d0},'fogColor':{'value':new _0x46094d['Q1f'](0xffffff)}},'lights':{'ambientLightColor':{'value':[]},'lightProbe':{'value':[]},'directionalLights':{'value':[],'properties':{'direction':{},'color':{}}},'directionalLightShadows':{'value':[],'properties':{'shadowIntensity':0x1,'shadowBias':{},'shadowNormalBias':{},'shadowRadius':{},'shadowMapSize':{}}},'directionalShadowMap':{'value':[]},'directionalShadowMatrix':{'value':[]},'spotLights':{'value':[],'properties':{'color':{},'position':{},'direction':{},'distance':{},'coneCos':{},'penumbraCos':{},'decay':{}}},'spotLightShadows':{'value':[],'properties':{'shadowIntensity':0x1,'shadowBias':{},'shadowNormalBias':{},'shadowRadius':{},'shadowMapSize':{}}},'spotLightMap':{'value':[]},'spotShadowMap':{'value':[]},'spotLightMatrix':{'value':[]},'pointLights':{'value':[],'properties':{'color':{},'position':{},'decay':{},'distance':{}}},'pointLightShadows':{'value':[],'properties':{'shadowIntensity':0x1,'shadowBias':{},'shadowNormalBias':{},'shadowRadius':{},'shadowMapSize':{},'shadowCameraNear':{},'shadowCameraFar':{}}},'pointShadowMap':{'value':[]},'pointShadowMatrix':{'value':[]},'hemisphereLights':{'value':[],'properties':{'direction':{},'skyColor':{},'groundColor':{}}},'rectAreaLights':{'value':[],'properties':{'color':{},'position':{},'width':{},'height':{}}},'ltc_1':{'value':null},'ltc_2':{'value':null}},'points':{'diffuse':{'value':new _0x46094d['Q1f'](0xffffff)},'opacity':{'value':0x1},'size':{'value':0x1},'scale':{'value':0x1},'map':{'value':null},'alphaMap':{'value':null},'alphaMapTransform':{'value':new _0x46094d['dwI']()},'alphaTest':{'value':0x0},'uvTransform':{'value':new _0x46094d['dwI']()}},'sprite':{'diffuse':{'value':new _0x46094d['Q1f'](0xffffff)},'opacity':{'value':0x1},'center':{'value':new _0x46094d['I9Y'](0.5,0.5)},'rotation':{'value':0x0},'map':{'value':null},'mapTransform':{'value':new _0x46094d['dwI']()},'alphaMap':{'value':null},'alphaMapTransform':{'value':new _0x46094d['dwI']()},'alphaTest':{'value':0x0}}},_0x44a793={'basic':{'uniforms':(0x0,_0x46094d['Iit'])([_0x586b80['common'],_0x586b80['specularmap'],_0x586b80['envmap'],_0x586b80['aomap'],_0x586b80['lightmap'],_0x586b80['fog']]),'vertexShader':_0x12e0a1['meshbasic_vert'],'fragmentShader':_0x12e0a1['meshbasic_frag']},'lambert':{'uniforms':(0x0,_0x46094d['Iit'])([_0x586b80['common'],_0x586b80['specularmap'],_0x586b80['envmap'],_0x586b80['aomap'],_0x586b80['lightmap'],_0x586b80['emissivemap'],_0x586b80['bumpmap'],_0x586b80['normalmap'],_0x586b80['displacementmap'],_0x586b80['fog'],_0x586b80['lights'],{'emissive':{'value':new _0x46094d['Q1f'](0x0)}}]),'vertexShader':_0x12e0a1['meshlambert_vert'],'fragmentShader':_0x12e0a1['meshlambert_frag']},'phong':{'uniforms':(0x0,_0x46094d['Iit'])([_0x586b80['common'],_0x586b80['specularmap'],_0x586b80['envmap'],_0x586b80['aomap'],_0x586b80['lightmap'],_0x586b80['emissivemap'],_0x586b80['bumpmap'],_0x586b80['normalmap'],_0x586b80['displacementmap'],_0x586b80['fog'],_0x586b80['lights'],{'emissive':{'value':new _0x46094d['Q1f'](0x0)},'specular':{'value':new _0x46094d['Q1f'](0x111111)},'shininess':{'value':0x1e}}]),'vertexShader':_0x12e0a1['meshphong_vert'],'fragmentShader':_0x12e0a1['meshphong_frag']},'standard':{'uniforms':(0x0,_0x46094d['Iit'])([_0x586b80['common'],_0x586b80['envmap'],_0x586b80['aomap'],_0x586b80['lightmap'],_0x586b80['emissivemap'],_0x586b80['bumpmap'],_0x586b80['normalmap'],_0x586b80['displacementmap'],_0x586b80['roughnessmap'],_0x586b80['metalnessmap'],_0x586b80['fog'],_0x586b80['lights'],{'emissive':{'value':new _0x46094d['Q1f'](0x0)},'roughness':{'value':0x1},'metalness':{'value':0x0},'envMapIntensity':{'value':0x1}}]),'vertexShader':_0x12e0a1['meshphysical_vert'],'fragmentShader':_0x12e0a1['meshphysical_frag']},'toon':{'uniforms':(0x0,_0x46094d['Iit'])([_0x586b80['common'],_0x586b80['aomap'],_0x586b80['lightmap'],_0x586b80['emissivemap'],_0x586b80['bumpmap'],_0x586b80['normalmap'],_0x586b80['displacementmap'],_0x586b80['gradientmap'],_0x586b80['fog'],_0x586b80['lights'],{'emissive':{'value':new _0x46094d['Q1f'](0x0)}}]),'vertexShader':_0x12e0a1['meshtoon_vert'],'fragmentShader':_0x12e0a1['meshtoon_frag']},'matcap':{'uniforms':(0x0,_0x46094d['Iit'])([_0x586b80['common'],_0x586b80['bumpmap'],_0x586b80['normalmap'],_0x586b80['displacementmap'],_0x586b80['fog'],{'matcap':{'value':null}}]),'vertexShader':_0x12e0a1['meshmatcap_vert'],'fragmentShader':_0x12e0a1['meshmatcap_frag']},'points':{'uniforms':(0x0,_0x46094d['Iit'])([_0x586b80['points'],_0x586b80['fog']]),'vertexShader':_0x12e0a1['points_vert'],'fragmentShader':_0x12e0a1['points_frag']},'dashed':{'uniforms':(0x0,_0x46094d['Iit'])([_0x586b80['common'],_0x586b80['fog'],{'scale':{'value':0x1},'dashSize':{'value':0x1},'totalSize':{'value':0x2}}]),'vertexShader':_0x12e0a1['linedashed_vert'],'fragmentShader':_0x12e0a1['linedashed_frag']},'depth':{'uniforms':(0x0,_0x46094d['Iit'])([_0x586b80['common'],_0x586b80['displacementmap']]),'vertexShader':_0x12e0a1['depth_vert'],'fragmentShader':_0x12e0a1['depth_frag']},'normal':{'uniforms':(0x0,_0x46094d['Iit'])([_0x586b80['common'],_0x586b80['bumpmap'],_0x586b80['normalmap'],_0x586b80['displacementmap'],{'opacity':{'value':0x1}}]),'vertexShader':_0x12e0a1['meshnormal_vert'],'fragmentShader':_0x12e0a1['meshnormal_frag']},'sprite':{'uniforms':(0x0,_0x46094d['Iit'])([_0x586b80['sprite'],_0x586b80['fog']]),'vertexShader':_0x12e0a1['sprite_vert'],'fragmentShader':_0x12e0a1['sprite_frag']},'background':{'uniforms':{'uvTransform':{'value':new _0x46094d['dwI']()},'t2D':{'value':null},'backgroundIntensity':{'value':0x1}},'vertexShader':_0x12e0a1['background_vert'],'fragmentShader':_0x12e0a1['background_frag']},'backgroundCube':{'uniforms':{'envMap':{'value':null},'flipEnvMap':{'value':-0x1},'backgroundBlurriness':{'value':0x0},'backgroundIntensity':{'value':0x1},'backgroundRotation':{'value':new _0x46094d['dwI']()}},'vertexShader':_0x12e0a1['backgroundCube_vert'],'fragmentShader':_0x12e0a1['backgroundCube_frag']},'cube':{'uniforms':{'tCube':{'value':null},'tFlip':{'value':-0x1},'opacity':{'value':0x1}},'vertexShader':_0x12e0a1['cube_vert'],'fragmentShader':_0x12e0a1['cube_frag']},'equirect':{'uniforms':{'tEquirect':{'value':null}},'vertexShader':_0x12e0a1['equirect_vert'],'fragmentShader':_0x12e0a1['equirect_frag']},'distanceRGBA':{'uniforms':(0x0,_0x46094d['Iit'])([_0x586b80['common'],_0x586b80['displacementmap'],{'referencePosition':{'value':new _0x46094d['Pq0']()},'nearDistance':{'value':0x1},'farDistance':{'value':0x3e8}}]),'vertexShader':_0x12e0a1['distanceRGBA_vert'],'fragmentShader':_0x12e0a1['distanceRGBA_frag']},'shadow':{'uniforms':(0x0,_0x46094d['Iit'])([_0x586b80['lights'],_0x586b80['fog'],{'color':{'value':new _0x46094d['Q1f'](0x0)},'opacity':{'value':0x1}}]),'vertexShader':_0x12e0a1['shadow_vert'],'fragmentShader':_0x12e0a1['shadow_frag']}};_0x44a793['physical']={'uniforms':(0x0,_0x46094d['Iit'])([_0x44a793['standard']['uniforms'],{'clearcoat':{'value':0x0},'clearcoatMap':{'value':null},'clearcoatMapTransform':{'value':new _0x46094d['dwI']()},'clearcoatNormalMap':{'value':null},'clearcoatNormalMapTransform':{'value':new _0x46094d['dwI']()},'clearcoatNormalScale':{'value':new _0x46094d['I9Y'](0x1,0x1)},'clearcoatRoughness':{'value':0x0},'clearcoatRoughnessMap':{'value':null},'clearcoatRoughnessMapTransform':{'value':new _0x46094d['dwI']()},'dispersion':{'value':0x0},'iridescence':{'value':0x0},'iridescenceMap':{'value':null},'iridescenceMapTransform':{'value':new _0x46094d['dwI']()},'iridescenceIOR':{'value':1.3},'iridescenceThicknessMinimum':{'value':0x64},'iridescenceThicknessMaximum':{'value':0x190},'iridescenceThicknessMap':{'value':null},'iridescenceThicknessMapTransform':{'value':new _0x46094d['dwI']()},'sheen':{'value':0x0},'sheenColor':{'value':new _0x46094d['Q1f'](0x0)},'sheenColorMap':{'value':null},'sheenColorMapTransform':{'value':new _0x46094d['dwI']()},'sheenRoughness':{'value':0x1},'sheenRoughnessMap':{'value':null},'sheenRoughnessMapTransform':{'value':new _0x46094d['dwI']()},'transmission':{'value':0x0},'transmissionMap':{'value':null},'transmissionMapTransform':{'value':new _0x46094d['dwI']()},'transmissionSamplerSize':{'value':new _0x46094d['I9Y']()},'transmissionSamplerMap':{'value':null},'thickness':{'value':0x0},'thicknessMap':{'value':null},'thicknessMapTransform':{'value':new _0x46094d['dwI']()},'attenuationDistance':{'value':0x0},'attenuationColor':{'value':new _0x46094d['Q1f'](0x0)},'specularColor':{'value':new _0x46094d['Q1f'](0x1,0x1,0x1)},'specularColorMap':{'value':null},'specularColorMapTransform':{'value':new _0x46094d['dwI']()},'specularIntensity':{'value':0x1},'specularIntensityMap':{'value':null},'specularIntensityMapTransform':{'value':new _0x46094d['dwI']()},'anisotropyVector':{'value':new _0x46094d['I9Y']()},'anisotropyMap':{'value':null},'anisotropyMapTransform':{'value':new _0x46094d['dwI']()}}]),'vertexShader':_0x12e0a1['meshphysical_vert'],'fragmentShader':_0x12e0a1['meshphysical_frag']};const _0x36676f={'r':0x0,'b':0x0,'g':0x0},_0x50482e=new _0x46094d['O9p'](),_0x33e72c=new _0x46094d['kn4']();function _0x113414(_0x12c9cb,_0x6f4ae,_0x401eff,_0x3e21c6,_0x5f9814,_0xc8e172,_0x306056){const _0x3148b8=new _0x46094d['Q1f'](0x0);let _0x384a8f,_0x425bd9,_0x57051e=!0x0===_0xc8e172?0x0:0x1,_0x2a6a9a=null,_0x25ed9a=0x0,_0x59ccca=null;function _0x1019f6(_0x109fcc){let _0x1e9f75=!0x0===_0x109fcc['isScene']?_0x109fcc['background']:null;return _0x1e9f75&&_0x1e9f75['isTexture']&&(_0x1e9f75=(_0x109fcc['backgroundBlurriness']>0x0?_0x401eff:_0x6f4ae)['get'](_0x1e9f75)),_0x1e9f75;}function _0x4f08e6(_0x24f4eb,_0x562409){_0x24f4eb['getRGB'](_0x36676f,(0x0,_0x46094d['_Ut'])(_0x12c9cb)),_0x3e21c6['buffers']['color']['setClear'](_0x36676f['r'],_0x36676f['g'],_0x36676f['b'],_0x562409,_0x306056);}return{'getClearColor':function(){return _0x3148b8;},'setClearColor':function(_0x373f55,_0x412458=0x1){_0x3148b8['set'](_0x373f55),_0x57051e=_0x412458,_0x4f08e6(_0x3148b8,_0x57051e);},'getClearAlpha':function(){return _0x57051e;},'setClearAlpha':function(_0x4dbab4){_0x57051e=_0x4dbab4,_0x4f08e6(_0x3148b8,_0x57051e);},'render':function(_0x1efae9){let _0x374f52=!0x1;const _0x2de54a=_0x1019f6(_0x1efae9);null===_0x2de54a?_0x4f08e6(_0x3148b8,_0x57051e):_0x2de54a&&_0x2de54a['isColor']&&(_0x4f08e6(_0x2de54a,0x1),_0x374f52=!0x0);const _0x27e510=_0x12c9cb['xr']['getEnvironmentBlendMode']();'additive'===_0x27e510?_0x3e21c6['buffers']['color']['setClear'](0x0,0x0,0x0,0x1,_0x306056):'alpha-blend'===_0x27e510&&_0x3e21c6['buffers']['color']['setClear'](0x0,0x0,0x0,0x0,_0x306056),(_0x12c9cb['autoClear']||_0x374f52)&&(_0x3e21c6['buffers']['depth']['setTest'](!0x0),_0x3e21c6['buffers']['depth']['setMask'](!0x0),_0x3e21c6['buffers']['color']['setMask'](!0x0),_0x12c9cb['clear'](_0x12c9cb['autoClearColor'],_0x12c9cb['autoClearDepth'],_0x12c9cb['autoClearStencil']));},'addToRenderList':function(_0x4774e4,_0xdd606a){const _0x2155fd=_0x1019f6(_0xdd606a);_0x2155fd&&(_0x2155fd['isCubeTexture']||_0x2155fd['mapping']===_0x46094d['Om'])?(void 0x0===_0x425bd9&&(_0x425bd9=new _0x46094d['eaF'](new _0x46094d['iNn'](0x1,0x1,0x1),new _0x46094d['BKk']({'name':'BackgroundCubeMaterial','uniforms':(0x0,_0x46094d['lxW'])(_0x44a793['backgroundCube']['uniforms']),'vertexShader':_0x44a793['backgroundCube']['vertexShader'],'fragmentShader':_0x44a793['backgroundCube']['fragmentShader'],'side':_0x46094d['hsX'],'depthTest':!0x1,'depthWrite':!0x1,'fog':!0x1})),_0x425bd9['geometry']['deleteAttribute']('normal'),_0x425bd9['geometry']['deleteAttribute']('uv'),_0x425bd9['onBeforeRender']=function(_0x2f89c4,_0x3f1e35,_0x39953a){this['matrixWorld']['copyPosition'](_0x39953a['matrixWorld']);},Object['defineProperty'](_0x425bd9['material'],'envMap',{'get':function(){return this['uniforms']['envMap']['value'];}}),_0x5f9814['update'](_0x425bd9)),_0x50482e['copy'](_0xdd606a['backgroundRotation']),_0x50482e['x']*=-0x1,_0x50482e['y']*=-0x1,_0x50482e['z']*=-0x1,_0x2155fd['isCubeTexture']&&!0x1===_0x2155fd['isRenderTargetTexture']&&(_0x50482e['y']*=-0x1,_0x50482e['z']*=-0x1),_0x425bd9['material']['uniforms']['envMap']['value']=_0x2155fd,_0x425bd9['material']['uniforms']['flipEnvMap']['value']=_0x2155fd['isCubeTexture']&&!0x1===_0x2155fd['isRenderTargetTexture']?-0x1:0x1,_0x425bd9['material']['uniforms']['backgroundBlurriness']['value']=_0xdd606a['backgroundBlurriness'],_0x425bd9['material']['uniforms']['backgroundIntensity']['value']=_0xdd606a['backgroundIntensity'],_0x425bd9['material']['uniforms']['backgroundRotation']['value']['setFromMatrix4'](_0x33e72c['makeRotationFromEuler'](_0x50482e)),_0x425bd9['material']['toneMapped']=_0x46094d['ppV']['getTransfer'](_0x2155fd['colorSpace'])!==_0x46094d['KLL'],_0x2a6a9a===_0x2155fd&&_0x25ed9a===_0x2155fd['version']&&_0x59ccca===_0x12c9cb['toneMapping']||(_0x425bd9['material']['needsUpdate']=!0x0,_0x2a6a9a=_0x2155fd,_0x25ed9a=_0x2155fd['version'],_0x59ccca=_0x12c9cb['toneMapping']),_0x425bd9['layers']['enableAll'](),_0x4774e4['unshift'](_0x425bd9,_0x425bd9['geometry'],_0x425bd9['material'],0x0,0x0,null)):_0x2155fd&&_0x2155fd['isTexture']&&(void 0x0===_0x384a8f&&(_0x384a8f=new _0x46094d['eaF'](new _0x46094d['bdM'](0x2,0x2),new _0x46094d['BKk']({'name':'BackgroundMaterial','uniforms':(0x0,_0x46094d['lxW'])(_0x44a793['background']['uniforms']),'vertexShader':_0x44a793['background']['vertexShader'],'fragmentShader':_0x44a793['background']['fragmentShader'],'side':_0x46094d['hB5'],'depthTest':!0x1,'depthWrite':!0x1,'fog':!0x1})),_0x384a8f['geometry']['deleteAttribute']('normal'),Object['defineProperty'](_0x384a8f['material'],'map',{'get':function(){return this['uniforms']['t2D']['value'];}}),_0x5f9814['update'](_0x384a8f)),_0x384a8f['material']['uniforms']['t2D']['value']=_0x2155fd,_0x384a8f['material']['uniforms']['backgroundIntensity']['value']=_0xdd606a['backgroundIntensity'],_0x384a8f['material']['toneMapped']=_0x46094d['ppV']['getTransfer'](_0x2155fd['colorSpace'])!==_0x46094d['KLL'],!0x0===_0x2155fd['matrixAutoUpdate']&&_0x2155fd['updateMatrix'](),_0x384a8f['material']['uniforms']['uvTransform']['value']['copy'](_0x2155fd['matrix']),_0x2a6a9a===_0x2155fd&&_0x25ed9a===_0x2155fd['version']&&_0x59ccca===_0x12c9cb['toneMapping']||(_0x384a8f['material']['needsUpdate']=!0x0,_0x2a6a9a=_0x2155fd,_0x25ed9a=_0x2155fd['version'],_0x59ccca=_0x12c9cb['toneMapping']),_0x384a8f['layers']['enableAll'](),_0x4774e4['unshift'](_0x384a8f,_0x384a8f['geometry'],_0x384a8f['material'],0x0,0x0,null));},'dispose':function(){void 0x0!==_0x425bd9&&(_0x425bd9['geometry']['dispose'](),_0x425bd9['material']['dispose']()),void 0x0!==_0x384a8f&&(_0x384a8f['geometry']['dispose'](),_0x384a8f['material']['dispose']());}};}function _0x2c2791(_0x30ca3b,_0x500c6f){const _0x54fd80=_0x30ca3b['getParameter'](_0x30ca3b['MAX_VERTEX_ATTRIBS']),_0x467794={},_0x661717=_0x4061fe(null);let _0x3346ed=_0x661717,_0x404da3=!0x1;function _0x118802(_0x50fca8){return _0x30ca3b['bindVertexArray'](_0x50fca8);}function _0x26b8ca(_0x4be3db){return _0x30ca3b['deleteVertexArray'](_0x4be3db);}function _0x4061fe(_0x220bc6){const _0x140bb2=[],_0x11be39=[],_0x2a19a7=[];for(let _0x56b830=0x0;_0x56b830<_0x54fd80;_0x56b830++)_0x140bb2[_0x56b830]=0x0,_0x11be39[_0x56b830]=0x0,_0x2a19a7[_0x56b830]=0x0;return{'geometry':null,'program':null,'wireframe':!0x1,'newAttributes':_0x140bb2,'enabledAttributes':_0x11be39,'attributeDivisors':_0x2a19a7,'object':_0x220bc6,'attributes':{},'index':null};}function _0x408a0c(){const _0x2b68e9=_0x3346ed['newAttributes'];for(let _0x2d46ad=0x0,_0x55a4a7=_0x2b68e9['length'];_0x2d46ad<_0x55a4a7;_0x2d46ad++)_0x2b68e9[_0x2d46ad]=0x0;}function _0x15609d(_0x2d40d0){_0x58162c(_0x2d40d0,0x0);}function _0x58162c(_0xd59d56,_0x57868f){const _0x16fc07=_0x3346ed['newAttributes'],_0x2daef0=_0x3346ed['enabledAttributes'],_0x1ecdcb=_0x3346ed['attributeDivisors'];_0x16fc07[_0xd59d56]=0x1,0x0===_0x2daef0[_0xd59d56]&&(_0x30ca3b['enableVertexAttribArray'](_0xd59d56),_0x2daef0[_0xd59d56]=0x1),_0x1ecdcb[_0xd59d56]!==_0x57868f&&(_0x30ca3b['vertexAttribDivisor'](_0xd59d56,_0x57868f),_0x1ecdcb[_0xd59d56]=_0x57868f);}function _0x462833(){const _0x196d0d=_0x3346ed['newAttributes'],_0x1d711e=_0x3346ed['enabledAttributes'];for(let _0x416daf=0x0,_0x5eeaf5=_0x1d711e['length'];_0x416daf<_0x5eeaf5;_0x416daf++)_0x1d711e[_0x416daf]!==_0x196d0d[_0x416daf]&&(_0x30ca3b['disableVertexAttribArray'](_0x416daf),_0x1d711e[_0x416daf]=0x0);}function _0x4746b0(_0xe6e1b8,_0x26ea9c,_0x3cef81,_0x578e28,_0x3dae39,_0x3c3c07,_0x536420){!0x0===_0x536420?_0x30ca3b['vertexAttribIPointer'](_0xe6e1b8,_0x26ea9c,_0x3cef81,_0x3dae39,_0x3c3c07):_0x30ca3b['vertexAttribPointer'](_0xe6e1b8,_0x26ea9c,_0x3cef81,_0x578e28,_0x3dae39,_0x3c3c07);}function _0x548d8a(){_0x278635(),_0x404da3=!0x0,_0x3346ed!==_0x661717&&(_0x3346ed=_0x661717,_0x118802(_0x3346ed['object']));}function _0x278635(){_0x661717['geometry']=null,_0x661717['program']=null,_0x661717['wireframe']=!0x1;}return{'setup':function(_0x28120c,_0x35e1d7,_0x4e7718,_0x11b78b,_0x28cadf){let _0x51bd87=!0x1;const _0x44f979=function(_0x4e355c,_0x5d460d,_0x52f619){const _0x3d6046=!0x0===_0x52f619['wireframe'];let _0x2dccc7=_0x467794[_0x4e355c['id']];void 0x0===_0x2dccc7&&(_0x2dccc7={},_0x467794[_0x4e355c['id']]=_0x2dccc7);let _0x6d4e7e=_0x2dccc7[_0x5d460d['id']];void 0x0===_0x6d4e7e&&(_0x6d4e7e={},_0x2dccc7[_0x5d460d['id']]=_0x6d4e7e);let _0x393421=_0x6d4e7e[_0x3d6046];return void 0x0===_0x393421&&(_0x393421=_0x4061fe(_0x30ca3b['createVertexArray']()),_0x6d4e7e[_0x3d6046]=_0x393421),_0x393421;}(_0x11b78b,_0x4e7718,_0x35e1d7);_0x3346ed!==_0x44f979&&(_0x3346ed=_0x44f979,_0x118802(_0x3346ed['object'])),_0x51bd87=function(_0x50fece,_0x300499,_0x1173c5,_0x4aec41){const _0x5b2620=_0x3346ed['attributes'],_0x86cad4=_0x300499['attributes'];let _0x473ac6=0x0;const _0x108c27=_0x1173c5['getAttributes']();for(const _0x57e051 in _0x108c27){if(_0x108c27[_0x57e051]['location']>=0x0){const _0x310b7c=_0x5b2620[_0x57e051];let _0x2835c4=_0x86cad4[_0x57e051];if(void 0x0===_0x2835c4&&('instanceMatrix'===_0x57e051&&_0x50fece['instanceMatrix']&&(_0x2835c4=_0x50fece['instanceMatrix']),'instanceColor'===_0x57e051&&_0x50fece['instanceColor']&&(_0x2835c4=_0x50fece['instanceColor'])),void 0x0===_0x310b7c)return!0x0;if(_0x310b7c['attribute']!==_0x2835c4)return!0x0;if(_0x2835c4&&_0x310b7c['data']!==_0x2835c4['data'])return!0x0;_0x473ac6++;}}return _0x3346ed['attributesNum']!==_0x473ac6||_0x3346ed['index']!==_0x4aec41;}(_0x28120c,_0x11b78b,_0x4e7718,_0x28cadf),_0x51bd87&&function(_0x10a941,_0x32ddcb,_0x29e63d,_0x259d85){const _0x66ce0c={},_0x4cd364=_0x32ddcb['attributes'];let _0x1f62da=0x0;const _0x136c9e=_0x29e63d['getAttributes']();for(const _0x15bc07 in _0x136c9e){if(_0x136c9e[_0x15bc07]['location']>=0x0){let _0x4362db=_0x4cd364[_0x15bc07];void 0x0===_0x4362db&&('instanceMatrix'===_0x15bc07&&_0x10a941['instanceMatrix']&&(_0x4362db=_0x10a941['instanceMatrix']),'instanceColor'===_0x15bc07&&_0x10a941['instanceColor']&&(_0x4362db=_0x10a941['instanceColor']));const _0x4c479c={};_0x4c479c['attribute']=_0x4362db,_0x4362db&&_0x4362db['data']&&(_0x4c479c['data']=_0x4362db['data']),_0x66ce0c[_0x15bc07]=_0x4c479c,_0x1f62da++;}}_0x3346ed['attributes']=_0x66ce0c,_0x3346ed['attributesNum']=_0x1f62da,_0x3346ed['index']=_0x259d85;}(_0x28120c,_0x11b78b,_0x4e7718,_0x28cadf),null!==_0x28cadf&&_0x500c6f['update'](_0x28cadf,_0x30ca3b['ELEMENT_ARRAY_BUFFER']),(_0x51bd87||_0x404da3)&&(_0x404da3=!0x1,function(_0x3076f9,_0x58f552,_0x45b34e,_0x206f10){_0x408a0c();const _0x57d2c1=_0x206f10['attributes'],_0x2747af=_0x45b34e['getAttributes'](),_0xf3fa=_0x58f552['defaultAttributeValues'];for(const _0x327e33 in _0x2747af){const _0x1dcae4=_0x2747af[_0x327e33];if(_0x1dcae4['location']>=0x0){let _0x274b16=_0x57d2c1[_0x327e33];if(void 0x0===_0x274b16&&('instanceMatrix'===_0x327e33&&_0x3076f9['instanceMatrix']&&(_0x274b16=_0x3076f9['instanceMatrix']),'instanceColor'===_0x327e33&&_0x3076f9['instanceColor']&&(_0x274b16=_0x3076f9['instanceColor'])),void 0x0!==_0x274b16){const _0x5a8fe3=_0x274b16['normalized'],_0x16b006=_0x274b16['itemSize'],_0x2cc27c=_0x500c6f['get'](_0x274b16);if(void 0x0===_0x2cc27c)continue;const _0x2942c0=_0x2cc27c['buffer'],_0x2d3031=_0x2cc27c['type'],_0x42f18f=_0x2cc27c['bytesPerElement'],_0x43b1f0=_0x2d3031===_0x30ca3b['INT']||_0x2d3031===_0x30ca3b['UNSIGNED_INT']||_0x274b16['gpuType']===_0x46094d['Yuy'];if(_0x274b16['isInterleavedBufferAttribute']){const _0x493910=_0x274b16['data'],_0x305034=_0x493910['stride'],_0xd146a6=_0x274b16['offset'];if(_0x493910['isInstancedInterleavedBuffer']){for(let _0x1ef666=0x0;_0x1ef666<_0x1dcae4['locationSize'];_0x1ef666++)_0x58162c(_0x1dcae4['location']+_0x1ef666,_0x493910['meshPerAttribute']);!0x0!==_0x3076f9['isInstancedMesh']&&void 0x0===_0x206f10['_maxInstanceCount']&&(_0x206f10['_maxInstanceCount']=_0x493910['meshPerAttribute']*_0x493910['count']);}else{for(let _0x153504=0x0;_0x153504<_0x1dcae4['locationSize'];_0x153504++)_0x15609d(_0x1dcae4['location']+_0x153504);}_0x30ca3b['bindBuffer'](_0x30ca3b['ARRAY_BUFFER'],_0x2942c0);for(let _0x2237da=0x0;_0x2237da<_0x1dcae4['locationSize'];_0x2237da++)_0x4746b0(_0x1dcae4['location']+_0x2237da,_0x16b006/_0x1dcae4['locationSize'],_0x2d3031,_0x5a8fe3,_0x305034*_0x42f18f,(_0xd146a6+_0x16b006/_0x1dcae4['locationSize']*_0x2237da)*_0x42f18f,_0x43b1f0);}else{if(_0x274b16['isInstancedBufferAttribute']){for(let _0x1ebd18=0x0;_0x1ebd18<_0x1dcae4['locationSize'];_0x1ebd18++)_0x58162c(_0x1dcae4['location']+_0x1ebd18,_0x274b16['meshPerAttribute']);!0x0!==_0x3076f9['isInstancedMesh']&&void 0x0===_0x206f10['_maxInstanceCount']&&(_0x206f10['_maxInstanceCount']=_0x274b16['meshPerAttribute']*_0x274b16['count']);}else{for(let _0x286b47=0x0;_0x286b47<_0x1dcae4['locationSize'];_0x286b47++)_0x15609d(_0x1dcae4['location']+_0x286b47);}_0x30ca3b['bindBuffer'](_0x30ca3b['ARRAY_BUFFER'],_0x2942c0);for(let _0x310741=0x0;_0x310741<_0x1dcae4['locationSize'];_0x310741++)_0x4746b0(_0x1dcae4['location']+_0x310741,_0x16b006/_0x1dcae4['locationSize'],_0x2d3031,_0x5a8fe3,_0x16b006*_0x42f18f,_0x16b006/_0x1dcae4['locationSize']*_0x310741*_0x42f18f,_0x43b1f0);}}else{if(void 0x0!==_0xf3fa){const _0x3b04b1=_0xf3fa[_0x327e33];if(void 0x0!==_0x3b04b1)switch(_0x3b04b1['length']){case 0x2:_0x30ca3b['vertexAttrib2fv'](_0x1dcae4['location'],_0x3b04b1);break;case 0x3:_0x30ca3b['vertexAttrib3fv'](_0x1dcae4['location'],_0x3b04b1);break;case 0x4:_0x30ca3b['vertexAttrib4fv'](_0x1dcae4['location'],_0x3b04b1);break;default:_0x30ca3b['vertexAttrib1fv'](_0x1dcae4['location'],_0x3b04b1);}}}}}_0x462833();}(_0x28120c,_0x35e1d7,_0x4e7718,_0x11b78b),null!==_0x28cadf&&_0x30ca3b['bindBuffer'](_0x30ca3b['ELEMENT_ARRAY_BUFFER'],_0x500c6f['get'](_0x28cadf)['buffer']));},'reset':_0x548d8a,'resetDefaultState':_0x278635,'dispose':function(){_0x548d8a();for(const _0x132cc9 in _0x467794){const _0xac4e79=_0x467794[_0x132cc9];for(const _0x5957ca in _0xac4e79){const _0x5c7081=_0xac4e79[_0x5957ca];for(const _0xfa5c49 in _0x5c7081)_0x26b8ca(_0x5c7081[_0xfa5c49]['object']),delete _0x5c7081[_0xfa5c49];delete _0xac4e79[_0x5957ca];}delete _0x467794[_0x132cc9];}},'releaseStatesOfGeometry':function(_0x526fc7){if(void 0x0===_0x467794[_0x526fc7['id']])return;const _0x29a189=_0x467794[_0x526fc7['id']];for(const _0x17d2dc in _0x29a189){const _0x1abd49=_0x29a189[_0x17d2dc];for(const _0x351175 in _0x1abd49)_0x26b8ca(_0x1abd49[_0x351175]['object']),delete _0x1abd49[_0x351175];delete _0x29a189[_0x17d2dc];}delete _0x467794[_0x526fc7['id']];},'releaseStatesOfProgram':function(_0x2452d5){for(const _0x1dda55 in _0x467794){const _0x57022f=_0x467794[_0x1dda55];if(void 0x0===_0x57022f[_0x2452d5['id']])continue;const _0x275e42=_0x57022f[_0x2452d5['id']];for(const _0x313b7f in _0x275e42)_0x26b8ca(_0x275e42[_0x313b7f]['object']),delete _0x275e42[_0x313b7f];delete _0x57022f[_0x2452d5['id']];}},'initAttributes':_0x408a0c,'enableAttribute':_0x15609d,'disableUnusedAttributes':_0x462833};}function _0x36fbca(_0x23789e,_0x24d36c,_0x2209ba){let _0x521069;function _0x1324ba(_0x57d25f,_0x1b0f17,_0x1e38e0){0x0!==_0x1e38e0&&(_0x23789e['drawArraysInstanced'](_0x521069,_0x57d25f,_0x1b0f17,_0x1e38e0),_0x2209ba['update'](_0x1b0f17,_0x521069,_0x1e38e0));}this['setMode']=function(_0x1e9282){_0x521069=_0x1e9282;},this['render']=function(_0x2bf128,_0x2c9a41){_0x23789e['drawArrays'](_0x521069,_0x2bf128,_0x2c9a41),_0x2209ba['update'](_0x2c9a41,_0x521069,0x1);},this['renderInstances']=_0x1324ba,this['renderMultiDraw']=function(_0x1bd6ea,_0xfbcb7f,_0x239064){if(0x0===_0x239064)return;_0x24d36c['get']('WEBGL_multi_draw')['multiDrawArraysWEBGL'](_0x521069,_0x1bd6ea,0x0,_0xfbcb7f,0x0,_0x239064);let _0x481f9e=0x0;for(let _0x5d75e8=0x0;_0x5d75e8<_0x239064;_0x5d75e8++)_0x481f9e+=_0xfbcb7f[_0x5d75e8];_0x2209ba['update'](_0x481f9e,_0x521069,0x1);},this['renderMultiDrawInstances']=function(_0x38486c,_0x2a983c,_0x1b49f7,_0x27e9ea){if(0x0===_0x1b49f7)return;const _0x450c37=_0x24d36c['get']('WEBGL_multi_draw');if(null===_0x450c37){for(let _0x5b1c47=0x0;_0x5b1c47<_0x38486c['length'];_0x5b1c47++)_0x1324ba(_0x38486c[_0x5b1c47],_0x2a983c[_0x5b1c47],_0x27e9ea[_0x5b1c47]);}else{_0x450c37['multiDrawArraysInstancedWEBGL'](_0x521069,_0x38486c,0x0,_0x2a983c,0x0,_0x27e9ea,0x0,_0x1b49f7);let _0x52a888=0x0;for(let _0x3b0686=0x0;_0x3b0686<_0x1b49f7;_0x3b0686++)_0x52a888+=_0x2a983c[_0x3b0686]*_0x27e9ea[_0x3b0686];_0x2209ba['update'](_0x52a888,_0x521069,0x1);}};}function _0x47269d(_0x3cb9f6,_0x7a90bd,_0x19f4c9,_0x318f64){let _0x190e22;function _0xcf7875(_0x53e1c9){if('highp'===_0x53e1c9){if(_0x3cb9f6['getShaderPrecisionFormat'](_0x3cb9f6['VERTEX_SHADER'],_0x3cb9f6['HIGH_FLOAT'])['precision']>0x0&&_0x3cb9f6['getShaderPrecisionFormat'](_0x3cb9f6['FRAGMENT_SHADER'],_0x3cb9f6['HIGH_FLOAT'])['precision']>0x0)return'highp';_0x53e1c9='mediump';}return'mediump'===_0x53e1c9&&_0x3cb9f6['getShaderPrecisionFormat'](_0x3cb9f6['VERTEX_SHADER'],_0x3cb9f6['MEDIUM_FLOAT'])['precision']>0x0&&_0x3cb9f6['getShaderPrecisionFormat'](_0x3cb9f6['FRAGMENT_SHADER'],_0x3cb9f6['MEDIUM_FLOAT'])['precision']>0x0?'mediump':'lowp';}let _0x30e14e=void 0x0!==_0x19f4c9['precision']?_0x19f4c9['precision']:'highp';const _0x523de2=_0xcf7875(_0x30e14e);_0x523de2!==_0x30e14e&&(console['warn']('THREE.WebGLRenderer:',_0x30e14e,'not\x20supported,\x20using',_0x523de2,'instead.'),_0x30e14e=_0x523de2);const _0x12291c=!0x0===_0x19f4c9['logarithmicDepthBuffer'],_0x2bd76d=!0x0===_0x19f4c9['reverseDepthBuffer']&&_0x7a90bd['has']('EXT_clip_control'),_0x20cc58=_0x3cb9f6['getParameter'](_0x3cb9f6['MAX_TEXTURE_IMAGE_UNITS']),_0x516b3e=_0x3cb9f6['getParameter'](_0x3cb9f6['MAX_VERTEX_TEXTURE_IMAGE_UNITS']);return{'isWebGL2':!0x0,'getMaxAnisotropy':function(){if(void 0x0!==_0x190e22)return _0x190e22;if(!0x0===_0x7a90bd['has']('EXT_texture_filter_anisotropic')){const _0x336f8a=_0x7a90bd['get']('EXT_texture_filter_anisotropic');_0x190e22=_0x3cb9f6['getParameter'](_0x336f8a['MAX_TEXTURE_MAX_ANISOTROPY_EXT']);}else _0x190e22=0x0;return _0x190e22;},'getMaxPrecision':_0xcf7875,'textureFormatReadable':function(_0x4b1679){return _0x4b1679===_0x46094d['GWd']||_0x318f64['convert'](_0x4b1679)===_0x3cb9f6['getParameter'](_0x3cb9f6['IMPLEMENTATION_COLOR_READ_FORMAT']);},'textureTypeReadable':function(_0x10a333){const _0x384e1e=_0x10a333===_0x46094d['ix0']&&(_0x7a90bd['has']('EXT_color_buffer_half_float')||_0x7a90bd['has']('EXT_color_buffer_float'));return!(_0x10a333!==_0x46094d['OUM']&&_0x318f64['convert'](_0x10a333)!==_0x3cb9f6['getParameter'](_0x3cb9f6['IMPLEMENTATION_COLOR_READ_TYPE'])&&_0x10a333!==_0x46094d['RQf']&&!_0x384e1e);},'precision':_0x30e14e,'logarithmicDepthBuffer':_0x12291c,'reverseDepthBuffer':_0x2bd76d,'maxTextures':_0x20cc58,'maxVertexTextures':_0x516b3e,'maxTextureSize':_0x3cb9f6['getParameter'](_0x3cb9f6['MAX_TEXTURE_SIZE']),'maxCubemapSize':_0x3cb9f6['getParameter'](_0x3cb9f6['MAX_CUBE_MAP_TEXTURE_SIZE']),'maxAttributes':_0x3cb9f6['getParameter'](_0x3cb9f6['MAX_VERTEX_ATTRIBS']),'maxVertexUniforms':_0x3cb9f6['getParameter'](_0x3cb9f6['MAX_VERTEX_UNIFORM_VECTORS']),'maxVaryings':_0x3cb9f6['getParameter'](_0x3cb9f6['MAX_VARYING_VECTORS']),'maxFragmentUniforms':_0x3cb9f6['getParameter'](_0x3cb9f6['MAX_FRAGMENT_UNIFORM_VECTORS']),'vertexTextures':_0x516b3e>0x0,'maxSamples':_0x3cb9f6['getParameter'](_0x3cb9f6['MAX_SAMPLES'])};}function _0x28b25b(_0x52cb9c){const _0x285c01=this;let _0x37611c=null,_0x583cf3=0x0,_0x466519=!0x1,_0x18f5fd=!0x1;const _0x20a948=new _0x46094d['Zcv'](),_0x3be349=new _0x46094d['dwI'](),_0xf0c15d={'value':null,'needsUpdate':!0x1};function _0x35271f(_0x17e768,_0x3b1a7f,_0x39fdd6,_0x4e6b8b){const _0x3463c8=null!==_0x17e768?_0x17e768['length']:0x0;let _0x1e030b=null;if(0x0!==_0x3463c8){if(_0x1e030b=_0xf0c15d['value'],!0x0!==_0x4e6b8b||null===_0x1e030b){const _0x4a9e24=_0x39fdd6+0x4*_0x3463c8,_0x5cc24f=_0x3b1a7f['matrixWorldInverse'];_0x3be349['getNormalMatrix'](_0x5cc24f),(null===_0x1e030b||_0x1e030b['length']<_0x4a9e24)&&(_0x1e030b=new Float32Array(_0x4a9e24));for(let _0x50c627=0x0,_0x3feef6=_0x39fdd6;_0x50c627!==_0x3463c8;++_0x50c627,_0x3feef6+=0x4)_0x20a948['copy'](_0x17e768[_0x50c627])['applyMatrix4'](_0x5cc24f,_0x3be349),_0x20a948['normal']['toArray'](_0x1e030b,_0x3feef6),_0x1e030b[_0x3feef6+0x3]=_0x20a948['constant'];}_0xf0c15d['value']=_0x1e030b,_0xf0c15d['needsUpdate']=!0x0;}return _0x285c01['numPlanes']=_0x3463c8,_0x285c01['numIntersection']=0x0,_0x1e030b;}this['uniform']=_0xf0c15d,this['numPlanes']=0x0,this['numIntersection']=0x0,this['init']=function(_0x1f2364,_0x1ad895){const _0x27691c=0x0!==_0x1f2364['length']||_0x1ad895||0x0!==_0x583cf3||_0x466519;return _0x466519=_0x1ad895,_0x583cf3=_0x1f2364['length'],_0x27691c;},this['beginShadows']=function(){_0x18f5fd=!0x0,_0x35271f(null);},this['endShadows']=function(){_0x18f5fd=!0x1;},this['setGlobalState']=function(_0x5e2dba,_0x23be36){_0x37611c=_0x35271f(_0x5e2dba,_0x23be36,0x0);},this['setState']=function(_0x3902ef,_0x14b8ec,_0x320263){const _0x1567cd=_0x3902ef['clippingPlanes'],_0x3195d7=_0x3902ef['clipIntersection'],_0x282be6=_0x3902ef['clipShadows'],_0x4a626a=_0x52cb9c['get'](_0x3902ef);if(!_0x466519||null===_0x1567cd||0x0===_0x1567cd['length']||_0x18f5fd&&!_0x282be6)_0x18f5fd?_0x35271f(null):(function(){_0xf0c15d['value']!==_0x37611c&&(_0xf0c15d['value']=_0x37611c,_0xf0c15d['needsUpdate']=_0x583cf3>0x0),(_0x285c01['numPlanes']=_0x583cf3,_0x285c01['numIntersection']=0x0);}());else{const _0x47cc72=_0x18f5fd?0x0:_0x583cf3,_0x1be148=0x4*_0x47cc72;let _0x109d31=_0x4a626a['clippingState']||null;_0xf0c15d['value']=_0x109d31,_0x109d31=_0x35271f(_0x1567cd,_0x14b8ec,_0x1be148,_0x320263);for(let _0x4e53fd=0x0;_0x4e53fd!==_0x1be148;++_0x4e53fd)_0x109d31[_0x4e53fd]=_0x37611c[_0x4e53fd];_0x4a626a['clippingState']=_0x109d31,this['numIntersection']=_0x3195d7?this['numPlanes']:0x0,this['numPlanes']+=_0x47cc72;}};}function _0xb19329(_0x34c2f4){let _0x28ef5a=new WeakMap();function _0x566ed4(_0x430796,_0x5f423d){return _0x5f423d===_0x46094d['wfO']?_0x430796['mapping']=_0x46094d['hy7']:_0x5f423d===_0x46094d['uV5']&&(_0x430796['mapping']=_0x46094d['xFO']),_0x430796;}function _0x43920f(_0x164899){const _0x150a89=_0x164899['target'];_0x150a89['removeEventListener']('dispose',_0x43920f);const _0xcc41df=_0x28ef5a['get'](_0x150a89);void 0x0!==_0xcc41df&&(_0x28ef5a['delete'](_0x150a89),_0xcc41df['dispose']());}return{'get':function(_0x4d722f){if(_0x4d722f&&_0x4d722f['isTexture']){const _0x5b4c85=_0x4d722f['mapping'];if(_0x5b4c85===_0x46094d['wfO']||_0x5b4c85===_0x46094d['uV5']){if(_0x28ef5a['has'](_0x4d722f))return _0x566ed4(_0x28ef5a['get'](_0x4d722f)['texture'],_0x4d722f['mapping']);{const _0x466043=_0x4d722f['image'];if(_0x466043&&_0x466043['height']>0x0){const _0x2a960c=new _0x46094d['o6l'](_0x466043['height']);return _0x2a960c['fromEquirectangularTexture'](_0x34c2f4,_0x4d722f),_0x28ef5a['set'](_0x4d722f,_0x2a960c),_0x4d722f['addEventListener']('dispose',_0x43920f),_0x566ed4(_0x2a960c['texture'],_0x4d722f['mapping']);}return null;}}}return _0x4d722f;},'dispose':function(){_0x28ef5a=new WeakMap();}};}const _0x3223b1=[0.125,0.215,0.35,0.446,0.526,0.582],_0x36423b=0x14,_0x4d746a=new _0x46094d['qUd'](),_0x3a13d4=new _0x46094d['Q1f']();let _0x55411d=null,_0x347a2c=0x0,_0x16c50a=0x0,_0x182a4e=!0x1;const _0x3e2669=(0x1+Math['sqrt'](0x5))/0x2,_0x1dae03=0x1/_0x3e2669,_0x236397=[new _0x46094d['Pq0'](-_0x3e2669,_0x1dae03,0x0),new _0x46094d['Pq0'](_0x3e2669,_0x1dae03,0x0),new _0x46094d['Pq0'](-_0x1dae03,0x0,_0x3e2669),new _0x46094d['Pq0'](_0x1dae03,0x0,_0x3e2669),new _0x46094d['Pq0'](0x0,_0x3e2669,-_0x1dae03),new _0x46094d['Pq0'](0x0,_0x3e2669,_0x1dae03),new _0x46094d['Pq0'](-0x1,0x1,-0x1),new _0x46094d['Pq0'](0x1,0x1,-0x1),new _0x46094d['Pq0'](-0x1,0x1,0x1),new _0x46094d['Pq0'](0x1,0x1,0x1)];class _0x4f507e{constructor(_0x2c81a6){this['_renderer']=_0x2c81a6,this['_pingPongRenderTarget']=null,this['_lodMax']=0x0,this['_cubeSize']=0x0,this['_lodPlanes']=[],this['_sizeLods']=[],this['_sigmas']=[],this['_blurMaterial']=null,this['_cubemapMaterial']=null,this['_equirectMaterial']=null,this['_compileMaterial'](this['_blurMaterial']);}['fromScene'](_0x4ae041,_0x182e16=0x0,_0x45c246=0.1,_0x4e1ca0=0x64){_0x55411d=this['_renderer']['getRenderTarget'](),_0x347a2c=this['_renderer']['getActiveCubeFace'](),_0x16c50a=this['_renderer']['getActiveMipmapLevel'](),_0x182a4e=this['_renderer']['xr']['enabled'],this['_renderer']['xr']['enabled']=!0x1,this['_setSize'](0x100);const _0x5f260e=this['_allocateTargets']();return _0x5f260e['depthBuffer']=!0x0,this['_sceneToCubeUV'](_0x4ae041,_0x45c246,_0x4e1ca0,_0x5f260e),_0x182e16>0x0&&this['_blur'](_0x5f260e,0x0,0x0,_0x182e16),this['_applyPMREM'](_0x5f260e),this['_cleanup'](_0x5f260e),_0x5f260e;}['fromEquirectangular'](_0x3f89ab,_0x5410b1=null){return this['_fromTexture'](_0x3f89ab,_0x5410b1);}['fromCubemap'](_0xf61a9d,_0x26cc58=null){return this['_fromTexture'](_0xf61a9d,_0x26cc58);}['compileCubemapShader'](){null===this['_cubemapMaterial']&&(this['_cubemapMaterial']=_0x442199(),this['_compileMaterial'](this['_cubemapMaterial']));}['compileEquirectangularShader'](){null===this['_equirectMaterial']&&(this['_equirectMaterial']=_0x56e576(),this['_compileMaterial'](this['_equirectMaterial']));}['dispose'](){this['_dispose'](),null!==this['_cubemapMaterial']&&this['_cubemapMaterial']['dispose'](),null!==this['_equirectMaterial']&&this['_equirectMaterial']['dispose']();}['_setSize'](_0x199a8e){this['_lodMax']=Math['floor'](Math['log2'](_0x199a8e)),this['_cubeSize']=Math['pow'](0x2,this['_lodMax']);}['_dispose'](){null!==this['_blurMaterial']&&this['_blurMaterial']['dispose'](),null!==this['_pingPongRenderTarget']&&this['_pingPongRenderTarget']['dispose']();for(let _0x338dfb=0x0;_0x338dfb<this['_lodPlanes']['length'];_0x338dfb++)this['_lodPlanes'][_0x338dfb]['dispose']();}['_cleanup'](_0x544282){this['_renderer']['setRenderTarget'](_0x55411d,_0x347a2c,_0x16c50a),this['_renderer']['xr']['enabled']=_0x182a4e,_0x544282['scissorTest']=!0x1,_0x5f5692(_0x544282,0x0,0x0,_0x544282['width'],_0x544282['height']);}['_fromTexture'](_0x21ff2c,_0x9454e4){_0x21ff2c['mapping']===_0x46094d['hy7']||_0x21ff2c['mapping']===_0x46094d['xFO']?this['_setSize'](0x0===_0x21ff2c['image']['length']?0x10:_0x21ff2c['image'][0x0]['width']||_0x21ff2c['image'][0x0]['image']['width']):this['_setSize'](_0x21ff2c['image']['width']/0x4),_0x55411d=this['_renderer']['getRenderTarget'](),_0x347a2c=this['_renderer']['getActiveCubeFace'](),_0x16c50a=this['_renderer']['getActiveMipmapLevel'](),_0x182a4e=this['_renderer']['xr']['enabled'],this['_renderer']['xr']['enabled']=!0x1;const _0x177e9e=_0x9454e4||this['_allocateTargets']();return this['_textureToCubeUV'](_0x21ff2c,_0x177e9e),this['_applyPMREM'](_0x177e9e),this['_cleanup'](_0x177e9e),_0x177e9e;}['_allocateTargets'](){const _0x3e5d19=0x3*Math['max'](this['_cubeSize'],0x70),_0x52050c=0x4*this['_cubeSize'],_0x3966dd={'magFilter':_0x46094d['k6q'],'minFilter':_0x46094d['k6q'],'generateMipmaps':!0x1,'type':_0x46094d['ix0'],'format':_0x46094d['GWd'],'colorSpace':_0x46094d['Zr2'],'depthBuffer':!0x1},_0x5c13e6=_0x356592(_0x3e5d19,_0x52050c,_0x3966dd);if(null===this['_pingPongRenderTarget']||this['_pingPongRenderTarget']['width']!==_0x3e5d19||this['_pingPongRenderTarget']['height']!==_0x52050c){null!==this['_pingPongRenderTarget']&&this['_dispose'](),this['_pingPongRenderTarget']=_0x356592(_0x3e5d19,_0x52050c,_0x3966dd);const {_lodMax:_0x5d47f2}=this;({sizeLods:this['_sizeLods'],lodPlanes:this['_lodPlanes'],sigmas:this['_sigmas']}=function(_0x452e43){const _0x413c1e=[],_0xbd0fe5=[],_0x271cd4=[];let _0x13d61c=_0x452e43;const _0x9ab7c3=_0x452e43-0x4+0x1+_0x3223b1['length'];for(let _0x4f4078=0x0;_0x4f4078<_0x9ab7c3;_0x4f4078++){const _0x332aed=Math['pow'](0x2,_0x13d61c);_0xbd0fe5['push'](_0x332aed);let _0x1761a9=0x1/_0x332aed;_0x4f4078>_0x452e43-0x4?_0x1761a9=_0x3223b1[_0x4f4078-_0x452e43+0x4-0x1]:0x0===_0x4f4078&&(_0x1761a9=0x0),_0x271cd4['push'](_0x1761a9);const _0x181fe4=0x1/(_0x332aed-0x2),_0x1d345b=-_0x181fe4,_0x4a7784=0x1+_0x181fe4,_0x5f10fb=[_0x1d345b,_0x1d345b,_0x4a7784,_0x1d345b,_0x4a7784,_0x4a7784,_0x1d345b,_0x1d345b,_0x4a7784,_0x4a7784,_0x1d345b,_0x4a7784],_0x2d4dc9=0x6,_0x4e229d=0x6,_0x20c098=0x3,_0x50fa55=0x2,_0x4a77d8=0x1,_0x2e3cae=new Float32Array(_0x20c098*_0x4e229d*_0x2d4dc9),_0x2cda66=new Float32Array(_0x50fa55*_0x4e229d*_0x2d4dc9),_0x1775c9=new Float32Array(_0x4a77d8*_0x4e229d*_0x2d4dc9);for(let _0x49fd08=0x0;_0x49fd08<_0x2d4dc9;_0x49fd08++){const _0x577984=_0x49fd08%0x3*0x2/0x3-0x1,_0x4060d6=_0x49fd08>0x2?0x0:-0x1,_0x42922e=[_0x577984,_0x4060d6,0x0,_0x577984+0x2/0x3,_0x4060d6,0x0,_0x577984+0x2/0x3,_0x4060d6+0x1,0x0,_0x577984,_0x4060d6,0x0,_0x577984+0x2/0x3,_0x4060d6+0x1,0x0,_0x577984,_0x4060d6+0x1,0x0];_0x2e3cae['set'](_0x42922e,_0x20c098*_0x4e229d*_0x49fd08),_0x2cda66['set'](_0x5f10fb,_0x50fa55*_0x4e229d*_0x49fd08);const _0x7eb720=[_0x49fd08,_0x49fd08,_0x49fd08,_0x49fd08,_0x49fd08,_0x49fd08];_0x1775c9['set'](_0x7eb720,_0x4a77d8*_0x4e229d*_0x49fd08);}const _0x5852a1=new _0x46094d['LoY']();_0x5852a1['setAttribute']('position',new _0x46094d['THS'](_0x2e3cae,_0x20c098)),_0x5852a1['setAttribute']('uv',new _0x46094d['THS'](_0x2cda66,_0x50fa55)),_0x5852a1['setAttribute']('faceIndex',new _0x46094d['THS'](_0x1775c9,_0x4a77d8)),_0x413c1e['push'](_0x5852a1),_0x13d61c>0x4&&_0x13d61c--;}return{'lodPlanes':_0x413c1e,'sizeLods':_0xbd0fe5,'sigmas':_0x271cd4};}(_0x5d47f2),this['_blurMaterial']=function(_0x6e1430,_0x3707a1,_0x129bd8){const _0x1dd5ef=new Float32Array(_0x36423b),_0x2908f7=new _0x46094d['Pq0'](0x0,0x1,0x0),_0xeea066=new _0x46094d['BKk']({'name':'SphericalGaussianBlur','defines':{'n':_0x36423b,'CUBEUV_TEXEL_WIDTH':0x1/_0x3707a1,'CUBEUV_TEXEL_HEIGHT':0x1/_0x129bd8,'CUBEUV_MAX_MIP':_0x6e1430+'.0'},'uniforms':{'envMap':{'value':null},'samples':{'value':0x1},'weights':{'value':_0x1dd5ef},'latitudinal':{'value':!0x1},'dTheta':{'value':0x0},'mipInt':{'value':0x0},'poleAxis':{'value':_0x2908f7}},'vertexShader':_0x333e2e(),'fragmentShader':'\x0a\x0a\x09\x09\x09precision\x20mediump\x20float;\x0a\x09\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09\x09uniform\x20sampler2D\x20envMap;\x0a\x09\x09\x09uniform\x20int\x20samples;\x0a\x09\x09\x09uniform\x20float\x20weights[\x20n\x20];\x0a\x09\x09\x09uniform\x20bool\x20latitudinal;\x0a\x09\x09\x09uniform\x20float\x20dTheta;\x0a\x09\x09\x09uniform\x20float\x20mipInt;\x0a\x09\x09\x09uniform\x20vec3\x20poleAxis;\x0a\x0a\x09\x09\x09#define\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09#include\x20<cube_uv_reflection_fragment>\x0a\x0a\x09\x09\x09vec3\x20getSample(\x20float\x20theta,\x20vec3\x20axis\x20)\x20{\x0a\x0a\x09\x09\x09\x09float\x20cosTheta\x20=\x20cos(\x20theta\x20);\x0a\x09\x09\x09\x09//\x20Rodrigues\x27\x20axis-angle\x20rotation\x0a\x09\x09\x09\x09vec3\x20sampleDirection\x20=\x20vOutputDirection\x20*\x20cosTheta\x0a\x09\x09\x09\x09\x09+\x20cross(\x20axis,\x20vOutputDirection\x20)\x20*\x20sin(\x20theta\x20)\x0a\x09\x09\x09\x09\x09+\x20axis\x20*\x20dot(\x20axis,\x20vOutputDirection\x20)\x20*\x20(\x201.0\x20-\x20cosTheta\x20);\x0a\x0a\x09\x09\x09\x09return\x20bilinearCubeUV(\x20envMap,\x20sampleDirection,\x20mipInt\x20);\x0a\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09vec3\x20axis\x20=\x20latitudinal\x20?\x20poleAxis\x20:\x20cross(\x20poleAxis,\x20vOutputDirection\x20);\x0a\x0a\x09\x09\x09\x09if\x20(\x20all(\x20equal(\x20axis,\x20vec3(\x200.0\x20)\x20)\x20)\x20)\x20{\x0a\x0a\x09\x09\x09\x09\x09axis\x20=\x20vec3(\x20vOutputDirection.z,\x200.0,\x20-\x20vOutputDirection.x\x20);\x0a\x0a\x09\x09\x09\x09}\x0a\x0a\x09\x09\x09\x09axis\x20=\x20normalize(\x20axis\x20);\x0a\x0a\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(\x200.0,\x200.0,\x200.0,\x201.0\x20);\x0a\x09\x09\x09\x09gl_FragColor.rgb\x20+=\x20weights[\x200\x20]\x20*\x20getSample(\x200.0,\x20axis\x20);\x0a\x0a\x09\x09\x09\x09for\x20(\x20int\x20i\x20=\x201;\x20i\x20<\x20n;\x20i++\x20)\x20{\x0a\x0a\x09\x09\x09\x09\x09if\x20(\x20i\x20>=\x20samples\x20)\x20{\x0a\x0a\x09\x09\x09\x09\x09\x09break;\x0a\x0a\x09\x09\x09\x09\x09}\x0a\x0a\x09\x09\x09\x09\x09float\x20theta\x20=\x20dTheta\x20*\x20float(\x20i\x20);\x0a\x09\x09\x09\x09\x09gl_FragColor.rgb\x20+=\x20weights[\x20i\x20]\x20*\x20getSample(\x20-1.0\x20*\x20theta,\x20axis\x20);\x0a\x09\x09\x09\x09\x09gl_FragColor.rgb\x20+=\x20weights[\x20i\x20]\x20*\x20getSample(\x20theta,\x20axis\x20);\x0a\x0a\x09\x09\x09\x09}\x0a\x0a\x09\x09\x09}\x0a\x09\x09','blending':_0x46094d['XIg'],'depthTest':!0x1,'depthWrite':!0x1});return _0xeea066;}(_0x5d47f2,_0x3e5d19,_0x52050c));}return _0x5c13e6;}['_compileMaterial'](_0xe70a6f){const _0x482712=new _0x46094d['eaF'](this['_lodPlanes'][0x0],_0xe70a6f);this['_renderer']['compile'](_0x482712,_0x4d746a);}['_sceneToCubeUV'](_0x1e0e6a,_0x403e3d,_0x1a2fbb,_0x2d7fca){const _0x276f24=new _0x46094d['ubm'](0x5a,0x1,_0x403e3d,_0x1a2fbb),_0x2d96e6=[0x1,-0x1,0x1,0x1,0x1,0x1],_0x19c81a=[0x1,0x1,0x1,-0x1,-0x1,-0x1],_0x24b855=this['_renderer'],_0x40a096=_0x24b855['autoClear'],_0xc45145=_0x24b855['toneMapping'];_0x24b855['getClearColor'](_0x3a13d4),_0x24b855['toneMapping']=_0x46094d['y_p'],_0x24b855['autoClear']=!0x1;const _0xcf8855=new _0x46094d['V9B']({'name':'PMREM.Background','side':_0x46094d['hsX'],'depthWrite':!0x1,'depthTest':!0x1}),_0x4a3351=new _0x46094d['eaF'](new _0x46094d['iNn'](),_0xcf8855);let _0x560570=!0x1;const _0x2bcde=_0x1e0e6a['background'];_0x2bcde?_0x2bcde['isColor']&&(_0xcf8855['color']['copy'](_0x2bcde),_0x1e0e6a['background']=null,_0x560570=!0x0):(_0xcf8855['color']['copy'](_0x3a13d4),_0x560570=!0x0);for(let _0x538e1d=0x0;_0x538e1d<0x6;_0x538e1d++){const _0x1c8170=_0x538e1d%0x3;0x0===_0x1c8170?(_0x276f24['up']['set'](0x0,_0x2d96e6[_0x538e1d],0x0),_0x276f24['lookAt'](_0x19c81a[_0x538e1d],0x0,0x0)):0x1===_0x1c8170?(_0x276f24['up']['set'](0x0,0x0,_0x2d96e6[_0x538e1d]),_0x276f24['lookAt'](0x0,_0x19c81a[_0x538e1d],0x0)):(_0x276f24['up']['set'](0x0,_0x2d96e6[_0x538e1d],0x0),_0x276f24['lookAt'](0x0,0x0,_0x19c81a[_0x538e1d]));const _0x3ee119=this['_cubeSize'];_0x5f5692(_0x2d7fca,_0x1c8170*_0x3ee119,_0x538e1d>0x2?_0x3ee119:0x0,_0x3ee119,_0x3ee119),_0x24b855['setRenderTarget'](_0x2d7fca),_0x560570&&_0x24b855['render'](_0x4a3351,_0x276f24),_0x24b855['render'](_0x1e0e6a,_0x276f24);}_0x4a3351['geometry']['dispose'](),_0x4a3351['material']['dispose'](),_0x24b855['toneMapping']=_0xc45145,_0x24b855['autoClear']=_0x40a096,_0x1e0e6a['background']=_0x2bcde;}['_textureToCubeUV'](_0xdaaa2d,_0x1d7b1e){const _0x193488=this['_renderer'],_0x56dc39=_0xdaaa2d['mapping']===_0x46094d['hy7']||_0xdaaa2d['mapping']===_0x46094d['xFO'];_0x56dc39?(null===this['_cubemapMaterial']&&(this['_cubemapMaterial']=_0x442199()),this['_cubemapMaterial']['uniforms']['flipEnvMap']['value']=!0x1===_0xdaaa2d['isRenderTargetTexture']?-0x1:0x1):null===this['_equirectMaterial']&&(this['_equirectMaterial']=_0x56e576());const _0x20ba91=_0x56dc39?this['_cubemapMaterial']:this['_equirectMaterial'],_0x4bf40f=new _0x46094d['eaF'](this['_lodPlanes'][0x0],_0x20ba91);_0x20ba91['uniforms']['envMap']['value']=_0xdaaa2d;const _0x3c5a5c=this['_cubeSize'];_0x5f5692(_0x1d7b1e,0x0,0x0,0x3*_0x3c5a5c,0x2*_0x3c5a5c),_0x193488['setRenderTarget'](_0x1d7b1e),_0x193488['render'](_0x4bf40f,_0x4d746a);}['_applyPMREM'](_0x12421d){const _0x551b23=this['_renderer'],_0x5b828e=_0x551b23['autoClear'];_0x551b23['autoClear']=!0x1;const _0x1bcca3=this['_lodPlanes']['length'];for(let _0x55e156=0x1;_0x55e156<_0x1bcca3;_0x55e156++){const _0x273495=Math['sqrt'](this['_sigmas'][_0x55e156]*this['_sigmas'][_0x55e156]-this['_sigmas'][_0x55e156-0x1]*this['_sigmas'][_0x55e156-0x1]),_0x2b6e5d=_0x236397[(_0x1bcca3-_0x55e156-0x1)%_0x236397['length']];this['_blur'](_0x12421d,_0x55e156-0x1,_0x55e156,_0x273495,_0x2b6e5d);}_0x551b23['autoClear']=_0x5b828e;}['_blur'](_0x15a410,_0x288235,_0x1898c6,_0x54749f,_0x5d9d64){const _0x2bbe3e=this['_pingPongRenderTarget'];this['_halfBlur'](_0x15a410,_0x2bbe3e,_0x288235,_0x1898c6,_0x54749f,'latitudinal',_0x5d9d64),this['_halfBlur'](_0x2bbe3e,_0x15a410,_0x1898c6,_0x1898c6,_0x54749f,'longitudinal',_0x5d9d64);}['_halfBlur'](_0x4ddda4,_0x539aab,_0x19b177,_0x2beda8,_0x4c8ed1,_0x46e828,_0x46bab9){const _0x49ea51=this['_renderer'],_0x3a5b68=this['_blurMaterial'];'latitudinal'!==_0x46e828&&'longitudinal'!==_0x46e828&&console['error']('blur\x20direction\x20must\x20be\x20either\x20latitudinal\x20or\x20longitudinal!');const _0x28107b=new _0x46094d['eaF'](this['_lodPlanes'][_0x2beda8],_0x3a5b68),_0x8528b=_0x3a5b68['uniforms'],_0x132742=this['_sizeLods'][_0x19b177]-0x1,_0x42b551=isFinite(_0x4c8ed1)?Math['PI']/(0x2*_0x132742):0x2*Math['PI']/0x27,_0x1e52b5=_0x4c8ed1/_0x42b551,_0x211e92=isFinite(_0x4c8ed1)?0x1+Math['floor'](0x3*_0x1e52b5):_0x36423b;_0x211e92>_0x36423b&&console['warn']('sigmaRadians,\x20'+_0x4c8ed1+',\x20is\x20too\x20large\x20and\x20will\x20clip,\x20as\x20it\x20requested\x20'+_0x211e92+'\x20samples\x20when\x20the\x20maximum\x20is\x20set\x20to\x2020');const _0x2ad12d=[];let _0x315720=0x0;for(let _0x478864=0x0;_0x478864<_0x36423b;++_0x478864){const _0x153d26=_0x478864/_0x1e52b5,_0x30a5e4=Math['exp'](-_0x153d26*_0x153d26/0x2);_0x2ad12d['push'](_0x30a5e4),0x0===_0x478864?_0x315720+=_0x30a5e4:_0x478864<_0x211e92&&(_0x315720+=0x2*_0x30a5e4);}for(let _0x595e9c=0x0;_0x595e9c<_0x2ad12d['length'];_0x595e9c++)_0x2ad12d[_0x595e9c]=_0x2ad12d[_0x595e9c]/_0x315720;_0x8528b['envMap']['value']=_0x4ddda4['texture'],_0x8528b['samples']['value']=_0x211e92,_0x8528b['weights']['value']=_0x2ad12d,_0x8528b['latitudinal']['value']='latitudinal'===_0x46e828,_0x46bab9&&(_0x8528b['poleAxis']['value']=_0x46bab9);const {_lodMax:_0x4245d8}=this;_0x8528b['dTheta']['value']=_0x42b551,_0x8528b['mipInt']['value']=_0x4245d8-_0x19b177;const _0x34b3b6=this['_sizeLods'][_0x2beda8];_0x5f5692(_0x539aab,0x3*_0x34b3b6*(_0x2beda8>_0x4245d8-0x4?_0x2beda8-_0x4245d8+0x4:0x0),0x4*(this['_cubeSize']-_0x34b3b6),0x3*_0x34b3b6,0x2*_0x34b3b6),_0x49ea51['setRenderTarget'](_0x539aab),_0x49ea51['render'](_0x28107b,_0x4d746a);}}function _0x356592(_0x159a09,_0x2f9888,_0x4ec311){const _0x371175=new _0x46094d['nWS'](_0x159a09,_0x2f9888,_0x4ec311);return _0x371175['texture']['mapping']=_0x46094d['Om'],_0x371175['texture']['name']='PMREM.cubeUv',_0x371175['scissorTest']=!0x0,_0x371175;}function _0x5f5692(_0x397c4a,_0x111f58,_0x547c27,_0x4806cf,_0x41ca7e){_0x397c4a['viewport']['set'](_0x111f58,_0x547c27,_0x4806cf,_0x41ca7e),_0x397c4a['scissor']['set'](_0x111f58,_0x547c27,_0x4806cf,_0x41ca7e);}function _0x56e576(){return new _0x46094d['BKk']({'name':'EquirectangularToCubeUV','uniforms':{'envMap':{'value':null}},'vertexShader':_0x333e2e(),'fragmentShader':'\x0a\x0a\x09\x09\x09precision\x20mediump\x20float;\x0a\x09\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09\x09uniform\x20sampler2D\x20envMap;\x0a\x0a\x09\x09\x09#include\x20<common>\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09vec3\x20outputDirection\x20=\x20normalize(\x20vOutputDirection\x20);\x0a\x09\x09\x09\x09vec2\x20uv\x20=\x20equirectUv(\x20outputDirection\x20);\x0a\x0a\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(\x20texture2D\x20(\x20envMap,\x20uv\x20).rgb,\x201.0\x20);\x0a\x0a\x09\x09\x09}\x0a\x09\x09','blending':_0x46094d['XIg'],'depthTest':!0x1,'depthWrite':!0x1});}function _0x442199(){return new _0x46094d['BKk']({'name':'CubemapToCubeUV','uniforms':{'envMap':{'value':null},'flipEnvMap':{'value':-0x1}},'vertexShader':_0x333e2e(),'fragmentShader':'\x0a\x0a\x09\x09\x09precision\x20mediump\x20float;\x0a\x09\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09\x09uniform\x20float\x20flipEnvMap;\x0a\x0a\x09\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09\x09uniform\x20samplerCube\x20envMap;\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09gl_FragColor\x20=\x20textureCube(\x20envMap,\x20vec3(\x20flipEnvMap\x20*\x20vOutputDirection.x,\x20vOutputDirection.yz\x20)\x20);\x0a\x0a\x09\x09\x09}\x0a\x09\x09','blending':_0x46094d['XIg'],'depthTest':!0x1,'depthWrite':!0x1});}function _0x333e2e(){return'\x0a\x0a\x09\x09precision\x20mediump\x20float;\x0a\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09attribute\x20float\x20faceIndex;\x0a\x0a\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09//\x20RH\x20coordinate\x20system;\x20PMREM\x20face-indexing\x20convention\x0a\x09\x09vec3\x20getDirection(\x20vec2\x20uv,\x20float\x20face\x20)\x20{\x0a\x0a\x09\x09\x09uv\x20=\x202.0\x20*\x20uv\x20-\x201.0;\x0a\x0a\x09\x09\x09vec3\x20direction\x20=\x20vec3(\x20uv,\x201.0\x20);\x0a\x0a\x09\x09\x09if\x20(\x20face\x20==\x200.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.zyx;\x20//\x20(\x201,\x20v,\x20u\x20)\x20pos\x20x\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x201.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.xzy;\x0a\x09\x09\x09\x09direction.xz\x20*=\x20-1.0;\x20//\x20(\x20-u,\x201,\x20-v\x20)\x20pos\x20y\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x202.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction.x\x20*=\x20-1.0;\x20//\x20(\x20-u,\x20v,\x201\x20)\x20pos\x20z\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x203.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.zyx;\x0a\x09\x09\x09\x09direction.xz\x20*=\x20-1.0;\x20//\x20(\x20-1,\x20v,\x20-u\x20)\x20neg\x20x\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x204.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.xzy;\x0a\x09\x09\x09\x09direction.xy\x20*=\x20-1.0;\x20//\x20(\x20-u,\x20-1,\x20v\x20)\x20neg\x20y\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x205.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction.z\x20*=\x20-1.0;\x20//\x20(\x20u,\x20v,\x20-1\x20)\x20neg\x20z\x0a\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09return\x20direction;\x0a\x0a\x09\x09}\x0a\x0a\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09vOutputDirection\x20=\x20getDirection(\x20uv,\x20faceIndex\x20);\x0a\x09\x09\x09gl_Position\x20=\x20vec4(\x20position,\x201.0\x20);\x0a\x0a\x09\x09}\x0a\x09';}function _0x4811b1(_0x2d644e){let _0x5253a5=new WeakMap(),_0x512d18=null;function _0x5c5b54(_0x1ec5e3){const _0x21955e=_0x1ec5e3['target'];_0x21955e['removeEventListener']('dispose',_0x5c5b54);const _0x1a9886=_0x5253a5['get'](_0x21955e);void 0x0!==_0x1a9886&&(_0x5253a5['delete'](_0x21955e),_0x1a9886['dispose']());}return{'get':function(_0x33bbe9){if(_0x33bbe9&&_0x33bbe9['isTexture']){const _0x5a1e24=_0x33bbe9['mapping'],_0x53b720=_0x5a1e24===_0x46094d['wfO']||_0x5a1e24===_0x46094d['uV5'],_0xee8ee4=_0x5a1e24===_0x46094d['hy7']||_0x5a1e24===_0x46094d['xFO'];if(_0x53b720||_0xee8ee4){let _0x11caff=_0x5253a5['get'](_0x33bbe9);const _0x5f3b4b=void 0x0!==_0x11caff?_0x11caff['texture']['pmremVersion']:0x0;if(_0x33bbe9['isRenderTargetTexture']&&_0x33bbe9['pmremVersion']!==_0x5f3b4b)return null===_0x512d18&&(_0x512d18=new _0x4f507e(_0x2d644e)),_0x11caff=_0x53b720?_0x512d18['fromEquirectangular'](_0x33bbe9,_0x11caff):_0x512d18['fromCubemap'](_0x33bbe9,_0x11caff),_0x11caff['texture']['pmremVersion']=_0x33bbe9['pmremVersion'],_0x5253a5['set'](_0x33bbe9,_0x11caff),_0x11caff['texture'];if(void 0x0!==_0x11caff)return _0x11caff['texture'];{const _0x29daf3=_0x33bbe9['image'];return _0x53b720&&_0x29daf3&&_0x29daf3['height']>0x0||_0xee8ee4&&_0x29daf3&&function(_0x3d656a){let _0x2517af=0x0;const _0x48ff80=0x6;for(let _0x402cf7=0x0;_0x402cf7<_0x48ff80;_0x402cf7++)void 0x0!==_0x3d656a[_0x402cf7]&&_0x2517af++;return _0x2517af===_0x48ff80;}(_0x29daf3)?(null===_0x512d18&&(_0x512d18=new _0x4f507e(_0x2d644e)),_0x11caff=_0x53b720?_0x512d18['fromEquirectangular'](_0x33bbe9):_0x512d18['fromCubemap'](_0x33bbe9),_0x11caff['texture']['pmremVersion']=_0x33bbe9['pmremVersion'],_0x5253a5['set'](_0x33bbe9,_0x11caff),_0x33bbe9['addEventListener']('dispose',_0x5c5b54),_0x11caff['texture']):null;}}}return _0x33bbe9;},'dispose':function(){_0x5253a5=new WeakMap(),null!==_0x512d18&&(_0x512d18['dispose'](),_0x512d18=null);}};}function _0x3bdc97(_0x4c6f8e){const _0x145e86={};function _0x5ef2d1(_0x5bf2ed){if(void 0x0!==_0x145e86[_0x5bf2ed])return _0x145e86[_0x5bf2ed];let _0xdc34c4;switch(_0x5bf2ed){case'WEBGL_depth_texture':_0xdc34c4=_0x4c6f8e['getExtension']('WEBGL_depth_texture')||_0x4c6f8e['getExtension']('MOZ_WEBGL_depth_texture')||_0x4c6f8e['getExtension']('WEBKIT_WEBGL_depth_texture');break;case'EXT_texture_filter_anisotropic':_0xdc34c4=_0x4c6f8e['getExtension']('EXT_texture_filter_anisotropic')||_0x4c6f8e['getExtension']('MOZ_EXT_texture_filter_anisotropic')||_0x4c6f8e['getExtension']('WEBKIT_EXT_texture_filter_anisotropic');break;case'WEBGL_compressed_texture_s3tc':_0xdc34c4=_0x4c6f8e['getExtension']('WEBGL_compressed_texture_s3tc')||_0x4c6f8e['getExtension']('MOZ_WEBGL_compressed_texture_s3tc')||_0x4c6f8e['getExtension']('WEBKIT_WEBGL_compressed_texture_s3tc');break;case'WEBGL_compressed_texture_pvrtc':_0xdc34c4=_0x4c6f8e['getExtension']('WEBGL_compressed_texture_pvrtc')||_0x4c6f8e['getExtension']('WEBKIT_WEBGL_compressed_texture_pvrtc');break;default:_0xdc34c4=_0x4c6f8e['getExtension'](_0x5bf2ed);}return _0x145e86[_0x5bf2ed]=_0xdc34c4,_0xdc34c4;}return{'has':function(_0x57933e){return null!==_0x5ef2d1(_0x57933e);},'init':function(){_0x5ef2d1('EXT_color_buffer_float'),_0x5ef2d1('WEBGL_clip_cull_distance'),_0x5ef2d1('OES_texture_float_linear'),_0x5ef2d1('EXT_color_buffer_half_float'),_0x5ef2d1('WEBGL_multisampled_render_to_texture'),_0x5ef2d1('WEBGL_render_shared_exponent');},'get':function(_0x35ce9f){const _0x12f6e8=_0x5ef2d1(_0x35ce9f);return null===_0x12f6e8&&(0x0,_0x46094d['mcG'])('THREE.WebGLRenderer:\x20'+_0x35ce9f+'\x20extension\x20not\x20supported.'),_0x12f6e8;}};}function _0x8025b5(_0x4733a3,_0x5075d8,_0x751a1a,_0x436557){const _0x3122e0={},_0x1298f9=new WeakMap();function _0x396405(_0x27c2ec){const _0x3fb1ea=_0x27c2ec['target'];null!==_0x3fb1ea['index']&&_0x5075d8['remove'](_0x3fb1ea['index']);for(const _0x20dde2 in _0x3fb1ea['attributes'])_0x5075d8['remove'](_0x3fb1ea['attributes'][_0x20dde2]);_0x3fb1ea['removeEventListener']('dispose',_0x396405),delete _0x3122e0[_0x3fb1ea['id']];const _0x1cffe4=_0x1298f9['get'](_0x3fb1ea);_0x1cffe4&&(_0x5075d8['remove'](_0x1cffe4),_0x1298f9['delete'](_0x3fb1ea)),_0x436557['releaseStatesOfGeometry'](_0x3fb1ea),!0x0===_0x3fb1ea['isInstancedBufferGeometry']&&delete _0x3fb1ea['_maxInstanceCount'],_0x751a1a['memory']['geometries']--;}function _0x3510d7(_0x56bcc8){const _0x48dd2c=[],_0x9bd31=_0x56bcc8['index'],_0x6fe33c=_0x56bcc8['attributes']['position'];let _0x1635f6=0x0;if(null!==_0x9bd31){const _0x442d5c=_0x9bd31['array'];_0x1635f6=_0x9bd31['version'];for(let _0x4abbf3=0x0,_0x27a81c=_0x442d5c['length'];_0x4abbf3<_0x27a81c;_0x4abbf3+=0x3){const _0x3241de=_0x442d5c[_0x4abbf3+0x0],_0x37b1d4=_0x442d5c[_0x4abbf3+0x1],_0x258ef4=_0x442d5c[_0x4abbf3+0x2];_0x48dd2c['push'](_0x3241de,_0x37b1d4,_0x37b1d4,_0x258ef4,_0x258ef4,_0x3241de);}}else{if(void 0x0===_0x6fe33c)return;{const _0x43b9bb=_0x6fe33c['array'];_0x1635f6=_0x6fe33c['version'];for(let _0x794dcd=0x0,_0x45f225=_0x43b9bb['length']/0x3-0x1;_0x794dcd<_0x45f225;_0x794dcd+=0x3){const _0x1468b3=_0x794dcd+0x0,_0xde8426=_0x794dcd+0x1,_0x1110b7=_0x794dcd+0x2;_0x48dd2c['push'](_0x1468b3,_0xde8426,_0xde8426,_0x1110b7,_0x1110b7,_0x1468b3);}}}const _0x13a6ab=new(((0x0,_0x46094d['AQS'])(_0x48dd2c))?_0x46094d['MW4']:_0x46094d['A$4'])(_0x48dd2c,0x1);_0x13a6ab['version']=_0x1635f6;const _0x56f1b9=_0x1298f9['get'](_0x56bcc8);_0x56f1b9&&_0x5075d8['remove'](_0x56f1b9),_0x1298f9['set'](_0x56bcc8,_0x13a6ab);}return{'get':function(_0x29580c,_0x5355a9){return!0x0===_0x3122e0[_0x5355a9['id']]||(_0x5355a9['addEventListener']('dispose',_0x396405),_0x3122e0[_0x5355a9['id']]=!0x0,_0x751a1a['memory']['geometries']++),_0x5355a9;},'update':function(_0x278e1b){const _0x556f8d=_0x278e1b['attributes'];for(const _0x1eefb5 in _0x556f8d)_0x5075d8['update'](_0x556f8d[_0x1eefb5],_0x4733a3['ARRAY_BUFFER']);},'getWireframeAttribute':function(_0xcda89f){const _0x5b69bd=_0x1298f9['get'](_0xcda89f);if(_0x5b69bd){const _0x2053bb=_0xcda89f['index'];null!==_0x2053bb&&_0x5b69bd['version']<_0x2053bb['version']&&_0x3510d7(_0xcda89f);}else _0x3510d7(_0xcda89f);return _0x1298f9['get'](_0xcda89f);}};}function _0x289ec1(_0x9691a4,_0x29259e,_0x50d071){let _0xd57fbd,_0x3ba2c5,_0x2a1e2c;function _0x19deda(_0x233c4a,_0x20f936,_0x49e2cf){0x0!==_0x49e2cf&&(_0x9691a4['drawElementsInstanced'](_0xd57fbd,_0x20f936,_0x3ba2c5,_0x233c4a*_0x2a1e2c,_0x49e2cf),_0x50d071['update'](_0x20f936,_0xd57fbd,_0x49e2cf));}this['setMode']=function(_0x57b8ab){_0xd57fbd=_0x57b8ab;},this['setIndex']=function(_0x2d906f){_0x3ba2c5=_0x2d906f['type'],_0x2a1e2c=_0x2d906f['bytesPerElement'];},this['render']=function(_0x15f36c,_0x99ba5e){_0x9691a4['drawElements'](_0xd57fbd,_0x99ba5e,_0x3ba2c5,_0x15f36c*_0x2a1e2c),_0x50d071['update'](_0x99ba5e,_0xd57fbd,0x1);},this['renderInstances']=_0x19deda,this['renderMultiDraw']=function(_0x30e3d9,_0x5ceb64,_0xf783a9){if(0x0===_0xf783a9)return;_0x29259e['get']('WEBGL_multi_draw')['multiDrawElementsWEBGL'](_0xd57fbd,_0x5ceb64,0x0,_0x3ba2c5,_0x30e3d9,0x0,_0xf783a9);let _0x448171=0x0;for(let _0x56284c=0x0;_0x56284c<_0xf783a9;_0x56284c++)_0x448171+=_0x5ceb64[_0x56284c];_0x50d071['update'](_0x448171,_0xd57fbd,0x1);},this['renderMultiDrawInstances']=function(_0x1b1a2a,_0x52e415,_0x2419bd,_0x3e3f14){if(0x0===_0x2419bd)return;const _0x551243=_0x29259e['get']('WEBGL_multi_draw');if(null===_0x551243){for(let _0x4a9146=0x0;_0x4a9146<_0x1b1a2a['length'];_0x4a9146++)_0x19deda(_0x1b1a2a[_0x4a9146]/_0x2a1e2c,_0x52e415[_0x4a9146],_0x3e3f14[_0x4a9146]);}else{_0x551243['multiDrawElementsInstancedWEBGL'](_0xd57fbd,_0x52e415,0x0,_0x3ba2c5,_0x1b1a2a,0x0,_0x3e3f14,0x0,_0x2419bd);let _0x366457=0x0;for(let _0x39de09=0x0;_0x39de09<_0x2419bd;_0x39de09++)_0x366457+=_0x52e415[_0x39de09]*_0x3e3f14[_0x39de09];_0x50d071['update'](_0x366457,_0xd57fbd,0x1);}};}function _0x33d7bc(_0x726444){const _0x2a5aff={'frame':0x0,'calls':0x0,'triangles':0x0,'points':0x0,'lines':0x0};return{'memory':{'geometries':0x0,'textures':0x0},'render':_0x2a5aff,'programs':null,'autoReset':!0x0,'reset':function(){_0x2a5aff['calls']=0x0,_0x2a5aff['triangles']=0x0,_0x2a5aff['points']=0x0,_0x2a5aff['lines']=0x0;},'update':function(_0x176985,_0x3547ce,_0x3fa979){switch(_0x2a5aff['calls']++,_0x3547ce){case _0x726444['TRIANGLES']:_0x2a5aff['triangles']+=_0x3fa979*(_0x176985/0x3);break;case _0x726444['LINES']:_0x2a5aff['lines']+=_0x3fa979*(_0x176985/0x2);break;case _0x726444['LINE_STRIP']:_0x2a5aff['lines']+=_0x3fa979*(_0x176985-0x1);break;case _0x726444['LINE_LOOP']:_0x2a5aff['lines']+=_0x3fa979*_0x176985;break;case _0x726444['POINTS']:_0x2a5aff['points']+=_0x3fa979*_0x176985;break;default:console['error']('THREE.WebGLInfo:\x20Unknown\x20draw\x20mode:',_0x3547ce);}}};}function _0x492e9d(_0x97003e,_0x279b7d,_0x450cee){const _0x223959=new WeakMap(),_0x2e7c11=new _0x46094d['IUQ']();return{'update':function(_0x4bd67d,_0x2537c6,_0x41f167){const _0x3b0f03=_0x4bd67d['morphTargetInfluences'],_0x1a98b3=_0x2537c6['morphAttributes']['position']||_0x2537c6['morphAttributes']['normal']||_0x2537c6['morphAttributes']['color'],_0x456ff9=void 0x0!==_0x1a98b3?_0x1a98b3['length']:0x0;let _0x6bd757=_0x223959['get'](_0x2537c6);if(void 0x0===_0x6bd757||_0x6bd757['count']!==_0x456ff9){void 0x0!==_0x6bd757&&_0x6bd757['texture']['dispose']();const _0x427bf7=void 0x0!==_0x2537c6['morphAttributes']['position'],_0x32e32a=void 0x0!==_0x2537c6['morphAttributes']['normal'],_0xc92f6e=void 0x0!==_0x2537c6['morphAttributes']['color'],_0x1538c1=_0x2537c6['morphAttributes']['position']||[],_0x39ec2b=_0x2537c6['morphAttributes']['normal']||[],_0x5a49d5=_0x2537c6['morphAttributes']['color']||[];let _0x178cd9=0x0;!0x0===_0x427bf7&&(_0x178cd9=0x1),!0x0===_0x32e32a&&(_0x178cd9=0x2),!0x0===_0xc92f6e&&(_0x178cd9=0x3);let _0x30a0dc=_0x2537c6['attributes']['position']['count']*_0x178cd9,_0x2758bb=0x1;_0x30a0dc>_0x279b7d['maxTextureSize']&&(_0x2758bb=Math['ceil'](_0x30a0dc/_0x279b7d['maxTextureSize']),_0x30a0dc=_0x279b7d['maxTextureSize']);const _0x56c2b7=new Float32Array(_0x30a0dc*_0x2758bb*0x4*_0x456ff9),_0x750247=new _0x46094d['rFo'](_0x56c2b7,_0x30a0dc,_0x2758bb,_0x456ff9);_0x750247['type']=_0x46094d['RQf'],_0x750247['needsUpdate']=!0x0;const _0x3f46a7=0x4*_0x178cd9;for(let _0x243841=0x0;_0x243841<_0x456ff9;_0x243841++){const _0x5f17de=_0x1538c1[_0x243841],_0x12d3f0=_0x39ec2b[_0x243841],_0x37e280=_0x5a49d5[_0x243841],_0x204770=_0x30a0dc*_0x2758bb*0x4*_0x243841;for(let _0x31190c=0x0;_0x31190c<_0x5f17de['count'];_0x31190c++){const _0x2b420a=_0x31190c*_0x3f46a7;!0x0===_0x427bf7&&(_0x2e7c11['fromBufferAttribute'](_0x5f17de,_0x31190c),_0x56c2b7[_0x204770+_0x2b420a+0x0]=_0x2e7c11['x'],_0x56c2b7[_0x204770+_0x2b420a+0x1]=_0x2e7c11['y'],_0x56c2b7[_0x204770+_0x2b420a+0x2]=_0x2e7c11['z'],_0x56c2b7[_0x204770+_0x2b420a+0x3]=0x0),!0x0===_0x32e32a&&(_0x2e7c11['fromBufferAttribute'](_0x12d3f0,_0x31190c),_0x56c2b7[_0x204770+_0x2b420a+0x4]=_0x2e7c11['x'],_0x56c2b7[_0x204770+_0x2b420a+0x5]=_0x2e7c11['y'],_0x56c2b7[_0x204770+_0x2b420a+0x6]=_0x2e7c11['z'],_0x56c2b7[_0x204770+_0x2b420a+0x7]=0x0),!0x0===_0xc92f6e&&(_0x2e7c11['fromBufferAttribute'](_0x37e280,_0x31190c),_0x56c2b7[_0x204770+_0x2b420a+0x8]=_0x2e7c11['x'],_0x56c2b7[_0x204770+_0x2b420a+0x9]=_0x2e7c11['y'],_0x56c2b7[_0x204770+_0x2b420a+0xa]=_0x2e7c11['z'],_0x56c2b7[_0x204770+_0x2b420a+0xb]=0x4===_0x37e280['itemSize']?_0x2e7c11['w']:0x1);}}function _0x4f16be(){_0x750247['dispose'](),_0x223959['delete'](_0x2537c6),_0x2537c6['removeEventListener']('dispose',_0x4f16be);}_0x6bd757={'count':_0x456ff9,'texture':_0x750247,'size':new _0x46094d['I9Y'](_0x30a0dc,_0x2758bb)},_0x223959['set'](_0x2537c6,_0x6bd757),_0x2537c6['addEventListener']('dispose',_0x4f16be);}if(!0x0===_0x4bd67d['isInstancedMesh']&&null!==_0x4bd67d['morphTexture'])_0x41f167['getUniforms']()['setValue'](_0x97003e,'morphTexture',_0x4bd67d['morphTexture'],_0x450cee);else{let _0x1655e3=0x0;for(let _0xfca884=0x0;_0xfca884<_0x3b0f03['length'];_0xfca884++)_0x1655e3+=_0x3b0f03[_0xfca884];const _0x358127=_0x2537c6['morphTargetsRelative']?0x1:0x1-_0x1655e3;_0x41f167['getUniforms']()['setValue'](_0x97003e,'morphTargetBaseInfluence',_0x358127),_0x41f167['getUniforms']()['setValue'](_0x97003e,'morphTargetInfluences',_0x3b0f03);}_0x41f167['getUniforms']()['setValue'](_0x97003e,'morphTargetsTexture',_0x6bd757['texture'],_0x450cee),_0x41f167['getUniforms']()['setValue'](_0x97003e,'morphTargetsTextureSize',_0x6bd757['size']);}};}function _0x28553b(_0x3c0677,_0xfe403f,_0x40d9e0,_0x341e9c){let _0x338e53=new WeakMap();function _0x5cc0f2(_0x59fd4e){const _0x199cc4=_0x59fd4e['target'];_0x199cc4['removeEventListener']('dispose',_0x5cc0f2),_0x40d9e0['remove'](_0x199cc4['instanceMatrix']),null!==_0x199cc4['instanceColor']&&_0x40d9e0['remove'](_0x199cc4['instanceColor']);}return{'update':function(_0x2b41ed){const _0x31eb77=_0x341e9c['render']['frame'],_0x357e25=_0x2b41ed['geometry'],_0x2bf9ce=_0xfe403f['get'](_0x2b41ed,_0x357e25);if(_0x338e53['get'](_0x2bf9ce)!==_0x31eb77&&(_0xfe403f['update'](_0x2bf9ce),_0x338e53['set'](_0x2bf9ce,_0x31eb77)),_0x2b41ed['isInstancedMesh']&&(!0x1===_0x2b41ed['hasEventListener']('dispose',_0x5cc0f2)&&_0x2b41ed['addEventListener']('dispose',_0x5cc0f2),_0x338e53['get'](_0x2b41ed)!==_0x31eb77&&(_0x40d9e0['update'](_0x2b41ed['instanceMatrix'],_0x3c0677['ARRAY_BUFFER']),null!==_0x2b41ed['instanceColor']&&_0x40d9e0['update'](_0x2b41ed['instanceColor'],_0x3c0677['ARRAY_BUFFER']),_0x338e53['set'](_0x2b41ed,_0x31eb77))),_0x2b41ed['isSkinnedMesh']){const _0x1b08c9=_0x2b41ed['skeleton'];_0x338e53['get'](_0x1b08c9)!==_0x31eb77&&(_0x1b08c9['update'](),_0x338e53['set'](_0x1b08c9,_0x31eb77));}return _0x2bf9ce;},'dispose':function(){_0x338e53=new WeakMap();}};}const _0x484f61=new _0x46094d['gPd'](),_0x365a0a=new _0x46094d['VCu'](0x1,0x1),_0x4cd28f=new _0x46094d['rFo'](),_0x12bcc3=new _0x46094d['dYF'](),_0x35e05e=new _0x46094d['b4q'](),_0x37cdae=[],_0xe97f66=[],_0x10c8c1=new Float32Array(0x10),_0x5ca60b=new Float32Array(0x9),_0x53fb20=new Float32Array(0x4);function _0x5f434a(_0x3a1439,_0x12cf0c,_0x514e33){const _0x3351c6=_0x3a1439[0x0];if(_0x3351c6<=0x0||_0x3351c6>0x0)return _0x3a1439;const _0x287cdb=_0x12cf0c*_0x514e33;let _0x8f27d0=_0x37cdae[_0x287cdb];if(void 0x0===_0x8f27d0&&(_0x8f27d0=new Float32Array(_0x287cdb),_0x37cdae[_0x287cdb]=_0x8f27d0),0x0!==_0x12cf0c){_0x3351c6['toArray'](_0x8f27d0,0x0);for(let _0x5b372d=0x1,_0xc54643=0x0;_0x5b372d!==_0x12cf0c;++_0x5b372d)_0xc54643+=_0x514e33,_0x3a1439[_0x5b372d]['toArray'](_0x8f27d0,_0xc54643);}return _0x8f27d0;}function _0x4a064e(_0xf0690,_0x3e8c60){if(_0xf0690['length']!==_0x3e8c60['length'])return!0x1;for(let _0x3d5e8f=0x0,_0x59c08e=_0xf0690['length'];_0x3d5e8f<_0x59c08e;_0x3d5e8f++)if(_0xf0690[_0x3d5e8f]!==_0x3e8c60[_0x3d5e8f])return!0x1;return!0x0;}function _0x653124(_0x1a90f2,_0x4a05d5){for(let _0x39ec88=0x0,_0x254022=_0x4a05d5['length'];_0x39ec88<_0x254022;_0x39ec88++)_0x1a90f2[_0x39ec88]=_0x4a05d5[_0x39ec88];}function _0x18fea0(_0x30620a,_0x5cab40){let _0x16ff49=_0xe97f66[_0x5cab40];void 0x0===_0x16ff49&&(_0x16ff49=new Int32Array(_0x5cab40),_0xe97f66[_0x5cab40]=_0x16ff49);for(let _0x124070=0x0;_0x124070!==_0x5cab40;++_0x124070)_0x16ff49[_0x124070]=_0x30620a['allocateTextureUnit']();return _0x16ff49;}function _0x4559a(_0x573a48,_0x18f5c5){const _0x3a9000=this['cache'];_0x3a9000[0x0]!==_0x18f5c5&&(_0x573a48['uniform1f'](this['addr'],_0x18f5c5),_0x3a9000[0x0]=_0x18f5c5);}function _0x1af0f5(_0x190038,_0x425fdd){const _0x34857a=this['cache'];if(void 0x0!==_0x425fdd['x'])_0x34857a[0x0]===_0x425fdd['x']&&_0x34857a[0x1]===_0x425fdd['y']||(_0x190038['uniform2f'](this['addr'],_0x425fdd['x'],_0x425fdd['y']),_0x34857a[0x0]=_0x425fdd['x'],_0x34857a[0x1]=_0x425fdd['y']);else{if(_0x4a064e(_0x34857a,_0x425fdd))return;_0x190038['uniform2fv'](this['addr'],_0x425fdd),_0x653124(_0x34857a,_0x425fdd);}}function _0x45bd58(_0x53921a,_0x745287){const _0x59d8da=this['cache'];if(void 0x0!==_0x745287['x'])_0x59d8da[0x0]===_0x745287['x']&&_0x59d8da[0x1]===_0x745287['y']&&_0x59d8da[0x2]===_0x745287['z']||(_0x53921a['uniform3f'](this['addr'],_0x745287['x'],_0x745287['y'],_0x745287['z']),_0x59d8da[0x0]=_0x745287['x'],_0x59d8da[0x1]=_0x745287['y'],_0x59d8da[0x2]=_0x745287['z']);else{if(void 0x0!==_0x745287['r'])_0x59d8da[0x0]===_0x745287['r']&&_0x59d8da[0x1]===_0x745287['g']&&_0x59d8da[0x2]===_0x745287['b']||(_0x53921a['uniform3f'](this['addr'],_0x745287['r'],_0x745287['g'],_0x745287['b']),_0x59d8da[0x0]=_0x745287['r'],_0x59d8da[0x1]=_0x745287['g'],_0x59d8da[0x2]=_0x745287['b']);else{if(_0x4a064e(_0x59d8da,_0x745287))return;_0x53921a['uniform3fv'](this['addr'],_0x745287),_0x653124(_0x59d8da,_0x745287);}}}function _0x8d668(_0x5bd8ae,_0x5df820){const _0x5e5a83=this['cache'];if(void 0x0!==_0x5df820['x'])_0x5e5a83[0x0]===_0x5df820['x']&&_0x5e5a83[0x1]===_0x5df820['y']&&_0x5e5a83[0x2]===_0x5df820['z']&&_0x5e5a83[0x3]===_0x5df820['w']||(_0x5bd8ae['uniform4f'](this['addr'],_0x5df820['x'],_0x5df820['y'],_0x5df820['z'],_0x5df820['w']),_0x5e5a83[0x0]=_0x5df820['x'],_0x5e5a83[0x1]=_0x5df820['y'],_0x5e5a83[0x2]=_0x5df820['z'],_0x5e5a83[0x3]=_0x5df820['w']);else{if(_0x4a064e(_0x5e5a83,_0x5df820))return;_0x5bd8ae['uniform4fv'](this['addr'],_0x5df820),_0x653124(_0x5e5a83,_0x5df820);}}function _0xf4c6(_0x2e9bee,_0x479039){const _0x86ab1c=this['cache'],_0x2b1c85=_0x479039['elements'];if(void 0x0===_0x2b1c85){if(_0x4a064e(_0x86ab1c,_0x479039))return;_0x2e9bee['uniformMatrix2fv'](this['addr'],!0x1,_0x479039),_0x653124(_0x86ab1c,_0x479039);}else{if(_0x4a064e(_0x86ab1c,_0x2b1c85))return;_0x53fb20['set'](_0x2b1c85),_0x2e9bee['uniformMatrix2fv'](this['addr'],!0x1,_0x53fb20),_0x653124(_0x86ab1c,_0x2b1c85);}}function _0x401ce2(_0x5d9c80,_0xb80ba7){const _0x27df37=this['cache'],_0xb8efb7=_0xb80ba7['elements'];if(void 0x0===_0xb8efb7){if(_0x4a064e(_0x27df37,_0xb80ba7))return;_0x5d9c80['uniformMatrix3fv'](this['addr'],!0x1,_0xb80ba7),_0x653124(_0x27df37,_0xb80ba7);}else{if(_0x4a064e(_0x27df37,_0xb8efb7))return;_0x5ca60b['set'](_0xb8efb7),_0x5d9c80['uniformMatrix3fv'](this['addr'],!0x1,_0x5ca60b),_0x653124(_0x27df37,_0xb8efb7);}}function _0x5b465b(_0x4a2c5f,_0x30a2cf){const _0x4f85a3=this['cache'],_0x3d1b3b=_0x30a2cf['elements'];if(void 0x0===_0x3d1b3b){if(_0x4a064e(_0x4f85a3,_0x30a2cf))return;_0x4a2c5f['uniformMatrix4fv'](this['addr'],!0x1,_0x30a2cf),_0x653124(_0x4f85a3,_0x30a2cf);}else{if(_0x4a064e(_0x4f85a3,_0x3d1b3b))return;_0x10c8c1['set'](_0x3d1b3b),_0x4a2c5f['uniformMatrix4fv'](this['addr'],!0x1,_0x10c8c1),_0x653124(_0x4f85a3,_0x3d1b3b);}}function _0x305ff0(_0x204b98,_0x470311){const _0x1d8e1f=this['cache'];_0x1d8e1f[0x0]!==_0x470311&&(_0x204b98['uniform1i'](this['addr'],_0x470311),_0x1d8e1f[0x0]=_0x470311);}function _0x7e338e(_0x53d287,_0x5c01e7){const _0x4a5b8a=this['cache'];if(void 0x0!==_0x5c01e7['x'])_0x4a5b8a[0x0]===_0x5c01e7['x']&&_0x4a5b8a[0x1]===_0x5c01e7['y']||(_0x53d287['uniform2i'](this['addr'],_0x5c01e7['x'],_0x5c01e7['y']),_0x4a5b8a[0x0]=_0x5c01e7['x'],_0x4a5b8a[0x1]=_0x5c01e7['y']);else{if(_0x4a064e(_0x4a5b8a,_0x5c01e7))return;_0x53d287['uniform2iv'](this['addr'],_0x5c01e7),_0x653124(_0x4a5b8a,_0x5c01e7);}}function _0x335b2b(_0x3f37cc,_0x515e9c){const _0x3acbb8=this['cache'];if(void 0x0!==_0x515e9c['x'])_0x3acbb8[0x0]===_0x515e9c['x']&&_0x3acbb8[0x1]===_0x515e9c['y']&&_0x3acbb8[0x2]===_0x515e9c['z']||(_0x3f37cc['uniform3i'](this['addr'],_0x515e9c['x'],_0x515e9c['y'],_0x515e9c['z']),_0x3acbb8[0x0]=_0x515e9c['x'],_0x3acbb8[0x1]=_0x515e9c['y'],_0x3acbb8[0x2]=_0x515e9c['z']);else{if(_0x4a064e(_0x3acbb8,_0x515e9c))return;_0x3f37cc['uniform3iv'](this['addr'],_0x515e9c),_0x653124(_0x3acbb8,_0x515e9c);}}function _0x10e99f(_0x46a81f,_0x22c055){const _0x306acf=this['cache'];if(void 0x0!==_0x22c055['x'])_0x306acf[0x0]===_0x22c055['x']&&_0x306acf[0x1]===_0x22c055['y']&&_0x306acf[0x2]===_0x22c055['z']&&_0x306acf[0x3]===_0x22c055['w']||(_0x46a81f['uniform4i'](this['addr'],_0x22c055['x'],_0x22c055['y'],_0x22c055['z'],_0x22c055['w']),_0x306acf[0x0]=_0x22c055['x'],_0x306acf[0x1]=_0x22c055['y'],_0x306acf[0x2]=_0x22c055['z'],_0x306acf[0x3]=_0x22c055['w']);else{if(_0x4a064e(_0x306acf,_0x22c055))return;_0x46a81f['uniform4iv'](this['addr'],_0x22c055),_0x653124(_0x306acf,_0x22c055);}}function _0xebc28f(_0x16d86e,_0x5a466a){const _0x37a7ef=this['cache'];_0x37a7ef[0x0]!==_0x5a466a&&(_0x16d86e['uniform1ui'](this['addr'],_0x5a466a),_0x37a7ef[0x0]=_0x5a466a);}function _0x5d0036(_0x39bc46,_0x4ccd3d){const _0x103b84=this['cache'];if(void 0x0!==_0x4ccd3d['x'])_0x103b84[0x0]===_0x4ccd3d['x']&&_0x103b84[0x1]===_0x4ccd3d['y']||(_0x39bc46['uniform2ui'](this['addr'],_0x4ccd3d['x'],_0x4ccd3d['y']),_0x103b84[0x0]=_0x4ccd3d['x'],_0x103b84[0x1]=_0x4ccd3d['y']);else{if(_0x4a064e(_0x103b84,_0x4ccd3d))return;_0x39bc46['uniform2uiv'](this['addr'],_0x4ccd3d),_0x653124(_0x103b84,_0x4ccd3d);}}function _0x1918c6(_0x229123,_0xa093f5){const _0x43cf09=this['cache'];if(void 0x0!==_0xa093f5['x'])_0x43cf09[0x0]===_0xa093f5['x']&&_0x43cf09[0x1]===_0xa093f5['y']&&_0x43cf09[0x2]===_0xa093f5['z']||(_0x229123['uniform3ui'](this['addr'],_0xa093f5['x'],_0xa093f5['y'],_0xa093f5['z']),_0x43cf09[0x0]=_0xa093f5['x'],_0x43cf09[0x1]=_0xa093f5['y'],_0x43cf09[0x2]=_0xa093f5['z']);else{if(_0x4a064e(_0x43cf09,_0xa093f5))return;_0x229123['uniform3uiv'](this['addr'],_0xa093f5),_0x653124(_0x43cf09,_0xa093f5);}}function _0x453d93(_0x19882f,_0xddbf34){const _0x3b93b4=this['cache'];if(void 0x0!==_0xddbf34['x'])_0x3b93b4[0x0]===_0xddbf34['x']&&_0x3b93b4[0x1]===_0xddbf34['y']&&_0x3b93b4[0x2]===_0xddbf34['z']&&_0x3b93b4[0x3]===_0xddbf34['w']||(_0x19882f['uniform4ui'](this['addr'],_0xddbf34['x'],_0xddbf34['y'],_0xddbf34['z'],_0xddbf34['w']),_0x3b93b4[0x0]=_0xddbf34['x'],_0x3b93b4[0x1]=_0xddbf34['y'],_0x3b93b4[0x2]=_0xddbf34['z'],_0x3b93b4[0x3]=_0xddbf34['w']);else{if(_0x4a064e(_0x3b93b4,_0xddbf34))return;_0x19882f['uniform4uiv'](this['addr'],_0xddbf34),_0x653124(_0x3b93b4,_0xddbf34);}}function _0x168e48(_0x3c764b,_0x47875a,_0x539c97){const _0x3076db=this['cache'],_0x2e87c4=_0x539c97['allocateTextureUnit']();let _0x3c0f20;_0x3076db[0x0]!==_0x2e87c4&&(_0x3c764b['uniform1i'](this['addr'],_0x2e87c4),_0x3076db[0x0]=_0x2e87c4),this['type']===_0x3c764b['SAMPLER_2D_SHADOW']?(_0x365a0a['compareFunction']=_0x46094d['TiK'],_0x3c0f20=_0x365a0a):_0x3c0f20=_0x484f61,_0x539c97['setTexture2D'](_0x47875a||_0x3c0f20,_0x2e87c4);}function _0x2a9e15(_0x409575,_0x547c2b,_0xbe1e17){const _0x45c13e=this['cache'],_0x2358ce=_0xbe1e17['allocateTextureUnit']();_0x45c13e[0x0]!==_0x2358ce&&(_0x409575['uniform1i'](this['addr'],_0x2358ce),_0x45c13e[0x0]=_0x2358ce),_0xbe1e17['setTexture3D'](_0x547c2b||_0x12bcc3,_0x2358ce);}function _0x110c57(_0x29a0c1,_0x25e178,_0x4ba708){const _0x510411=this['cache'],_0x27e41e=_0x4ba708['allocateTextureUnit']();_0x510411[0x0]!==_0x27e41e&&(_0x29a0c1['uniform1i'](this['addr'],_0x27e41e),_0x510411[0x0]=_0x27e41e),_0x4ba708['setTextureCube'](_0x25e178||_0x35e05e,_0x27e41e);}function _0x12e08d(_0x2e451c,_0x440298,_0x2e3b94){const _0x3dca6c=this['cache'],_0x28bbf3=_0x2e3b94['allocateTextureUnit']();_0x3dca6c[0x0]!==_0x28bbf3&&(_0x2e451c['uniform1i'](this['addr'],_0x28bbf3),_0x3dca6c[0x0]=_0x28bbf3),_0x2e3b94['setTexture2DArray'](_0x440298||_0x4cd28f,_0x28bbf3);}function _0x56b38d(_0x3f756f,_0x40c7a2){_0x3f756f['uniform1fv'](this['addr'],_0x40c7a2);}function _0x11206a(_0x2029c4,_0x23acb6){const _0x28fd5f=_0x5f434a(_0x23acb6,this['size'],0x2);_0x2029c4['uniform2fv'](this['addr'],_0x28fd5f);}function _0x54e113(_0x4569c7,_0x4fe822){const _0x36607e=_0x5f434a(_0x4fe822,this['size'],0x3);_0x4569c7['uniform3fv'](this['addr'],_0x36607e);}function _0x4320fe(_0x45975e,_0x5240e4){const _0xdfb813=_0x5f434a(_0x5240e4,this['size'],0x4);_0x45975e['uniform4fv'](this['addr'],_0xdfb813);}function _0x3649ad(_0x42adfc,_0x9cc6b){const _0x50e671=_0x5f434a(_0x9cc6b,this['size'],0x4);_0x42adfc['uniformMatrix2fv'](this['addr'],!0x1,_0x50e671);}function _0x3b0996(_0xd39914,_0x719256){const _0x24f736=_0x5f434a(_0x719256,this['size'],0x9);_0xd39914['uniformMatrix3fv'](this['addr'],!0x1,_0x24f736);}function _0x2d9757(_0x10e36b,_0x1f525c){const _0x27bd85=_0x5f434a(_0x1f525c,this['size'],0x10);_0x10e36b['uniformMatrix4fv'](this['addr'],!0x1,_0x27bd85);}function _0x9a14cd(_0x305159,_0x24a0e8){_0x305159['uniform1iv'](this['addr'],_0x24a0e8);}function _0x376d97(_0x4fb6c4,_0x568637){_0x4fb6c4['uniform2iv'](this['addr'],_0x568637);}function _0x300855(_0x598f97,_0x19e902){_0x598f97['uniform3iv'](this['addr'],_0x19e902);}function _0x1210ad(_0x2f9ecb,_0x56eb74){_0x2f9ecb['uniform4iv'](this['addr'],_0x56eb74);}function _0x126807(_0x3439ce,_0x21fade){_0x3439ce['uniform1uiv'](this['addr'],_0x21fade);}function _0x2414a6(_0x52381c,_0x224f7d){_0x52381c['uniform2uiv'](this['addr'],_0x224f7d);}function _0x2069b4(_0x1b114f,_0x5a6b43){_0x1b114f['uniform3uiv'](this['addr'],_0x5a6b43);}function _0x219010(_0x808bfe,_0x29ff6e){_0x808bfe['uniform4uiv'](this['addr'],_0x29ff6e);}function _0x40ed0b(_0x3f8f3a,_0x116419,_0xe8cd0e){const _0x3c78a7=this['cache'],_0x2a78b5=_0x116419['length'],_0x54941b=_0x18fea0(_0xe8cd0e,_0x2a78b5);_0x4a064e(_0x3c78a7,_0x54941b)||(_0x3f8f3a['uniform1iv'](this['addr'],_0x54941b),_0x653124(_0x3c78a7,_0x54941b));for(let _0x7731b8=0x0;_0x7731b8!==_0x2a78b5;++_0x7731b8)_0xe8cd0e['setTexture2D'](_0x116419[_0x7731b8]||_0x484f61,_0x54941b[_0x7731b8]);}function _0x525c5e(_0xdde436,_0x184ffc,_0x288e1d){const _0x255327=this['cache'],_0x32073d=_0x184ffc['length'],_0x2152de=_0x18fea0(_0x288e1d,_0x32073d);_0x4a064e(_0x255327,_0x2152de)||(_0xdde436['uniform1iv'](this['addr'],_0x2152de),_0x653124(_0x255327,_0x2152de));for(let _0xbf9c80=0x0;_0xbf9c80!==_0x32073d;++_0xbf9c80)_0x288e1d['setTexture3D'](_0x184ffc[_0xbf9c80]||_0x12bcc3,_0x2152de[_0xbf9c80]);}function _0x59d973(_0x312248,_0x53a963,_0x19285c){const _0x5cd6eb=this['cache'],_0x217261=_0x53a963['length'],_0xbdc07=_0x18fea0(_0x19285c,_0x217261);_0x4a064e(_0x5cd6eb,_0xbdc07)||(_0x312248['uniform1iv'](this['addr'],_0xbdc07),_0x653124(_0x5cd6eb,_0xbdc07));for(let _0x5e411e=0x0;_0x5e411e!==_0x217261;++_0x5e411e)_0x19285c['setTextureCube'](_0x53a963[_0x5e411e]||_0x35e05e,_0xbdc07[_0x5e411e]);}function _0x476575(_0x1f91a8,_0x1981a8,_0x1d7a51){const _0x122dec=this['cache'],_0x5703cf=_0x1981a8['length'],_0x5dc919=_0x18fea0(_0x1d7a51,_0x5703cf);_0x4a064e(_0x122dec,_0x5dc919)||(_0x1f91a8['uniform1iv'](this['addr'],_0x5dc919),_0x653124(_0x122dec,_0x5dc919));for(let _0x13e9a3=0x0;_0x13e9a3!==_0x5703cf;++_0x13e9a3)_0x1d7a51['setTexture2DArray'](_0x1981a8[_0x13e9a3]||_0x4cd28f,_0x5dc919[_0x13e9a3]);}class _0x3105a8{constructor(_0x3cf735,_0x55daea,_0x3401dc){this['id']=_0x3cf735,this['addr']=_0x3401dc,this['cache']=[],this['type']=_0x55daea['type'],this['setValue']=function(_0x3ceae6){switch(_0x3ceae6){case 0x1406:return _0x4559a;case 0x8b50:return _0x1af0f5;case 0x8b51:return _0x45bd58;case 0x8b52:return _0x8d668;case 0x8b5a:return _0xf4c6;case 0x8b5b:return _0x401ce2;case 0x8b5c:return _0x5b465b;case 0x1404:case 0x8b56:return _0x305ff0;case 0x8b53:case 0x8b57:return _0x7e338e;case 0x8b54:case 0x8b58:return _0x335b2b;case 0x8b55:case 0x8b59:return _0x10e99f;case 0x1405:return _0xebc28f;case 0x8dc6:return _0x5d0036;case 0x8dc7:return _0x1918c6;case 0x8dc8:return _0x453d93;case 0x8b5e:case 0x8d66:case 0x8dca:case 0x8dd2:case 0x8b62:return _0x168e48;case 0x8b5f:case 0x8dcb:case 0x8dd3:return _0x2a9e15;case 0x8b60:case 0x8dcc:case 0x8dd4:case 0x8dc5:return _0x110c57;case 0x8dc1:case 0x8dcf:case 0x8dd7:case 0x8dc4:return _0x12e08d;}}(_0x55daea['type']);}}class _0xa9df74{constructor(_0x174eaf,_0x3730cd,_0x49cbb5){this['id']=_0x174eaf,this['addr']=_0x49cbb5,this['cache']=[],this['type']=_0x3730cd['type'],this['size']=_0x3730cd['size'],this['setValue']=function(_0x405e27){switch(_0x405e27){case 0x1406:return _0x56b38d;case 0x8b50:return _0x11206a;case 0x8b51:return _0x54e113;case 0x8b52:return _0x4320fe;case 0x8b5a:return _0x3649ad;case 0x8b5b:return _0x3b0996;case 0x8b5c:return _0x2d9757;case 0x1404:case 0x8b56:return _0x9a14cd;case 0x8b53:case 0x8b57:return _0x376d97;case 0x8b54:case 0x8b58:return _0x300855;case 0x8b55:case 0x8b59:return _0x1210ad;case 0x1405:return _0x126807;case 0x8dc6:return _0x2414a6;case 0x8dc7:return _0x2069b4;case 0x8dc8:return _0x219010;case 0x8b5e:case 0x8d66:case 0x8dca:case 0x8dd2:case 0x8b62:return _0x40ed0b;case 0x8b5f:case 0x8dcb:case 0x8dd3:return _0x525c5e;case 0x8b60:case 0x8dcc:case 0x8dd4:case 0x8dc5:return _0x59d973;case 0x8dc1:case 0x8dcf:case 0x8dd7:case 0x8dc4:return _0x476575;}}(_0x3730cd['type']);}}class _0x45d1af{constructor(_0x1f5a33){this['id']=_0x1f5a33,this['seq']=[],this['map']={};}['setValue'](_0x42be87,_0x275ffb,_0x10be9f){const _0x383c9a=this['seq'];for(let _0x3d0c72=0x0,_0x207a37=_0x383c9a['length'];_0x3d0c72!==_0x207a37;++_0x3d0c72){const _0x41520a=_0x383c9a[_0x3d0c72];_0x41520a['setValue'](_0x42be87,_0x275ffb[_0x41520a['id']],_0x10be9f);}}}const _0x5ef253=/(\w+)(\])?(\[|\.)?/g;function _0x1edd26(_0x1277c0,_0x3a01dc){_0x1277c0['seq']['push'](_0x3a01dc),_0x1277c0['map'][_0x3a01dc['id']]=_0x3a01dc;}function _0x46761a(_0xd3e079,_0x1b3e09,_0x422a4e){const _0x3deaf2=_0xd3e079['name'],_0x3e7112=_0x3deaf2['length'];for(_0x5ef253['lastIndex']=0x0;;){const _0x4cfea3=_0x5ef253['exec'](_0x3deaf2),_0x1f1604=_0x5ef253['lastIndex'];let _0x59362f=_0x4cfea3[0x1];const _0x1ad214=']'===_0x4cfea3[0x2],_0x3b4007=_0x4cfea3[0x3];if(_0x1ad214&&(_0x59362f|=0x0),void 0x0===_0x3b4007||'['===_0x3b4007&&_0x1f1604+0x2===_0x3e7112){_0x1edd26(_0x422a4e,void 0x0===_0x3b4007?new _0x3105a8(_0x59362f,_0xd3e079,_0x1b3e09):new _0xa9df74(_0x59362f,_0xd3e079,_0x1b3e09));break;}{let _0x2c1f7f=_0x422a4e['map'][_0x59362f];void 0x0===_0x2c1f7f&&(_0x2c1f7f=new _0x45d1af(_0x59362f),_0x1edd26(_0x422a4e,_0x2c1f7f)),_0x422a4e=_0x2c1f7f;}}}class _0x3513cd{constructor(_0x27c38f,_0x2892f5){this['seq']=[],this['map']={};const _0x5a78b2=_0x27c38f['getProgramParameter'](_0x2892f5,_0x27c38f['ACTIVE_UNIFORMS']);for(let _0x48790e=0x0;_0x48790e<_0x5a78b2;++_0x48790e){const _0x256054=_0x27c38f['getActiveUniform'](_0x2892f5,_0x48790e);_0x46761a(_0x256054,_0x27c38f['getUniformLocation'](_0x2892f5,_0x256054['name']),this);}}['setValue'](_0x1d11ec,_0x30ea67,_0x3c6bce,_0x4ae554){const _0x465209=this['map'][_0x30ea67];void 0x0!==_0x465209&&_0x465209['setValue'](_0x1d11ec,_0x3c6bce,_0x4ae554);}['setOptional'](_0x3010c0,_0x1df8d1,_0x52eb9e){const _0x6268cf=_0x1df8d1[_0x52eb9e];void 0x0!==_0x6268cf&&this['setValue'](_0x3010c0,_0x52eb9e,_0x6268cf);}static['upload'](_0xad7f46,_0x214755,_0x28961f,_0x1f8679){for(let _0x36d15a=0x0,_0x3273e3=_0x214755['length'];_0x36d15a!==_0x3273e3;++_0x36d15a){const _0x467be2=_0x214755[_0x36d15a],_0x482b7f=_0x28961f[_0x467be2['id']];!0x1!==_0x482b7f['needsUpdate']&&_0x467be2['setValue'](_0xad7f46,_0x482b7f['value'],_0x1f8679);}}static['seqWithValue'](_0x390bfd,_0x4dcd09){const _0x5ee4ed=[];for(let _0x1f6ccb=0x0,_0x542be6=_0x390bfd['length'];_0x1f6ccb!==_0x542be6;++_0x1f6ccb){const _0x273a6f=_0x390bfd[_0x1f6ccb];_0x273a6f['id']in _0x4dcd09&&_0x5ee4ed['push'](_0x273a6f);}return _0x5ee4ed;}}function _0x51bd83(_0x142eab,_0x5f0a64,_0x1a992a){const _0x4ff924=_0x142eab['createShader'](_0x5f0a64);return _0x142eab['shaderSource'](_0x4ff924,_0x1a992a),_0x142eab['compileShader'](_0x4ff924),_0x4ff924;}const _0x3e2157=0x91b1;let _0x386d8d=0x0;const _0x325ebe=new _0x46094d['dwI']();function _0x3b49bb(_0xa3b2d0,_0x11e2b5,_0x188d81){const _0x2d5f47=_0xa3b2d0['getShaderParameter'](_0x11e2b5,_0xa3b2d0['COMPILE_STATUS']),_0x222f6b=_0xa3b2d0['getShaderInfoLog'](_0x11e2b5)['trim']();if(_0x2d5f47&&''===_0x222f6b)return'';const _0x35a6ac=/ERROR: 0:(\d+)/['exec'](_0x222f6b);if(_0x35a6ac){const _0xc222ab=parseInt(_0x35a6ac[0x1]);return _0x188d81['toUpperCase']()+'\x0a\x0a'+_0x222f6b+'\x0a\x0a'+function(_0x1466ff,_0x488fbb){const _0x2ed238=_0x1466ff['split']('\x0a'),_0x105e9f=[],_0x3090cc=Math['max'](_0x488fbb-0x6,0x0),_0x5196e5=Math['min'](_0x488fbb+0x6,_0x2ed238['length']);for(let _0x311a2c=_0x3090cc;_0x311a2c<_0x5196e5;_0x311a2c++){const _0x188717=_0x311a2c+0x1;_0x105e9f['push']((_0x188717===_0x488fbb?'>':'\x20')+'\x20'+_0x188717+':\x20'+_0x2ed238[_0x311a2c]);}return _0x105e9f['join']('\x0a');}(_0xa3b2d0['getShaderSource'](_0x11e2b5),_0xc222ab);}return _0x222f6b;}function _0x14d2c3(_0x5bfb9c,_0x54270b){const _0x28ad90=function(_0x47dbdb){_0x46094d['ppV']['_getMatrix'](_0x325ebe,_0x46094d['ppV']['workingColorSpace'],_0x47dbdb);const _0x18fcb6='mat3(\x20'+_0x325ebe['elements']['map'](_0x212b2a=>_0x212b2a['toFixed'](0x4))+'\x20)';switch(_0x46094d['ppV']['getTransfer'](_0x47dbdb)){case _0x46094d['VxR']:return[_0x18fcb6,'LinearTransferOETF'];case _0x46094d['KLL']:return[_0x18fcb6,'sRGBTransferOETF'];default:return console['warn']('THREE.WebGLProgram:\x20Unsupported\x20color\x20space:\x20',_0x47dbdb),[_0x18fcb6,'LinearTransferOETF'];}}(_0x54270b);return['vec4\x20'+_0x5bfb9c+'(\x20vec4\x20value\x20)\x20{','\x09return\x20'+_0x28ad90[0x1]+'(\x20vec4(\x20value.rgb\x20*\x20'+_0x28ad90[0x0]+',\x20value.a\x20)\x20);','}']['join']('\x0a');}function _0x4c403d(_0xb1b3e9,_0xb162f9){let _0x11f740;switch(_0xb162f9){case _0x46094d['kyO']:_0x11f740='Linear';break;case _0x46094d['Mjd']:_0x11f740='Reinhard';break;case _0x46094d['nNL']:_0x11f740='Cineon';break;case _0x46094d['FV']:_0x11f740='ACESFilmic';break;case _0x46094d['LAk']:_0x11f740='AgX';break;case _0x46094d['aJ8']:_0x11f740='Neutral';break;case _0x46094d['g7M']:_0x11f740='Custom';break;default:console['warn']('THREE.WebGLProgram:\x20Unsupported\x20toneMapping:',_0xb162f9),_0x11f740='Linear';}return'vec3\x20'+_0xb1b3e9+'(\x20vec3\x20color\x20)\x20{\x20return\x20'+_0x11f740+'ToneMapping(\x20color\x20);\x20}';}const _0x5b1057=new _0x46094d['Pq0']();function _0x4f665d(){return _0x46094d['ppV']['getLuminanceCoefficients'](_0x5b1057),['float\x20luminance(\x20const\x20in\x20vec3\x20rgb\x20)\x20{','\x09const\x20vec3\x20weights\x20=\x20vec3(\x20'+_0x5b1057['x']['toFixed'](0x4)+',\x20'+_0x5b1057['y']['toFixed'](0x4)+',\x20'+_0x5b1057['z']['toFixed'](0x4)+'\x20);','\x09return\x20dot(\x20weights,\x20rgb\x20);','}']['join']('\x0a');}function _0x4e3300(_0x4d6bfb){return''!==_0x4d6bfb;}function _0x37b450(_0x3fd3fd,_0x18f52c){const _0x3a2841=_0x18f52c['numSpotLightShadows']+_0x18f52c['numSpotLightMaps']-_0x18f52c['numSpotLightShadowsWithMaps'];return _0x3fd3fd['replace'](/NUM_DIR_LIGHTS/g,_0x18f52c['numDirLights'])['replace'](/NUM_SPOT_LIGHTS/g,_0x18f52c['numSpotLights'])['replace'](/NUM_SPOT_LIGHT_MAPS/g,_0x18f52c['numSpotLightMaps'])['replace'](/NUM_SPOT_LIGHT_COORDS/g,_0x3a2841)['replace'](/NUM_RECT_AREA_LIGHTS/g,_0x18f52c['numRectAreaLights'])['replace'](/NUM_POINT_LIGHTS/g,_0x18f52c['numPointLights'])['replace'](/NUM_HEMI_LIGHTS/g,_0x18f52c['numHemiLights'])['replace'](/NUM_DIR_LIGHT_SHADOWS/g,_0x18f52c['numDirLightShadows'])['replace'](/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,_0x18f52c['numSpotLightShadowsWithMaps'])['replace'](/NUM_SPOT_LIGHT_SHADOWS/g,_0x18f52c['numSpotLightShadows'])['replace'](/NUM_POINT_LIGHT_SHADOWS/g,_0x18f52c['numPointLightShadows']);}function _0x413780(_0x283aab,_0x20199e){return _0x283aab['replace'](/NUM_CLIPPING_PLANES/g,_0x20199e['numClippingPlanes'])['replace'](/UNION_CLIPPING_PLANES/g,_0x20199e['numClippingPlanes']-_0x20199e['numClipIntersection']);}const _0x10da5c=/^[ \t]*#include +<([\w\d./]+)>/gm;function _0x276ca4(_0x487a89){return _0x487a89['replace'](_0x10da5c,_0x2b65d0);}const _0x53b214=new Map();function _0x2b65d0(_0x1a73c2,_0x508834){let _0x436407=_0x12e0a1[_0x508834];if(void 0x0===_0x436407){const _0x3b2628=_0x53b214['get'](_0x508834);if(void 0x0===_0x3b2628)throw new Error('Can\x20not\x20resolve\x20#include\x20<'+_0x508834+'>');_0x436407=_0x12e0a1[_0x3b2628],console['warn']('THREE.WebGLRenderer:\x20Shader\x20chunk\x20\x22%s\x22\x20has\x20been\x20deprecated.\x20Use\x20\x22%s\x22\x20instead.',_0x508834,_0x3b2628);}return _0x276ca4(_0x436407);}const _0x1adfd1=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function _0x54493a(_0x27c072){return _0x27c072['replace'](_0x1adfd1,_0x5f55c4);}function _0x5f55c4(_0xf82c54,_0x5d0876,_0x2337eb,_0x356d35){let _0x35bb58='';for(let _0x3de08b=parseInt(_0x5d0876);_0x3de08b<parseInt(_0x2337eb);_0x3de08b++)_0x35bb58+=_0x356d35['replace'](/\[\s*i\s*\]/g,'[\x20'+_0x3de08b+'\x20]')['replace'](/UNROLLED_LOOP_INDEX/g,_0x3de08b);return _0x35bb58;}function _0x5cd1ff(_0x5d7705){let _0x1c846f='precision\x20'+_0x5d7705['precision']+'\x20float;\x0a\x09precision\x20'+_0x5d7705['precision']+'\x20int;\x0a\x09precision\x20'+_0x5d7705['precision']+'\x20sampler2D;\x0a\x09precision\x20'+_0x5d7705['precision']+'\x20samplerCube;\x0a\x09precision\x20'+_0x5d7705['precision']+'\x20sampler3D;\x0a\x09precision\x20'+_0x5d7705['precision']+'\x20sampler2DArray;\x0a\x09precision\x20'+_0x5d7705['precision']+'\x20sampler2DShadow;\x0a\x09precision\x20'+_0x5d7705['precision']+'\x20samplerCubeShadow;\x0a\x09precision\x20'+_0x5d7705['precision']+'\x20sampler2DArrayShadow;\x0a\x09precision\x20'+_0x5d7705['precision']+'\x20isampler2D;\x0a\x09precision\x20'+_0x5d7705['precision']+'\x20isampler3D;\x0a\x09precision\x20'+_0x5d7705['precision']+'\x20isamplerCube;\x0a\x09precision\x20'+_0x5d7705['precision']+'\x20isampler2DArray;\x0a\x09precision\x20'+_0x5d7705['precision']+'\x20usampler2D;\x0a\x09precision\x20'+_0x5d7705['precision']+'\x20usampler3D;\x0a\x09precision\x20'+_0x5d7705['precision']+'\x20usamplerCube;\x0a\x09precision\x20'+_0x5d7705['precision']+'\x20usampler2DArray;\x0a\x09';return'highp'===_0x5d7705['precision']?_0x1c846f+='\x0a#define\x20HIGH_PRECISION':'mediump'===_0x5d7705['precision']?_0x1c846f+='\x0a#define\x20MEDIUM_PRECISION':'lowp'===_0x5d7705['precision']&&(_0x1c846f+='\x0a#define\x20LOW_PRECISION'),_0x1c846f;}function _0x2ae3ff(_0x2c7e60,_0x168066,_0x3d4f75,_0x1c6be5){const _0x17eaef=_0x2c7e60['getContext'](),_0x2588c2=_0x3d4f75['defines'];let _0x1fbfb3=_0x3d4f75['vertexShader'],_0x1093f1=_0x3d4f75['fragmentShader'];const _0xbfe2f6=function(_0x12ca2d){let _0x2f9793='SHADOWMAP_TYPE_BASIC';return _0x12ca2d['shadowMapType']===_0x46094d['QP0']?_0x2f9793='SHADOWMAP_TYPE_PCF':_0x12ca2d['shadowMapType']===_0x46094d['Wk7']?_0x2f9793='SHADOWMAP_TYPE_PCF_SOFT':_0x12ca2d['shadowMapType']===_0x46094d['RyA']&&(_0x2f9793='SHADOWMAP_TYPE_VSM'),_0x2f9793;}(_0x3d4f75),_0x2d6ac9=function(_0x3eb854){let _0x438105='ENVMAP_TYPE_CUBE';if(_0x3eb854['envMap'])switch(_0x3eb854['envMapMode']){case _0x46094d['hy7']:case _0x46094d['xFO']:_0x438105='ENVMAP_TYPE_CUBE';break;case _0x46094d['Om']:_0x438105='ENVMAP_TYPE_CUBE_UV';}return _0x438105;}(_0x3d4f75),_0x546e13=function(_0x505d9a){let _0x2823f9='ENVMAP_MODE_REFLECTION';return _0x505d9a['envMap']&&_0x505d9a['envMapMode']===_0x46094d['xFO']&&(_0x2823f9='ENVMAP_MODE_REFRACTION'),_0x2823f9;}(_0x3d4f75),_0x57bac0=function(_0x522360){let _0x5d56ee='ENVMAP_BLENDING_NONE';if(_0x522360['envMap'])switch(_0x522360['combine']){case _0x46094d['caT']:_0x5d56ee='ENVMAP_BLENDING_MULTIPLY';break;case _0x46094d['KRh']:_0x5d56ee='ENVMAP_BLENDING_MIX';break;case _0x46094d['XrR']:_0x5d56ee='ENVMAP_BLENDING_ADD';}return _0x5d56ee;}(_0x3d4f75),_0x48808c=function(_0x22ac1d){const _0x4bc3a0=_0x22ac1d['envMapCubeUVHeight'];if(null===_0x4bc3a0)return null;const _0x141b2d=Math['log2'](_0x4bc3a0)-0x2,_0x2c2f2d=0x1/_0x4bc3a0;return{'texelWidth':0x1/(0x3*Math['max'](Math['pow'](0x2,_0x141b2d),0x70)),'texelHeight':_0x2c2f2d,'maxMip':_0x141b2d};}(_0x3d4f75),_0x34ab14=function(_0x41931a){return[_0x41931a['extensionClipCullDistance']?'#extension\x20GL_ANGLE_clip_cull_distance\x20:\x20require':'',_0x41931a['extensionMultiDraw']?'#extension\x20GL_ANGLE_multi_draw\x20:\x20require':'']['filter'](_0x4e3300)['join']('\x0a');}(_0x3d4f75),_0x20b71d=function(_0x308403){const _0x4545f5=[];for(const _0x3b9511 in _0x308403){const _0x13b78f=_0x308403[_0x3b9511];!0x1!==_0x13b78f&&_0x4545f5['push']('#define\x20'+_0x3b9511+'\x20'+_0x13b78f);}return _0x4545f5['join']('\x0a');}(_0x2588c2),_0x393f1d=_0x17eaef['createProgram']();let _0x1ad0d4,_0x3d940b,_0x26ca4d=_0x3d4f75['glslVersion']?'#version\x20'+_0x3d4f75['glslVersion']+'\x0a':'';_0x3d4f75['isRawShaderMaterial']?(_0x1ad0d4=['#define\x20SHADER_TYPE\x20'+_0x3d4f75['shaderType'],'#define\x20SHADER_NAME\x20'+_0x3d4f75['shaderName'],_0x20b71d]['filter'](_0x4e3300)['join']('\x0a'),_0x1ad0d4['length']>0x0&&(_0x1ad0d4+='\x0a'),_0x3d940b=['#define\x20SHADER_TYPE\x20'+_0x3d4f75['shaderType'],'#define\x20SHADER_NAME\x20'+_0x3d4f75['shaderName'],_0x20b71d]['filter'](_0x4e3300)['join']('\x0a'),_0x3d940b['length']>0x0&&(_0x3d940b+='\x0a')):(_0x1ad0d4=[_0x5cd1ff(_0x3d4f75),'#define\x20SHADER_TYPE\x20'+_0x3d4f75['shaderType'],'#define\x20SHADER_NAME\x20'+_0x3d4f75['shaderName'],_0x20b71d,_0x3d4f75['extensionClipCullDistance']?'#define\x20USE_CLIP_DISTANCE':'',_0x3d4f75['batching']?'#define\x20USE_BATCHING':'',_0x3d4f75['batchingColor']?'#define\x20USE_BATCHING_COLOR':'',_0x3d4f75['instancing']?'#define\x20USE_INSTANCING':'',_0x3d4f75['instancingColor']?'#define\x20USE_INSTANCING_COLOR':'',_0x3d4f75['instancingMorph']?'#define\x20USE_INSTANCING_MORPH':'',_0x3d4f75['useFog']&&_0x3d4f75['fog']?'#define\x20USE_FOG':'',_0x3d4f75['useFog']&&_0x3d4f75['fogExp2']?'#define\x20FOG_EXP2':'',_0x3d4f75['map']?'#define\x20USE_MAP':'',_0x3d4f75['envMap']?'#define\x20USE_ENVMAP':'',_0x3d4f75['envMap']?'#define\x20'+_0x546e13:'',_0x3d4f75['lightMap']?'#define\x20USE_LIGHTMAP':'',_0x3d4f75['aoMap']?'#define\x20USE_AOMAP':'',_0x3d4f75['bumpMap']?'#define\x20USE_BUMPMAP':'',_0x3d4f75['normalMap']?'#define\x20USE_NORMALMAP':'',_0x3d4f75['normalMapObjectSpace']?'#define\x20USE_NORMALMAP_OBJECTSPACE':'',_0x3d4f75['normalMapTangentSpace']?'#define\x20USE_NORMALMAP_TANGENTSPACE':'',_0x3d4f75['displacementMap']?'#define\x20USE_DISPLACEMENTMAP':'',_0x3d4f75['emissiveMap']?'#define\x20USE_EMISSIVEMAP':'',_0x3d4f75['anisotropy']?'#define\x20USE_ANISOTROPY':'',_0x3d4f75['anisotropyMap']?'#define\x20USE_ANISOTROPYMAP':'',_0x3d4f75['clearcoatMap']?'#define\x20USE_CLEARCOATMAP':'',_0x3d4f75['clearcoatRoughnessMap']?'#define\x20USE_CLEARCOAT_ROUGHNESSMAP':'',_0x3d4f75['clearcoatNormalMap']?'#define\x20USE_CLEARCOAT_NORMALMAP':'',_0x3d4f75['iridescenceMap']?'#define\x20USE_IRIDESCENCEMAP':'',_0x3d4f75['iridescenceThicknessMap']?'#define\x20USE_IRIDESCENCE_THICKNESSMAP':'',_0x3d4f75['specularMap']?'#define\x20USE_SPECULARMAP':'',_0x3d4f75['specularColorMap']?'#define\x20USE_SPECULAR_COLORMAP':'',_0x3d4f75['specularIntensityMap']?'#define\x20USE_SPECULAR_INTENSITYMAP':'',_0x3d4f75['roughnessMap']?'#define\x20USE_ROUGHNESSMAP':'',_0x3d4f75['metalnessMap']?'#define\x20USE_METALNESSMAP':'',_0x3d4f75['alphaMap']?'#define\x20USE_ALPHAMAP':'',_0x3d4f75['alphaHash']?'#define\x20USE_ALPHAHASH':'',_0x3d4f75['transmission']?'#define\x20USE_TRANSMISSION':'',_0x3d4f75['transmissionMap']?'#define\x20USE_TRANSMISSIONMAP':'',_0x3d4f75['thicknessMap']?'#define\x20USE_THICKNESSMAP':'',_0x3d4f75['sheenColorMap']?'#define\x20USE_SHEEN_COLORMAP':'',_0x3d4f75['sheenRoughnessMap']?'#define\x20USE_SHEEN_ROUGHNESSMAP':'',_0x3d4f75['mapUv']?'#define\x20MAP_UV\x20'+_0x3d4f75['mapUv']:'',_0x3d4f75['alphaMapUv']?'#define\x20ALPHAMAP_UV\x20'+_0x3d4f75['alphaMapUv']:'',_0x3d4f75['lightMapUv']?'#define\x20LIGHTMAP_UV\x20'+_0x3d4f75['lightMapUv']:'',_0x3d4f75['aoMapUv']?'#define\x20AOMAP_UV\x20'+_0x3d4f75['aoMapUv']:'',_0x3d4f75['emissiveMapUv']?'#define\x20EMISSIVEMAP_UV\x20'+_0x3d4f75['emissiveMapUv']:'',_0x3d4f75['bumpMapUv']?'#define\x20BUMPMAP_UV\x20'+_0x3d4f75['bumpMapUv']:'',_0x3d4f75['normalMapUv']?'#define\x20NORMALMAP_UV\x20'+_0x3d4f75['normalMapUv']:'',_0x3d4f75['displacementMapUv']?'#define\x20DISPLACEMENTMAP_UV\x20'+_0x3d4f75['displacementMapUv']:'',_0x3d4f75['metalnessMapUv']?'#define\x20METALNESSMAP_UV\x20'+_0x3d4f75['metalnessMapUv']:'',_0x3d4f75['roughnessMapUv']?'#define\x20ROUGHNESSMAP_UV\x20'+_0x3d4f75['roughnessMapUv']:'',_0x3d4f75['anisotropyMapUv']?'#define\x20ANISOTROPYMAP_UV\x20'+_0x3d4f75['anisotropyMapUv']:'',_0x3d4f75['clearcoatMapUv']?'#define\x20CLEARCOATMAP_UV\x20'+_0x3d4f75['clearcoatMapUv']:'',_0x3d4f75['clearcoatNormalMapUv']?'#define\x20CLEARCOAT_NORMALMAP_UV\x20'+_0x3d4f75['clearcoatNormalMapUv']:'',_0x3d4f75['clearcoatRoughnessMapUv']?'#define\x20CLEARCOAT_ROUGHNESSMAP_UV\x20'+_0x3d4f75['clearcoatRoughnessMapUv']:'',_0x3d4f75['iridescenceMapUv']?'#define\x20IRIDESCENCEMAP_UV\x20'+_0x3d4f75['iridescenceMapUv']:'',_0x3d4f75['iridescenceThicknessMapUv']?'#define\x20IRIDESCENCE_THICKNESSMAP_UV\x20'+_0x3d4f75['iridescenceThicknessMapUv']:'',_0x3d4f75['sheenColorMapUv']?'#define\x20SHEEN_COLORMAP_UV\x20'+_0x3d4f75['sheenColorMapUv']:'',_0x3d4f75['sheenRoughnessMapUv']?'#define\x20SHEEN_ROUGHNESSMAP_UV\x20'+_0x3d4f75['sheenRoughnessMapUv']:'',_0x3d4f75['specularMapUv']?'#define\x20SPECULARMAP_UV\x20'+_0x3d4f75['specularMapUv']:'',_0x3d4f75['specularColorMapUv']?'#define\x20SPECULAR_COLORMAP_UV\x20'+_0x3d4f75['specularColorMapUv']:'',_0x3d4f75['specularIntensityMapUv']?'#define\x20SPECULAR_INTENSITYMAP_UV\x20'+_0x3d4f75['specularIntensityMapUv']:'',_0x3d4f75['transmissionMapUv']?'#define\x20TRANSMISSIONMAP_UV\x20'+_0x3d4f75['transmissionMapUv']:'',_0x3d4f75['thicknessMapUv']?'#define\x20THICKNESSMAP_UV\x20'+_0x3d4f75['thicknessMapUv']:'',_0x3d4f75['vertexTangents']&&!0x1===_0x3d4f75['flatShading']?'#define\x20USE_TANGENT':'',_0x3d4f75['vertexColors']?'#define\x20USE_COLOR':'',_0x3d4f75['vertexAlphas']?'#define\x20USE_COLOR_ALPHA':'',_0x3d4f75['vertexUv1s']?'#define\x20USE_UV1':'',_0x3d4f75['vertexUv2s']?'#define\x20USE_UV2':'',_0x3d4f75['vertexUv3s']?'#define\x20USE_UV3':'',_0x3d4f75['pointsUvs']?'#define\x20USE_POINTS_UV':'',_0x3d4f75['flatShading']?'#define\x20FLAT_SHADED':'',_0x3d4f75['skinning']?'#define\x20USE_SKINNING':'',_0x3d4f75['morphTargets']?'#define\x20USE_MORPHTARGETS':'',_0x3d4f75['morphNormals']&&!0x1===_0x3d4f75['flatShading']?'#define\x20USE_MORPHNORMALS':'',_0x3d4f75['morphColors']?'#define\x20USE_MORPHCOLORS':'',_0x3d4f75['morphTargetsCount']>0x0?'#define\x20MORPHTARGETS_TEXTURE_STRIDE\x20'+_0x3d4f75['morphTextureStride']:'',_0x3d4f75['morphTargetsCount']>0x0?'#define\x20MORPHTARGETS_COUNT\x20'+_0x3d4f75['morphTargetsCount']:'',_0x3d4f75['doubleSided']?'#define\x20DOUBLE_SIDED':'',_0x3d4f75['flipSided']?'#define\x20FLIP_SIDED':'',_0x3d4f75['shadowMapEnabled']?'#define\x20USE_SHADOWMAP':'',_0x3d4f75['shadowMapEnabled']?'#define\x20'+_0xbfe2f6:'',_0x3d4f75['sizeAttenuation']?'#define\x20USE_SIZEATTENUATION':'',_0x3d4f75['numLightProbes']>0x0?'#define\x20USE_LIGHT_PROBES':'',_0x3d4f75['logarithmicDepthBuffer']?'#define\x20USE_LOGDEPTHBUF':'',_0x3d4f75['reverseDepthBuffer']?'#define\x20USE_REVERSEDEPTHBUF':'','uniform\x20mat4\x20modelMatrix;','uniform\x20mat4\x20modelViewMatrix;','uniform\x20mat4\x20projectionMatrix;','uniform\x20mat4\x20viewMatrix;','uniform\x20mat3\x20normalMatrix;','uniform\x20vec3\x20cameraPosition;','uniform\x20bool\x20isOrthographic;','#ifdef\x20USE_INSTANCING','\x09attribute\x20mat4\x20instanceMatrix;','#endif','#ifdef\x20USE_INSTANCING_COLOR','\x09attribute\x20vec3\x20instanceColor;','#endif','#ifdef\x20USE_INSTANCING_MORPH','\x09uniform\x20sampler2D\x20morphTexture;','#endif','attribute\x20vec3\x20position;','attribute\x20vec3\x20normal;','attribute\x20vec2\x20uv;','#ifdef\x20USE_UV1','\x09attribute\x20vec2\x20uv1;','#endif','#ifdef\x20USE_UV2','\x09attribute\x20vec2\x20uv2;','#endif','#ifdef\x20USE_UV3','\x09attribute\x20vec2\x20uv3;','#endif','#ifdef\x20USE_TANGENT','\x09attribute\x20vec4\x20tangent;','#endif','#if\x20defined(\x20USE_COLOR_ALPHA\x20)','\x09attribute\x20vec4\x20color;','#elif\x20defined(\x20USE_COLOR\x20)','\x09attribute\x20vec3\x20color;','#endif','#ifdef\x20USE_SKINNING','\x09attribute\x20vec4\x20skinIndex;','\x09attribute\x20vec4\x20skinWeight;','#endif','\x0a']['filter'](_0x4e3300)['join']('\x0a'),_0x3d940b=[_0x5cd1ff(_0x3d4f75),'#define\x20SHADER_TYPE\x20'+_0x3d4f75['shaderType'],'#define\x20SHADER_NAME\x20'+_0x3d4f75['shaderName'],_0x20b71d,_0x3d4f75['useFog']&&_0x3d4f75['fog']?'#define\x20USE_FOG':'',_0x3d4f75['useFog']&&_0x3d4f75['fogExp2']?'#define\x20FOG_EXP2':'',_0x3d4f75['alphaToCoverage']?'#define\x20ALPHA_TO_COVERAGE':'',_0x3d4f75['map']?'#define\x20USE_MAP':'',_0x3d4f75['matcap']?'#define\x20USE_MATCAP':'',_0x3d4f75['envMap']?'#define\x20USE_ENVMAP':'',_0x3d4f75['envMap']?'#define\x20'+_0x2d6ac9:'',_0x3d4f75['envMap']?'#define\x20'+_0x546e13:'',_0x3d4f75['envMap']?'#define\x20'+_0x57bac0:'',_0x48808c?'#define\x20CUBEUV_TEXEL_WIDTH\x20'+_0x48808c['texelWidth']:'',_0x48808c?'#define\x20CUBEUV_TEXEL_HEIGHT\x20'+_0x48808c['texelHeight']:'',_0x48808c?'#define\x20CUBEUV_MAX_MIP\x20'+_0x48808c['maxMip']+'.0':'',_0x3d4f75['lightMap']?'#define\x20USE_LIGHTMAP':'',_0x3d4f75['aoMap']?'#define\x20USE_AOMAP':'',_0x3d4f75['bumpMap']?'#define\x20USE_BUMPMAP':'',_0x3d4f75['normalMap']?'#define\x20USE_NORMALMAP':'',_0x3d4f75['normalMapObjectSpace']?'#define\x20USE_NORMALMAP_OBJECTSPACE':'',_0x3d4f75['normalMapTangentSpace']?'#define\x20USE_NORMALMAP_TANGENTSPACE':'',_0x3d4f75['emissiveMap']?'#define\x20USE_EMISSIVEMAP':'',_0x3d4f75['anisotropy']?'#define\x20USE_ANISOTROPY':'',_0x3d4f75['anisotropyMap']?'#define\x20USE_ANISOTROPYMAP':'',_0x3d4f75['clearcoat']?'#define\x20USE_CLEARCOAT':'',_0x3d4f75['clearcoatMap']?'#define\x20USE_CLEARCOATMAP':'',_0x3d4f75['clearcoatRoughnessMap']?'#define\x20USE_CLEARCOAT_ROUGHNESSMAP':'',_0x3d4f75['clearcoatNormalMap']?'#define\x20USE_CLEARCOAT_NORMALMAP':'',_0x3d4f75['dispersion']?'#define\x20USE_DISPERSION':'',_0x3d4f75['iridescence']?'#define\x20USE_IRIDESCENCE':'',_0x3d4f75['iridescenceMap']?'#define\x20USE_IRIDESCENCEMAP':'',_0x3d4f75['iridescenceThicknessMap']?'#define\x20USE_IRIDESCENCE_THICKNESSMAP':'',_0x3d4f75['specularMap']?'#define\x20USE_SPECULARMAP':'',_0x3d4f75['specularColorMap']?'#define\x20USE_SPECULAR_COLORMAP':'',_0x3d4f75['specularIntensityMap']?'#define\x20USE_SPECULAR_INTENSITYMAP':'',_0x3d4f75['roughnessMap']?'#define\x20USE_ROUGHNESSMAP':'',_0x3d4f75['metalnessMap']?'#define\x20USE_METALNESSMAP':'',_0x3d4f75['alphaMap']?'#define\x20USE_ALPHAMAP':'',_0x3d4f75['alphaTest']?'#define\x20USE_ALPHATEST':'',_0x3d4f75['alphaHash']?'#define\x20USE_ALPHAHASH':'',_0x3d4f75['sheen']?'#define\x20USE_SHEEN':'',_0x3d4f75['sheenColorMap']?'#define\x20USE_SHEEN_COLORMAP':'',_0x3d4f75['sheenRoughnessMap']?'#define\x20USE_SHEEN_ROUGHNESSMAP':'',_0x3d4f75['transmission']?'#define\x20USE_TRANSMISSION':'',_0x3d4f75['transmissionMap']?'#define\x20USE_TRANSMISSIONMAP':'',_0x3d4f75['thicknessMap']?'#define\x20USE_THICKNESSMAP':'',_0x3d4f75['vertexTangents']&&!0x1===_0x3d4f75['flatShading']?'#define\x20USE_TANGENT':'',_0x3d4f75['vertexColors']||_0x3d4f75['instancingColor']||_0x3d4f75['batchingColor']?'#define\x20USE_COLOR':'',_0x3d4f75['vertexAlphas']?'#define\x20USE_COLOR_ALPHA':'',_0x3d4f75['vertexUv1s']?'#define\x20USE_UV1':'',_0x3d4f75['vertexUv2s']?'#define\x20USE_UV2':'',_0x3d4f75['vertexUv3s']?'#define\x20USE_UV3':'',_0x3d4f75['pointsUvs']?'#define\x20USE_POINTS_UV':'',_0x3d4f75['gradientMap']?'#define\x20USE_GRADIENTMAP':'',_0x3d4f75['flatShading']?'#define\x20FLAT_SHADED':'',_0x3d4f75['doubleSided']?'#define\x20DOUBLE_SIDED':'',_0x3d4f75['flipSided']?'#define\x20FLIP_SIDED':'',_0x3d4f75['shadowMapEnabled']?'#define\x20USE_SHADOWMAP':'',_0x3d4f75['shadowMapEnabled']?'#define\x20'+_0xbfe2f6:'',_0x3d4f75['premultipliedAlpha']?'#define\x20PREMULTIPLIED_ALPHA':'',_0x3d4f75['numLightProbes']>0x0?'#define\x20USE_LIGHT_PROBES':'',_0x3d4f75['decodeVideoTexture']?'#define\x20DECODE_VIDEO_TEXTURE':'',_0x3d4f75['decodeVideoTextureEmissive']?'#define\x20DECODE_VIDEO_TEXTURE_EMISSIVE':'',_0x3d4f75['logarithmicDepthBuffer']?'#define\x20USE_LOGDEPTHBUF':'',_0x3d4f75['reverseDepthBuffer']?'#define\x20USE_REVERSEDEPTHBUF':'','uniform\x20mat4\x20viewMatrix;','uniform\x20vec3\x20cameraPosition;','uniform\x20bool\x20isOrthographic;',_0x3d4f75['toneMapping']!==_0x46094d['y_p']?'#define\x20TONE_MAPPING':'',_0x3d4f75['toneMapping']!==_0x46094d['y_p']?_0x12e0a1['tonemapping_pars_fragment']:'',_0x3d4f75['toneMapping']!==_0x46094d['y_p']?_0x4c403d('toneMapping',_0x3d4f75['toneMapping']):'',_0x3d4f75['dithering']?'#define\x20DITHERING':'',_0x3d4f75['opaque']?'#define\x20OPAQUE':'',_0x12e0a1['colorspace_pars_fragment'],_0x14d2c3('linearToOutputTexel',_0x3d4f75['outputColorSpace']),_0x4f665d(),_0x3d4f75['useDepthPacking']?'#define\x20DEPTH_PACKING\x20'+_0x3d4f75['depthPacking']:'','\x0a']['filter'](_0x4e3300)['join']('\x0a')),_0x1fbfb3=_0x276ca4(_0x1fbfb3),_0x1fbfb3=_0x37b450(_0x1fbfb3,_0x3d4f75),_0x1fbfb3=_0x413780(_0x1fbfb3,_0x3d4f75),_0x1093f1=_0x276ca4(_0x1093f1),_0x1093f1=_0x37b450(_0x1093f1,_0x3d4f75),_0x1093f1=_0x413780(_0x1093f1,_0x3d4f75),_0x1fbfb3=_0x54493a(_0x1fbfb3),_0x1093f1=_0x54493a(_0x1093f1),!0x0!==_0x3d4f75['isRawShaderMaterial']&&(_0x26ca4d='#version\x20300\x20es\x0a',_0x1ad0d4=[_0x34ab14,'#define\x20attribute\x20in','#define\x20varying\x20out','#define\x20texture2D\x20texture']['join']('\x0a')+'\x0a'+_0x1ad0d4,_0x3d940b=['#define\x20varying\x20in',_0x3d4f75['glslVersion']===_0x46094d['Wdf']?'':'layout(location\x20=\x200)\x20out\x20highp\x20vec4\x20pc_fragColor;',_0x3d4f75['glslVersion']===_0x46094d['Wdf']?'':'#define\x20gl_FragColor\x20pc_fragColor','#define\x20gl_FragDepthEXT\x20gl_FragDepth','#define\x20texture2D\x20texture','#define\x20textureCube\x20texture','#define\x20texture2DProj\x20textureProj','#define\x20texture2DLodEXT\x20textureLod','#define\x20texture2DProjLodEXT\x20textureProjLod','#define\x20textureCubeLodEXT\x20textureLod','#define\x20texture2DGradEXT\x20textureGrad','#define\x20texture2DProjGradEXT\x20textureProjGrad','#define\x20textureCubeGradEXT\x20textureGrad']['join']('\x0a')+'\x0a'+_0x3d940b);const _0x3795df=_0x26ca4d+_0x1ad0d4+_0x1fbfb3,_0x5c78ee=_0x26ca4d+_0x3d940b+_0x1093f1,_0xc18683=_0x51bd83(_0x17eaef,_0x17eaef['VERTEX_SHADER'],_0x3795df),_0x321d98=_0x51bd83(_0x17eaef,_0x17eaef['FRAGMENT_SHADER'],_0x5c78ee);function _0x28a708(_0xad350b){if(_0x2c7e60['debug']['checkShaderErrors']){const _0x3a5e4e=_0x17eaef['getProgramInfoLog'](_0x393f1d)['trim'](),_0xc95ff=_0x17eaef['getShaderInfoLog'](_0xc18683)['trim'](),_0x3ca0c2=_0x17eaef['getShaderInfoLog'](_0x321d98)['trim']();let _0xcf71fd=!0x0,_0x308eb5=!0x0;if(!0x1===_0x17eaef['getProgramParameter'](_0x393f1d,_0x17eaef['LINK_STATUS'])){if(_0xcf71fd=!0x1,'function'==typeof _0x2c7e60['debug']['onShaderError'])_0x2c7e60['debug']['onShaderError'](_0x17eaef,_0x393f1d,_0xc18683,_0x321d98);else{const _0x2feccf=_0x3b49bb(_0x17eaef,_0xc18683,'vertex'),_0x107fb5=_0x3b49bb(_0x17eaef,_0x321d98,'fragment');console['error']('THREE.WebGLProgram:\x20Shader\x20Error\x20'+_0x17eaef['getError']()+'\x20-\x20VALIDATE_STATUS\x20'+_0x17eaef['getProgramParameter'](_0x393f1d,_0x17eaef['VALIDATE_STATUS'])+'\x0a\x0aMaterial\x20Name:\x20'+_0xad350b['name']+'\x0aMaterial\x20Type:\x20'+_0xad350b['type']+'\x0a\x0aProgram\x20Info\x20Log:\x20'+_0x3a5e4e+'\x0a'+_0x2feccf+'\x0a'+_0x107fb5);}}else''!==_0x3a5e4e?console['warn']('THREE.WebGLProgram:\x20Program\x20Info\x20Log:',_0x3a5e4e):''!==_0xc95ff&&''!==_0x3ca0c2||(_0x308eb5=!0x1);_0x308eb5&&(_0xad350b['diagnostics']={'runnable':_0xcf71fd,'programLog':_0x3a5e4e,'vertexShader':{'log':_0xc95ff,'prefix':_0x1ad0d4},'fragmentShader':{'log':_0x3ca0c2,'prefix':_0x3d940b}});}_0x17eaef['deleteShader'](_0xc18683),_0x17eaef['deleteShader'](_0x321d98),_0x4ffb0f=new _0x3513cd(_0x17eaef,_0x393f1d),_0x58959e=function(_0x3cdd78,_0x1a9634){const _0x35bc22={},_0x35758c=_0x3cdd78['getProgramParameter'](_0x1a9634,_0x3cdd78['ACTIVE_ATTRIBUTES']);for(let _0x1faa6d=0x0;_0x1faa6d<_0x35758c;_0x1faa6d++){const _0x3b6163=_0x3cdd78['getActiveAttrib'](_0x1a9634,_0x1faa6d),_0xff3820=_0x3b6163['name'];let _0x397b03=0x1;_0x3b6163['type']===_0x3cdd78['FLOAT_MAT2']&&(_0x397b03=0x2),_0x3b6163['type']===_0x3cdd78['FLOAT_MAT3']&&(_0x397b03=0x3),_0x3b6163['type']===_0x3cdd78['FLOAT_MAT4']&&(_0x397b03=0x4),_0x35bc22[_0xff3820]={'type':_0x3b6163['type'],'location':_0x3cdd78['getAttribLocation'](_0x1a9634,_0xff3820),'locationSize':_0x397b03};}return _0x35bc22;}(_0x17eaef,_0x393f1d);}let _0x4ffb0f,_0x58959e;_0x17eaef['attachShader'](_0x393f1d,_0xc18683),_0x17eaef['attachShader'](_0x393f1d,_0x321d98),void 0x0!==_0x3d4f75['index0AttributeName']?_0x17eaef['bindAttribLocation'](_0x393f1d,0x0,_0x3d4f75['index0AttributeName']):!0x0===_0x3d4f75['morphTargets']&&_0x17eaef['bindAttribLocation'](_0x393f1d,0x0,'position'),_0x17eaef['linkProgram'](_0x393f1d),this['getUniforms']=function(){return void 0x0===_0x4ffb0f&&_0x28a708(this),_0x4ffb0f;},this['getAttributes']=function(){return void 0x0===_0x58959e&&_0x28a708(this),_0x58959e;};let _0x57df7a=!0x1===_0x3d4f75['rendererExtensionParallelShaderCompile'];return this['isReady']=function(){return!0x1===_0x57df7a&&(_0x57df7a=_0x17eaef['getProgramParameter'](_0x393f1d,_0x3e2157)),_0x57df7a;},this['destroy']=function(){_0x1c6be5['releaseStatesOfProgram'](this),_0x17eaef['deleteProgram'](_0x393f1d),this['program']=void 0x0;},this['type']=_0x3d4f75['shaderType'],this['name']=_0x3d4f75['shaderName'],this['id']=_0x386d8d++,this['cacheKey']=_0x168066,this['usedTimes']=0x1,this['program']=_0x393f1d,this['vertexShader']=_0xc18683,this['fragmentShader']=_0x321d98,this;}let _0x721574=0x0;class _0x1536de{constructor(){this['shaderCache']=new Map(),this['materialCache']=new Map();}['update'](_0x18592d){const _0x3e5850=_0x18592d['vertexShader'],_0x28a7b7=_0x18592d['fragmentShader'],_0x326b45=this['_getShaderStage'](_0x3e5850),_0x41ff4d=this['_getShaderStage'](_0x28a7b7),_0x1ae51b=this['_getShaderCacheForMaterial'](_0x18592d);return!0x1===_0x1ae51b['has'](_0x326b45)&&(_0x1ae51b['add'](_0x326b45),_0x326b45['usedTimes']++),!0x1===_0x1ae51b['has'](_0x41ff4d)&&(_0x1ae51b['add'](_0x41ff4d),_0x41ff4d['usedTimes']++),this;}['remove'](_0x5abb9a){const _0x2377fc=this['materialCache']['get'](_0x5abb9a);for(const _0x51c8a7 of _0x2377fc)_0x51c8a7['usedTimes']--,0x0===_0x51c8a7['usedTimes']&&this['shaderCache']['delete'](_0x51c8a7['code']);return this['materialCache']['delete'](_0x5abb9a),this;}['getVertexShaderID'](_0x1a443f){return this['_getShaderStage'](_0x1a443f['vertexShader'])['id'];}['getFragmentShaderID'](_0x5b18fa){return this['_getShaderStage'](_0x5b18fa['fragmentShader'])['id'];}['dispose'](){this['shaderCache']['clear'](),this['materialCache']['clear']();}['_getShaderCacheForMaterial'](_0x2e3cdc){const _0x945006=this['materialCache'];let _0x1267ae=_0x945006['get'](_0x2e3cdc);return void 0x0===_0x1267ae&&(_0x1267ae=new Set(),_0x945006['set'](_0x2e3cdc,_0x1267ae)),_0x1267ae;}['_getShaderStage'](_0x5f10e4){const _0x366bfa=this['shaderCache'];let _0x348fe5=_0x366bfa['get'](_0x5f10e4);return void 0x0===_0x348fe5&&(_0x348fe5=new _0x5f35be(_0x5f10e4),_0x366bfa['set'](_0x5f10e4,_0x348fe5)),_0x348fe5;}}class _0x5f35be{constructor(_0x4c5be4){this['id']=_0x721574++,this['code']=_0x4c5be4,this['usedTimes']=0x0;}}function _0x1086ae(_0x27f54b,_0x52de7e,_0x5aeca8,_0x7dd255,_0x37624c,_0x8ee33,_0x34154c){const _0x3e3f48=new _0x46094d['zgK'](),_0x496aff=new _0x1536de(),_0x107970=new Set(),_0x41fad0=[],_0x13f9ac=_0x37624c['logarithmicDepthBuffer'],_0x5d4cb8=_0x37624c['vertexTextures'];let _0xbaafe=_0x37624c['precision'];const _0x2e161e={'MeshDepthMaterial':'depth','MeshDistanceMaterial':'distanceRGBA','MeshNormalMaterial':'normal','MeshBasicMaterial':'basic','MeshLambertMaterial':'lambert','MeshPhongMaterial':'phong','MeshToonMaterial':'toon','MeshStandardMaterial':'physical','MeshPhysicalMaterial':'physical','MeshMatcapMaterial':'matcap','LineBasicMaterial':'basic','LineDashedMaterial':'dashed','PointsMaterial':'points','ShadowMaterial':'shadow','SpriteMaterial':'sprite'};function _0x55dd0a(_0x3a95b2){return _0x107970['add'](_0x3a95b2),0x0===_0x3a95b2?'uv':'uv'+_0x3a95b2;}return{'getParameters':function(_0x251d8c,_0x451ca8,_0x3112f1,_0x3a735b,_0x28a372){const _0x5ec77a=_0x3a735b['fog'],_0x13d8fc=_0x28a372['geometry'],_0xe472af=_0x251d8c['isMeshStandardMaterial']?_0x3a735b['environment']:null,_0x88418d=(_0x251d8c['isMeshStandardMaterial']?_0x5aeca8:_0x52de7e)['get'](_0x251d8c['envMap']||_0xe472af),_0x57ffab=_0x88418d&&_0x88418d['mapping']===_0x46094d['Om']?_0x88418d['image']['height']:null,_0x375379=_0x2e161e[_0x251d8c['type']];null!==_0x251d8c['precision']&&(_0xbaafe=_0x37624c['getMaxPrecision'](_0x251d8c['precision']),_0xbaafe!==_0x251d8c['precision']&&console['warn']('THREE.WebGLProgram.getParameters:',_0x251d8c['precision'],'not\x20supported,\x20using',_0xbaafe,'instead.'));const _0x1e5d01=_0x13d8fc['morphAttributes']['position']||_0x13d8fc['morphAttributes']['normal']||_0x13d8fc['morphAttributes']['color'],_0xe25055=void 0x0!==_0x1e5d01?_0x1e5d01['length']:0x0;let _0x4451cd,_0x442a0e,_0x3c9d4a,_0x26f20b,_0x396f49=0x0;if(void 0x0!==_0x13d8fc['morphAttributes']['position']&&(_0x396f49=0x1),void 0x0!==_0x13d8fc['morphAttributes']['normal']&&(_0x396f49=0x2),void 0x0!==_0x13d8fc['morphAttributes']['color']&&(_0x396f49=0x3),_0x375379){const _0x56c9fe=_0x44a793[_0x375379];_0x4451cd=_0x56c9fe['vertexShader'],_0x442a0e=_0x56c9fe['fragmentShader'];}else _0x4451cd=_0x251d8c['vertexShader'],_0x442a0e=_0x251d8c['fragmentShader'],_0x496aff['update'](_0x251d8c),_0x3c9d4a=_0x496aff['getVertexShaderID'](_0x251d8c),_0x26f20b=_0x496aff['getFragmentShaderID'](_0x251d8c);const _0x281db6=_0x27f54b['getRenderTarget'](),_0x3b5225=_0x27f54b['state']['buffers']['depth']['getReversed'](),_0x352a53=!0x0===_0x28a372['isInstancedMesh'],_0x1aef88=!0x0===_0x28a372['isBatchedMesh'],_0x5659a7=!!_0x251d8c['map'],_0x4d9baf=!!_0x251d8c['matcap'],_0x3ac3ae=!!_0x88418d,_0x1a1a15=!!_0x251d8c['aoMap'],_0x32a1c0=!!_0x251d8c['lightMap'],_0x124036=!!_0x251d8c['bumpMap'],_0x30ba87=!!_0x251d8c['normalMap'],_0x1e530d=!!_0x251d8c['displacementMap'],_0x1fdf01=!!_0x251d8c['emissiveMap'],_0x2709fb=!!_0x251d8c['metalnessMap'],_0x1c92c2=!!_0x251d8c['roughnessMap'],_0x96a2ef=_0x251d8c['anisotropy']>0x0,_0x1afe84=_0x251d8c['clearcoat']>0x0,_0x4212af=_0x251d8c['dispersion']>0x0,_0x275bb3=_0x251d8c['iridescence']>0x0,_0x14a2e1=_0x251d8c['sheen']>0x0,_0x40e9ba=_0x251d8c['transmission']>0x0,_0x2dc03a=_0x96a2ef&&!!_0x251d8c['anisotropyMap'],_0x2ac1c6=_0x1afe84&&!!_0x251d8c['clearcoatMap'],_0x3b8560=_0x1afe84&&!!_0x251d8c['clearcoatNormalMap'],_0x341d23=_0x1afe84&&!!_0x251d8c['clearcoatRoughnessMap'],_0xa2b89d=_0x275bb3&&!!_0x251d8c['iridescenceMap'],_0x1d8979=_0x275bb3&&!!_0x251d8c['iridescenceThicknessMap'],_0x1eb1a1=_0x14a2e1&&!!_0x251d8c['sheenColorMap'],_0x1bcef5=_0x14a2e1&&!!_0x251d8c['sheenRoughnessMap'],_0x37ca82=!!_0x251d8c['specularMap'],_0xb92faa=!!_0x251d8c['specularColorMap'],_0x4d6696=!!_0x251d8c['specularIntensityMap'],_0x5439cb=_0x40e9ba&&!!_0x251d8c['transmissionMap'],_0x16800d=_0x40e9ba&&!!_0x251d8c['thicknessMap'],_0x3bff9c=!!_0x251d8c['gradientMap'],_0x3a044e=!!_0x251d8c['alphaMap'],_0x25f7f2=_0x251d8c['alphaTest']>0x0,_0xa57ec1=!!_0x251d8c['alphaHash'],_0x5aecd4=!!_0x251d8c['extensions'];let _0x5d0b96=_0x46094d['y_p'];_0x251d8c['toneMapped']&&(null!==_0x281db6&&!0x0!==_0x281db6['isXRRenderTarget']||(_0x5d0b96=_0x27f54b['toneMapping']));const _0x1ada90={'shaderID':_0x375379,'shaderType':_0x251d8c['type'],'shaderName':_0x251d8c['name'],'vertexShader':_0x4451cd,'fragmentShader':_0x442a0e,'defines':_0x251d8c['defines'],'customVertexShaderID':_0x3c9d4a,'customFragmentShaderID':_0x26f20b,'isRawShaderMaterial':!0x0===_0x251d8c['isRawShaderMaterial'],'glslVersion':_0x251d8c['glslVersion'],'precision':_0xbaafe,'batching':_0x1aef88,'batchingColor':_0x1aef88&&null!==_0x28a372['_colorsTexture'],'instancing':_0x352a53,'instancingColor':_0x352a53&&null!==_0x28a372['instanceColor'],'instancingMorph':_0x352a53&&null!==_0x28a372['morphTexture'],'supportsVertexTextures':_0x5d4cb8,'outputColorSpace':null===_0x281db6?_0x27f54b['outputColorSpace']:!0x0===_0x281db6['isXRRenderTarget']?_0x281db6['texture']['colorSpace']:_0x46094d['Zr2'],'alphaToCoverage':!!_0x251d8c['alphaToCoverage'],'map':_0x5659a7,'matcap':_0x4d9baf,'envMap':_0x3ac3ae,'envMapMode':_0x3ac3ae&&_0x88418d['mapping'],'envMapCubeUVHeight':_0x57ffab,'aoMap':_0x1a1a15,'lightMap':_0x32a1c0,'bumpMap':_0x124036,'normalMap':_0x30ba87,'displacementMap':_0x5d4cb8&&_0x1e530d,'emissiveMap':_0x1fdf01,'normalMapObjectSpace':_0x30ba87&&_0x251d8c['normalMapType']===_0x46094d['vyJ'],'normalMapTangentSpace':_0x30ba87&&_0x251d8c['normalMapType']===_0x46094d['bI3'],'metalnessMap':_0x2709fb,'roughnessMap':_0x1c92c2,'anisotropy':_0x96a2ef,'anisotropyMap':_0x2dc03a,'clearcoat':_0x1afe84,'clearcoatMap':_0x2ac1c6,'clearcoatNormalMap':_0x3b8560,'clearcoatRoughnessMap':_0x341d23,'dispersion':_0x4212af,'iridescence':_0x275bb3,'iridescenceMap':_0xa2b89d,'iridescenceThicknessMap':_0x1d8979,'sheen':_0x14a2e1,'sheenColorMap':_0x1eb1a1,'sheenRoughnessMap':_0x1bcef5,'specularMap':_0x37ca82,'specularColorMap':_0xb92faa,'specularIntensityMap':_0x4d6696,'transmission':_0x40e9ba,'transmissionMap':_0x5439cb,'thicknessMap':_0x16800d,'gradientMap':_0x3bff9c,'opaque':!0x1===_0x251d8c['transparent']&&_0x251d8c['blending']===_0x46094d['NTi']&&!0x1===_0x251d8c['alphaToCoverage'],'alphaMap':_0x3a044e,'alphaTest':_0x25f7f2,'alphaHash':_0xa57ec1,'combine':_0x251d8c['combine'],'mapUv':_0x5659a7&&_0x55dd0a(_0x251d8c['map']['channel']),'aoMapUv':_0x1a1a15&&_0x55dd0a(_0x251d8c['aoMap']['channel']),'lightMapUv':_0x32a1c0&&_0x55dd0a(_0x251d8c['lightMap']['channel']),'bumpMapUv':_0x124036&&_0x55dd0a(_0x251d8c['bumpMap']['channel']),'normalMapUv':_0x30ba87&&_0x55dd0a(_0x251d8c['normalMap']['channel']),'displacementMapUv':_0x1e530d&&_0x55dd0a(_0x251d8c['displacementMap']['channel']),'emissiveMapUv':_0x1fdf01&&_0x55dd0a(_0x251d8c['emissiveMap']['channel']),'metalnessMapUv':_0x2709fb&&_0x55dd0a(_0x251d8c['metalnessMap']['channel']),'roughnessMapUv':_0x1c92c2&&_0x55dd0a(_0x251d8c['roughnessMap']['channel']),'anisotropyMapUv':_0x2dc03a&&_0x55dd0a(_0x251d8c['anisotropyMap']['channel']),'clearcoatMapUv':_0x2ac1c6&&_0x55dd0a(_0x251d8c['clearcoatMap']['channel']),'clearcoatNormalMapUv':_0x3b8560&&_0x55dd0a(_0x251d8c['clearcoatNormalMap']['channel']),'clearcoatRoughnessMapUv':_0x341d23&&_0x55dd0a(_0x251d8c['clearcoatRoughnessMap']['channel']),'iridescenceMapUv':_0xa2b89d&&_0x55dd0a(_0x251d8c['iridescenceMap']['channel']),'iridescenceThicknessMapUv':_0x1d8979&&_0x55dd0a(_0x251d8c['iridescenceThicknessMap']['channel']),'sheenColorMapUv':_0x1eb1a1&&_0x55dd0a(_0x251d8c['sheenColorMap']['channel']),'sheenRoughnessMapUv':_0x1bcef5&&_0x55dd0a(_0x251d8c['sheenRoughnessMap']['channel']),'specularMapUv':_0x37ca82&&_0x55dd0a(_0x251d8c['specularMap']['channel']),'specularColorMapUv':_0xb92faa&&_0x55dd0a(_0x251d8c['specularColorMap']['channel']),'specularIntensityMapUv':_0x4d6696&&_0x55dd0a(_0x251d8c['specularIntensityMap']['channel']),'transmissionMapUv':_0x5439cb&&_0x55dd0a(_0x251d8c['transmissionMap']['channel']),'thicknessMapUv':_0x16800d&&_0x55dd0a(_0x251d8c['thicknessMap']['channel']),'alphaMapUv':_0x3a044e&&_0x55dd0a(_0x251d8c['alphaMap']['channel']),'vertexTangents':!!_0x13d8fc['attributes']['tangent']&&(_0x30ba87||_0x96a2ef),'vertexColors':_0x251d8c['vertexColors'],'vertexAlphas':!0x0===_0x251d8c['vertexColors']&&!!_0x13d8fc['attributes']['color']&&0x4===_0x13d8fc['attributes']['color']['itemSize'],'pointsUvs':!0x0===_0x28a372['isPoints']&&!!_0x13d8fc['attributes']['uv']&&(_0x5659a7||_0x3a044e),'fog':!!_0x5ec77a,'useFog':!0x0===_0x251d8c['fog'],'fogExp2':!!_0x5ec77a&&_0x5ec77a['isFogExp2'],'flatShading':!0x0===_0x251d8c['flatShading'],'sizeAttenuation':!0x0===_0x251d8c['sizeAttenuation'],'logarithmicDepthBuffer':_0x13f9ac,'reverseDepthBuffer':_0x3b5225,'skinning':!0x0===_0x28a372['isSkinnedMesh'],'morphTargets':void 0x0!==_0x13d8fc['morphAttributes']['position'],'morphNormals':void 0x0!==_0x13d8fc['morphAttributes']['normal'],'morphColors':void 0x0!==_0x13d8fc['morphAttributes']['color'],'morphTargetsCount':_0xe25055,'morphTextureStride':_0x396f49,'numDirLights':_0x451ca8['directional']['length'],'numPointLights':_0x451ca8['point']['length'],'numSpotLights':_0x451ca8['spot']['length'],'numSpotLightMaps':_0x451ca8['spotLightMap']['length'],'numRectAreaLights':_0x451ca8['rectArea']['length'],'numHemiLights':_0x451ca8['hemi']['length'],'numDirLightShadows':_0x451ca8['directionalShadowMap']['length'],'numPointLightShadows':_0x451ca8['pointShadowMap']['length'],'numSpotLightShadows':_0x451ca8['spotShadowMap']['length'],'numSpotLightShadowsWithMaps':_0x451ca8['numSpotLightShadowsWithMaps'],'numLightProbes':_0x451ca8['numLightProbes'],'numClippingPlanes':_0x34154c['numPlanes'],'numClipIntersection':_0x34154c['numIntersection'],'dithering':_0x251d8c['dithering'],'shadowMapEnabled':_0x27f54b['shadowMap']['enabled']&&_0x3112f1['length']>0x0,'shadowMapType':_0x27f54b['shadowMap']['type'],'toneMapping':_0x5d0b96,'decodeVideoTexture':_0x5659a7&&!0x0===_0x251d8c['map']['isVideoTexture']&&_0x46094d['ppV']['getTransfer'](_0x251d8c['map']['colorSpace'])===_0x46094d['KLL'],'decodeVideoTextureEmissive':_0x1fdf01&&!0x0===_0x251d8c['emissiveMap']['isVideoTexture']&&_0x46094d['ppV']['getTransfer'](_0x251d8c['emissiveMap']['colorSpace'])===_0x46094d['KLL'],'premultipliedAlpha':_0x251d8c['premultipliedAlpha'],'doubleSided':_0x251d8c['side']===_0x46094d['$EB'],'flipSided':_0x251d8c['side']===_0x46094d['hsX'],'useDepthPacking':_0x251d8c['depthPacking']>=0x0,'depthPacking':_0x251d8c['depthPacking']||0x0,'index0AttributeName':_0x251d8c['index0AttributeName'],'extensionClipCullDistance':_0x5aecd4&&!0x0===_0x251d8c['extensions']['clipCullDistance']&&_0x7dd255['has']('WEBGL_clip_cull_distance'),'extensionMultiDraw':(_0x5aecd4&&!0x0===_0x251d8c['extensions']['multiDraw']||_0x1aef88)&&_0x7dd255['has']('WEBGL_multi_draw'),'rendererExtensionParallelShaderCompile':_0x7dd255['has']('KHR_parallel_shader_compile'),'customProgramCacheKey':_0x251d8c['customProgramCacheKey']()};return _0x1ada90['vertexUv1s']=_0x107970['has'](0x1),_0x1ada90['vertexUv2s']=_0x107970['has'](0x2),_0x1ada90['vertexUv3s']=_0x107970['has'](0x3),_0x107970['clear'](),_0x1ada90;},'getProgramCacheKey':function(_0x3c8db7){const _0x150e34=[];if(_0x3c8db7['shaderID']?_0x150e34['push'](_0x3c8db7['shaderID']):(_0x150e34['push'](_0x3c8db7['customVertexShaderID']),_0x150e34['push'](_0x3c8db7['customFragmentShaderID'])),void 0x0!==_0x3c8db7['defines']){for(const _0x33671b in _0x3c8db7['defines'])_0x150e34['push'](_0x33671b),_0x150e34['push'](_0x3c8db7['defines'][_0x33671b]);}return!0x1===_0x3c8db7['isRawShaderMaterial']&&(!function(_0x3490f8,_0x309dca){_0x3490f8['push'](_0x309dca['precision']),_0x3490f8['push'](_0x309dca['outputColorSpace']),_0x3490f8['push'](_0x309dca['envMapMode']),_0x3490f8['push'](_0x309dca['envMapCubeUVHeight']),_0x3490f8['push'](_0x309dca['mapUv']),_0x3490f8['push'](_0x309dca['alphaMapUv']),_0x3490f8['push'](_0x309dca['lightMapUv']),_0x3490f8['push'](_0x309dca['aoMapUv']),_0x3490f8['push'](_0x309dca['bumpMapUv']),_0x3490f8['push'](_0x309dca['normalMapUv']),_0x3490f8['push'](_0x309dca['displacementMapUv']),_0x3490f8['push'](_0x309dca['emissiveMapUv']),_0x3490f8['push'](_0x309dca['metalnessMapUv']),_0x3490f8['push'](_0x309dca['roughnessMapUv']),_0x3490f8['push'](_0x309dca['anisotropyMapUv']),_0x3490f8['push'](_0x309dca['clearcoatMapUv']),_0x3490f8['push'](_0x309dca['clearcoatNormalMapUv']),_0x3490f8['push'](_0x309dca['clearcoatRoughnessMapUv']),_0x3490f8['push'](_0x309dca['iridescenceMapUv']),_0x3490f8['push'](_0x309dca['iridescenceThicknessMapUv']),_0x3490f8['push'](_0x309dca['sheenColorMapUv']),_0x3490f8['push'](_0x309dca['sheenRoughnessMapUv']),_0x3490f8['push'](_0x309dca['specularMapUv']),_0x3490f8['push'](_0x309dca['specularColorMapUv']),_0x3490f8['push'](_0x309dca['specularIntensityMapUv']),_0x3490f8['push'](_0x309dca['transmissionMapUv']),_0x3490f8['push'](_0x309dca['thicknessMapUv']),_0x3490f8['push'](_0x309dca['combine']),_0x3490f8['push'](_0x309dca['fogExp2']),_0x3490f8['push'](_0x309dca['sizeAttenuation']),_0x3490f8['push'](_0x309dca['morphTargetsCount']),_0x3490f8['push'](_0x309dca['morphAttributeCount']),_0x3490f8['push'](_0x309dca['numDirLights']),_0x3490f8['push'](_0x309dca['numPointLights']),_0x3490f8['push'](_0x309dca['numSpotLights']),_0x3490f8['push'](_0x309dca['numSpotLightMaps']),_0x3490f8['push'](_0x309dca['numHemiLights']),_0x3490f8['push'](_0x309dca['numRectAreaLights']),_0x3490f8['push'](_0x309dca['numDirLightShadows']),_0x3490f8['push'](_0x309dca['numPointLightShadows']),_0x3490f8['push'](_0x309dca['numSpotLightShadows']),_0x3490f8['push'](_0x309dca['numSpotLightShadowsWithMaps']),_0x3490f8['push'](_0x309dca['numLightProbes']),_0x3490f8['push'](_0x309dca['shadowMapType']),_0x3490f8['push'](_0x309dca['toneMapping']),_0x3490f8['push'](_0x309dca['numClippingPlanes']),_0x3490f8['push'](_0x309dca['numClipIntersection']),_0x3490f8['push'](_0x309dca['depthPacking']);}(_0x150e34,_0x3c8db7),function(_0x56ae30,_0xaa491f){_0x3e3f48['disableAll'](),_0xaa491f['supportsVertexTextures']&&_0x3e3f48['enable'](0x0),_0xaa491f['instancing']&&_0x3e3f48['enable'](0x1),_0xaa491f['instancingColor']&&_0x3e3f48['enable'](0x2),_0xaa491f['instancingMorph']&&_0x3e3f48['enable'](0x3),_0xaa491f['matcap']&&_0x3e3f48['enable'](0x4),_0xaa491f['envMap']&&_0x3e3f48['enable'](0x5),_0xaa491f['normalMapObjectSpace']&&_0x3e3f48['enable'](0x6),_0xaa491f['normalMapTangentSpace']&&_0x3e3f48['enable'](0x7),_0xaa491f['clearcoat']&&_0x3e3f48['enable'](0x8),_0xaa491f['iridescence']&&_0x3e3f48['enable'](0x9),_0xaa491f['alphaTest']&&_0x3e3f48['enable'](0xa),_0xaa491f['vertexColors']&&_0x3e3f48['enable'](0xb),_0xaa491f['vertexAlphas']&&_0x3e3f48['enable'](0xc),_0xaa491f['vertexUv1s']&&_0x3e3f48['enable'](0xd),_0xaa491f['vertexUv2s']&&_0x3e3f48['enable'](0xe),_0xaa491f['vertexUv3s']&&_0x3e3f48['enable'](0xf),_0xaa491f['vertexTangents']&&_0x3e3f48['enable'](0x10),_0xaa491f['anisotropy']&&_0x3e3f48['enable'](0x11),_0xaa491f['alphaHash']&&_0x3e3f48['enable'](0x12),_0xaa491f['batching']&&_0x3e3f48['enable'](0x13),_0xaa491f['dispersion']&&_0x3e3f48['enable'](0x14),_0xaa491f['batchingColor']&&_0x3e3f48['enable'](0x15),(_0x56ae30['push'](_0x3e3f48['mask']),_0x3e3f48['disableAll'](),_0xaa491f['fog']&&_0x3e3f48['enable'](0x0)),_0xaa491f['useFog']&&_0x3e3f48['enable'](0x1),_0xaa491f['flatShading']&&_0x3e3f48['enable'](0x2),_0xaa491f['logarithmicDepthBuffer']&&_0x3e3f48['enable'](0x3),_0xaa491f['reverseDepthBuffer']&&_0x3e3f48['enable'](0x4),_0xaa491f['skinning']&&_0x3e3f48['enable'](0x5),_0xaa491f['morphTargets']&&_0x3e3f48['enable'](0x6),_0xaa491f['morphNormals']&&_0x3e3f48['enable'](0x7),_0xaa491f['morphColors']&&_0x3e3f48['enable'](0x8),_0xaa491f['premultipliedAlpha']&&_0x3e3f48['enable'](0x9),_0xaa491f['shadowMapEnabled']&&_0x3e3f48['enable'](0xa),_0xaa491f['doubleSided']&&_0x3e3f48['enable'](0xb),_0xaa491f['flipSided']&&_0x3e3f48['enable'](0xc),_0xaa491f['useDepthPacking']&&_0x3e3f48['enable'](0xd),_0xaa491f['dithering']&&_0x3e3f48['enable'](0xe),_0xaa491f['transmission']&&_0x3e3f48['enable'](0xf),_0xaa491f['sheen']&&_0x3e3f48['enable'](0x10),_0xaa491f['opaque']&&_0x3e3f48['enable'](0x11),_0xaa491f['pointsUvs']&&_0x3e3f48['enable'](0x12),_0xaa491f['decodeVideoTexture']&&_0x3e3f48['enable'](0x13),_0xaa491f['decodeVideoTextureEmissive']&&_0x3e3f48['enable'](0x14),_0xaa491f['alphaToCoverage']&&_0x3e3f48['enable'](0x15),_0x56ae30['push'](_0x3e3f48['mask']);}(_0x150e34,_0x3c8db7),_0x150e34['push'](_0x27f54b['outputColorSpace'])),_0x150e34['push'](_0x3c8db7['customProgramCacheKey']),_0x150e34['join']();},'getUniforms':function(_0x13d532){const _0x1127fa=_0x2e161e[_0x13d532['type']];let _0x200f33;if(_0x1127fa){const _0x26b86d=_0x44a793[_0x1127fa];_0x200f33=_0x46094d['LlO']['clone'](_0x26b86d['uniforms']);}else _0x200f33=_0x13d532['uniforms'];return _0x200f33;},'acquireProgram':function(_0x548a61,_0xa936b6){let _0x2571f7;for(let _0x389e53=0x0,_0x5001f7=_0x41fad0['length'];_0x389e53<_0x5001f7;_0x389e53++){const _0x385ea4=_0x41fad0[_0x389e53];if(_0x385ea4['cacheKey']===_0xa936b6){_0x2571f7=_0x385ea4,++_0x2571f7['usedTimes'];break;}}return void 0x0===_0x2571f7&&(_0x2571f7=new _0x2ae3ff(_0x27f54b,_0xa936b6,_0x548a61,_0x8ee33),_0x41fad0['push'](_0x2571f7)),_0x2571f7;},'releaseProgram':function(_0x5077be){if(0x0==--_0x5077be['usedTimes']){const _0x598a19=_0x41fad0['indexOf'](_0x5077be);_0x41fad0[_0x598a19]=_0x41fad0[_0x41fad0['length']-0x1],_0x41fad0['pop'](),_0x5077be['destroy']();}},'releaseShaderCache':function(_0x3fc62a){_0x496aff['remove'](_0x3fc62a);},'programs':_0x41fad0,'dispose':function(){_0x496aff['dispose']();}};}function _0xb691cf(){let _0x3f69ba=new WeakMap();return{'has':function(_0x1c570e){return _0x3f69ba['has'](_0x1c570e);},'get':function(_0x5a5320){let _0x1a67c6=_0x3f69ba['get'](_0x5a5320);return void 0x0===_0x1a67c6&&(_0x1a67c6={},_0x3f69ba['set'](_0x5a5320,_0x1a67c6)),_0x1a67c6;},'remove':function(_0x482924){_0x3f69ba['delete'](_0x482924);},'update':function(_0x1a9cc7,_0x56ff9c,_0xc8fe9f){_0x3f69ba['get'](_0x1a9cc7)[_0x56ff9c]=_0xc8fe9f;},'dispose':function(){_0x3f69ba=new WeakMap();}};}function _0x89f85b(_0x4944a2,_0x5282ef){return _0x4944a2['groupOrder']!==_0x5282ef['groupOrder']?_0x4944a2['groupOrder']-_0x5282ef['groupOrder']:_0x4944a2['renderOrder']!==_0x5282ef['renderOrder']?_0x4944a2['renderOrder']-_0x5282ef['renderOrder']:_0x4944a2['material']['id']!==_0x5282ef['material']['id']?_0x4944a2['material']['id']-_0x5282ef['material']['id']:_0x4944a2['z']!==_0x5282ef['z']?_0x4944a2['z']-_0x5282ef['z']:_0x4944a2['id']-_0x5282ef['id'];}function _0x42c390(_0x10ab12,_0x4d7134){return _0x10ab12['groupOrder']!==_0x4d7134['groupOrder']?_0x10ab12['groupOrder']-_0x4d7134['groupOrder']:_0x10ab12['renderOrder']!==_0x4d7134['renderOrder']?_0x10ab12['renderOrder']-_0x4d7134['renderOrder']:_0x10ab12['z']!==_0x4d7134['z']?_0x4d7134['z']-_0x10ab12['z']:_0x10ab12['id']-_0x4d7134['id'];}function _0x591242(){const _0x38ee07=[];let _0xda2518=0x0;const _0x4b1fab=[],_0x4a0fba=[],_0x4be4e9=[];function _0x158bdc(_0x46467c,_0x3bab6a,_0x369f46,_0x33582e,_0x143e75,_0x3bc640){let _0xd18cdb=_0x38ee07[_0xda2518];return void 0x0===_0xd18cdb?(_0xd18cdb={'id':_0x46467c['id'],'object':_0x46467c,'geometry':_0x3bab6a,'material':_0x369f46,'groupOrder':_0x33582e,'renderOrder':_0x46467c['renderOrder'],'z':_0x143e75,'group':_0x3bc640},_0x38ee07[_0xda2518]=_0xd18cdb):(_0xd18cdb['id']=_0x46467c['id'],_0xd18cdb['object']=_0x46467c,_0xd18cdb['geometry']=_0x3bab6a,_0xd18cdb['material']=_0x369f46,_0xd18cdb['groupOrder']=_0x33582e,_0xd18cdb['renderOrder']=_0x46467c['renderOrder'],_0xd18cdb['z']=_0x143e75,_0xd18cdb['group']=_0x3bc640),_0xda2518++,_0xd18cdb;}return{'opaque':_0x4b1fab,'transmissive':_0x4a0fba,'transparent':_0x4be4e9,'init':function(){_0xda2518=0x0,_0x4b1fab['length']=0x0,_0x4a0fba['length']=0x0,_0x4be4e9['length']=0x0;},'push':function(_0x2d9138,_0x37b073,_0x212976,_0x2d41aa,_0x256349,_0x28564a){const _0x30678b=_0x158bdc(_0x2d9138,_0x37b073,_0x212976,_0x2d41aa,_0x256349,_0x28564a);_0x212976['transmission']>0x0?_0x4a0fba['push'](_0x30678b):!0x0===_0x212976['transparent']?_0x4be4e9['push'](_0x30678b):_0x4b1fab['push'](_0x30678b);},'unshift':function(_0x5e9542,_0x3d1d11,_0x443dc2,_0x1d8256,_0x58c59e,_0x49d66b){const _0x3c6fc6=_0x158bdc(_0x5e9542,_0x3d1d11,_0x443dc2,_0x1d8256,_0x58c59e,_0x49d66b);_0x443dc2['transmission']>0x0?_0x4a0fba['unshift'](_0x3c6fc6):!0x0===_0x443dc2['transparent']?_0x4be4e9['unshift'](_0x3c6fc6):_0x4b1fab['unshift'](_0x3c6fc6);},'finish':function(){for(let _0x534699=_0xda2518,_0x18735e=_0x38ee07['length'];_0x534699<_0x18735e;_0x534699++){const _0x282bd5=_0x38ee07[_0x534699];if(null===_0x282bd5['id'])break;_0x282bd5['id']=null,_0x282bd5['object']=null,_0x282bd5['geometry']=null,_0x282bd5['material']=null,_0x282bd5['group']=null;}},'sort':function(_0x4c29ea,_0x481b68){_0x4b1fab['length']>0x1&&_0x4b1fab['sort'](_0x4c29ea||_0x89f85b),_0x4a0fba['length']>0x1&&_0x4a0fba['sort'](_0x481b68||_0x42c390),_0x4be4e9['length']>0x1&&_0x4be4e9['sort'](_0x481b68||_0x42c390);}};}function _0x2fed60(){let _0xd6b817=new WeakMap();return{'get':function(_0x3d204c,_0x18dc11){const _0x42a536=_0xd6b817['get'](_0x3d204c);let _0x1e0c17;return void 0x0===_0x42a536?(_0x1e0c17=new _0x591242(),_0xd6b817['set'](_0x3d204c,[_0x1e0c17])):_0x18dc11>=_0x42a536['length']?(_0x1e0c17=new _0x591242(),_0x42a536['push'](_0x1e0c17)):_0x1e0c17=_0x42a536[_0x18dc11],_0x1e0c17;},'dispose':function(){_0xd6b817=new WeakMap();}};}function _0x2cdd06(){const _0x2855a3={};return{'get':function(_0x227f95){if(void 0x0!==_0x2855a3[_0x227f95['id']])return _0x2855a3[_0x227f95['id']];let _0x5ed69a;switch(_0x227f95['type']){case'DirectionalLight':_0x5ed69a={'direction':new _0x46094d['Pq0'](),'color':new _0x46094d['Q1f']()};break;case'SpotLight':_0x5ed69a={'position':new _0x46094d['Pq0'](),'direction':new _0x46094d['Pq0'](),'color':new _0x46094d['Q1f'](),'distance':0x0,'coneCos':0x0,'penumbraCos':0x0,'decay':0x0};break;case'PointLight':_0x5ed69a={'position':new _0x46094d['Pq0'](),'color':new _0x46094d['Q1f'](),'distance':0x0,'decay':0x0};break;case'HemisphereLight':_0x5ed69a={'direction':new _0x46094d['Pq0'](),'skyColor':new _0x46094d['Q1f'](),'groundColor':new _0x46094d['Q1f']()};break;case'RectAreaLight':_0x5ed69a={'color':new _0x46094d['Q1f'](),'position':new _0x46094d['Pq0'](),'halfWidth':new _0x46094d['Pq0'](),'halfHeight':new _0x46094d['Pq0']()};}return _0x2855a3[_0x227f95['id']]=_0x5ed69a,_0x5ed69a;}};}let _0xb1e9b8=0x0;function _0x5997df(_0x5f5ab4,_0x36fc3f){return(_0x36fc3f['castShadow']?0x2:0x0)-(_0x5f5ab4['castShadow']?0x2:0x0)+(_0x36fc3f['map']?0x1:0x0)-(_0x5f5ab4['map']?0x1:0x0);}function _0x6bad45(_0x2f4905){const _0x506574=new _0x2cdd06(),_0x4ddbcf=(function(){const _0x2357a4={};return{'get':function(_0x5c0ffd){if(void 0x0!==_0x2357a4[_0x5c0ffd['id']])return _0x2357a4[_0x5c0ffd['id']];let _0xafbdeb;switch(_0x5c0ffd['type']){case'DirectionalLight':case'SpotLight':_0xafbdeb={'shadowIntensity':0x1,'shadowBias':0x0,'shadowNormalBias':0x0,'shadowRadius':0x1,'shadowMapSize':new _0x46094d['I9Y']()};break;case'PointLight':_0xafbdeb={'shadowIntensity':0x1,'shadowBias':0x0,'shadowNormalBias':0x0,'shadowRadius':0x1,'shadowMapSize':new _0x46094d['I9Y'](),'shadowCameraNear':0x1,'shadowCameraFar':0x3e8};}return _0x2357a4[_0x5c0ffd['id']]=_0xafbdeb,_0xafbdeb;}};}()),_0x53231d={'version':0x0,'hash':{'directionalLength':-0x1,'pointLength':-0x1,'spotLength':-0x1,'rectAreaLength':-0x1,'hemiLength':-0x1,'numDirectionalShadows':-0x1,'numPointShadows':-0x1,'numSpotShadows':-0x1,'numSpotMaps':-0x1,'numLightProbes':-0x1},'ambient':[0x0,0x0,0x0],'probe':[],'directional':[],'directionalShadow':[],'directionalShadowMap':[],'directionalShadowMatrix':[],'spot':[],'spotLightMap':[],'spotShadow':[],'spotShadowMap':[],'spotLightMatrix':[],'rectArea':[],'rectAreaLTC1':null,'rectAreaLTC2':null,'point':[],'pointShadow':[],'pointShadowMap':[],'pointShadowMatrix':[],'hemi':[],'numSpotLightShadowsWithMaps':0x0,'numLightProbes':0x0};for(let _0x4ea68c=0x0;_0x4ea68c<0x9;_0x4ea68c++)_0x53231d['probe']['push'](new _0x46094d['Pq0']());const _0x467a05=new _0x46094d['Pq0'](),_0x432c5b=new _0x46094d['kn4'](),_0x4fff92=new _0x46094d['kn4']();return{'setup':function(_0x2fa6e6){let _0x3352b3=0x0,_0x5e70fe=0x0,_0x43f00f=0x0;for(let _0x24e768=0x0;_0x24e768<0x9;_0x24e768++)_0x53231d['probe'][_0x24e768]['set'](0x0,0x0,0x0);let _0x1d5466=0x0,_0x6bc57=0x0,_0x2ab92b=0x0,_0x194b12=0x0,_0x4a0499=0x0,_0x39a905=0x0,_0x2ff574=0x0,_0x3c5e1f=0x0,_0x1eb53d=0x0,_0x2d29de=0x0,_0x3f2b32=0x0;_0x2fa6e6['sort'](_0x5997df);for(let _0x959ba8=0x0,_0xa86efe=_0x2fa6e6['length'];_0x959ba8<_0xa86efe;_0x959ba8++){const _0xd5fc4d=_0x2fa6e6[_0x959ba8],_0xf9f5a0=_0xd5fc4d['color'],_0x23af41=_0xd5fc4d['intensity'],_0x4abf71=_0xd5fc4d['distance'],_0x3e304e=_0xd5fc4d['shadow']&&_0xd5fc4d['shadow']['map']?_0xd5fc4d['shadow']['map']['texture']:null;if(_0xd5fc4d['isAmbientLight'])_0x3352b3+=_0xf9f5a0['r']*_0x23af41,_0x5e70fe+=_0xf9f5a0['g']*_0x23af41,_0x43f00f+=_0xf9f5a0['b']*_0x23af41;else{if(_0xd5fc4d['isLightProbe']){for(let _0x345203=0x0;_0x345203<0x9;_0x345203++)_0x53231d['probe'][_0x345203]['addScaledVector'](_0xd5fc4d['sh']['coefficients'][_0x345203],_0x23af41);_0x3f2b32++;}else{if(_0xd5fc4d['isDirectionalLight']){const _0x49069b=_0x506574['get'](_0xd5fc4d);if(_0x49069b['color']['copy'](_0xd5fc4d['color'])['multiplyScalar'](_0xd5fc4d['intensity']),_0xd5fc4d['castShadow']){const _0x7c944e=_0xd5fc4d['shadow'],_0x452270=_0x4ddbcf['get'](_0xd5fc4d);_0x452270['shadowIntensity']=_0x7c944e['intensity'],_0x452270['shadowBias']=_0x7c944e['bias'],_0x452270['shadowNormalBias']=_0x7c944e['normalBias'],_0x452270['shadowRadius']=_0x7c944e['radius'],_0x452270['shadowMapSize']=_0x7c944e['mapSize'],_0x53231d['directionalShadow'][_0x1d5466]=_0x452270,_0x53231d['directionalShadowMap'][_0x1d5466]=_0x3e304e,_0x53231d['directionalShadowMatrix'][_0x1d5466]=_0xd5fc4d['shadow']['matrix'],_0x39a905++;}_0x53231d['directional'][_0x1d5466]=_0x49069b,_0x1d5466++;}else{if(_0xd5fc4d['isSpotLight']){const _0xd0233e=_0x506574['get'](_0xd5fc4d);_0xd0233e['position']['setFromMatrixPosition'](_0xd5fc4d['matrixWorld']),_0xd0233e['color']['copy'](_0xf9f5a0)['multiplyScalar'](_0x23af41),_0xd0233e['distance']=_0x4abf71,_0xd0233e['coneCos']=Math['cos'](_0xd5fc4d['angle']),_0xd0233e['penumbraCos']=Math['cos'](_0xd5fc4d['angle']*(0x1-_0xd5fc4d['penumbra'])),_0xd0233e['decay']=_0xd5fc4d['decay'],_0x53231d['spot'][_0x2ab92b]=_0xd0233e;const _0x53b3ea=_0xd5fc4d['shadow'];if(_0xd5fc4d['map']&&(_0x53231d['spotLightMap'][_0x1eb53d]=_0xd5fc4d['map'],_0x1eb53d++,_0x53b3ea['updateMatrices'](_0xd5fc4d),_0xd5fc4d['castShadow']&&_0x2d29de++),_0x53231d['spotLightMatrix'][_0x2ab92b]=_0x53b3ea['matrix'],_0xd5fc4d['castShadow']){const _0x490992=_0x4ddbcf['get'](_0xd5fc4d);_0x490992['shadowIntensity']=_0x53b3ea['intensity'],_0x490992['shadowBias']=_0x53b3ea['bias'],_0x490992['shadowNormalBias']=_0x53b3ea['normalBias'],_0x490992['shadowRadius']=_0x53b3ea['radius'],_0x490992['shadowMapSize']=_0x53b3ea['mapSize'],_0x53231d['spotShadow'][_0x2ab92b]=_0x490992,_0x53231d['spotShadowMap'][_0x2ab92b]=_0x3e304e,_0x3c5e1f++;}_0x2ab92b++;}else{if(_0xd5fc4d['isRectAreaLight']){const _0x42b8f9=_0x506574['get'](_0xd5fc4d);_0x42b8f9['color']['copy'](_0xf9f5a0)['multiplyScalar'](_0x23af41),_0x42b8f9['halfWidth']['set'](0.5*_0xd5fc4d['width'],0x0,0x0),_0x42b8f9['halfHeight']['set'](0x0,0.5*_0xd5fc4d['height'],0x0),_0x53231d['rectArea'][_0x194b12]=_0x42b8f9,_0x194b12++;}else{if(_0xd5fc4d['isPointLight']){const _0x2858f8=_0x506574['get'](_0xd5fc4d);if(_0x2858f8['color']['copy'](_0xd5fc4d['color'])['multiplyScalar'](_0xd5fc4d['intensity']),_0x2858f8['distance']=_0xd5fc4d['distance'],_0x2858f8['decay']=_0xd5fc4d['decay'],_0xd5fc4d['castShadow']){const _0x31de0e=_0xd5fc4d['shadow'],_0x1d54cf=_0x4ddbcf['get'](_0xd5fc4d);_0x1d54cf['shadowIntensity']=_0x31de0e['intensity'],_0x1d54cf['shadowBias']=_0x31de0e['bias'],_0x1d54cf['shadowNormalBias']=_0x31de0e['normalBias'],_0x1d54cf['shadowRadius']=_0x31de0e['radius'],_0x1d54cf['shadowMapSize']=_0x31de0e['mapSize'],_0x1d54cf['shadowCameraNear']=_0x31de0e['camera']['near'],_0x1d54cf['shadowCameraFar']=_0x31de0e['camera']['far'],_0x53231d['pointShadow'][_0x6bc57]=_0x1d54cf,_0x53231d['pointShadowMap'][_0x6bc57]=_0x3e304e,_0x53231d['pointShadowMatrix'][_0x6bc57]=_0xd5fc4d['shadow']['matrix'],_0x2ff574++;}_0x53231d['point'][_0x6bc57]=_0x2858f8,_0x6bc57++;}else{if(_0xd5fc4d['isHemisphereLight']){const _0x50d5e8=_0x506574['get'](_0xd5fc4d);_0x50d5e8['skyColor']['copy'](_0xd5fc4d['color'])['multiplyScalar'](_0x23af41),_0x50d5e8['groundColor']['copy'](_0xd5fc4d['groundColor'])['multiplyScalar'](_0x23af41),_0x53231d['hemi'][_0x4a0499]=_0x50d5e8,_0x4a0499++;}}}}}}}}_0x194b12>0x0&&(!0x0===_0x2f4905['has']('OES_texture_float_linear')?(_0x53231d['rectAreaLTC1']=_0x586b80['LTC_FLOAT_1'],_0x53231d['rectAreaLTC2']=_0x586b80['LTC_FLOAT_2']):(_0x53231d['rectAreaLTC1']=_0x586b80['LTC_HALF_1'],_0x53231d['rectAreaLTC2']=_0x586b80['LTC_HALF_2'])),_0x53231d['ambient'][0x0]=_0x3352b3,_0x53231d['ambient'][0x1]=_0x5e70fe,_0x53231d['ambient'][0x2]=_0x43f00f;const _0x1019df=_0x53231d['hash'];_0x1019df['directionalLength']===_0x1d5466&&_0x1019df['pointLength']===_0x6bc57&&_0x1019df['spotLength']===_0x2ab92b&&_0x1019df['rectAreaLength']===_0x194b12&&_0x1019df['hemiLength']===_0x4a0499&&_0x1019df['numDirectionalShadows']===_0x39a905&&_0x1019df['numPointShadows']===_0x2ff574&&_0x1019df['numSpotShadows']===_0x3c5e1f&&_0x1019df['numSpotMaps']===_0x1eb53d&&_0x1019df['numLightProbes']===_0x3f2b32||(_0x53231d['directional']['length']=_0x1d5466,_0x53231d['spot']['length']=_0x2ab92b,_0x53231d['rectArea']['length']=_0x194b12,_0x53231d['point']['length']=_0x6bc57,_0x53231d['hemi']['length']=_0x4a0499,_0x53231d['directionalShadow']['length']=_0x39a905,_0x53231d['directionalShadowMap']['length']=_0x39a905,_0x53231d['pointShadow']['length']=_0x2ff574,_0x53231d['pointShadowMap']['length']=_0x2ff574,_0x53231d['spotShadow']['length']=_0x3c5e1f,_0x53231d['spotShadowMap']['length']=_0x3c5e1f,_0x53231d['directionalShadowMatrix']['length']=_0x39a905,_0x53231d['pointShadowMatrix']['length']=_0x2ff574,_0x53231d['spotLightMatrix']['length']=_0x3c5e1f+_0x1eb53d-_0x2d29de,_0x53231d['spotLightMap']['length']=_0x1eb53d,_0x53231d['numSpotLightShadowsWithMaps']=_0x2d29de,_0x53231d['numLightProbes']=_0x3f2b32,_0x1019df['directionalLength']=_0x1d5466,_0x1019df['pointLength']=_0x6bc57,_0x1019df['spotLength']=_0x2ab92b,_0x1019df['rectAreaLength']=_0x194b12,_0x1019df['hemiLength']=_0x4a0499,_0x1019df['numDirectionalShadows']=_0x39a905,_0x1019df['numPointShadows']=_0x2ff574,_0x1019df['numSpotShadows']=_0x3c5e1f,_0x1019df['numSpotMaps']=_0x1eb53d,_0x1019df['numLightProbes']=_0x3f2b32,_0x53231d['version']=_0xb1e9b8++);},'setupView':function(_0x39f7dc,_0x305dbc){let _0x366c01=0x0,_0x4476e6=0x0,_0x4bb9bd=0x0,_0x5bcba1=0x0,_0x53c979=0x0;const _0x58d1b8=_0x305dbc['matrixWorldInverse'];for(let _0x20f346=0x0,_0x15cbef=_0x39f7dc['length'];_0x20f346<_0x15cbef;_0x20f346++){const _0x181750=_0x39f7dc[_0x20f346];if(_0x181750['isDirectionalLight']){const _0x4ddc98=_0x53231d['directional'][_0x366c01];_0x4ddc98['direction']['setFromMatrixPosition'](_0x181750['matrixWorld']),_0x467a05['setFromMatrixPosition'](_0x181750['target']['matrixWorld']),_0x4ddc98['direction']['sub'](_0x467a05),_0x4ddc98['direction']['transformDirection'](_0x58d1b8),_0x366c01++;}else{if(_0x181750['isSpotLight']){const _0x23e4f0=_0x53231d['spot'][_0x4bb9bd];_0x23e4f0['position']['setFromMatrixPosition'](_0x181750['matrixWorld']),_0x23e4f0['position']['applyMatrix4'](_0x58d1b8),_0x23e4f0['direction']['setFromMatrixPosition'](_0x181750['matrixWorld']),_0x467a05['setFromMatrixPosition'](_0x181750['target']['matrixWorld']),_0x23e4f0['direction']['sub'](_0x467a05),_0x23e4f0['direction']['transformDirection'](_0x58d1b8),_0x4bb9bd++;}else{if(_0x181750['isRectAreaLight']){const _0x1eb349=_0x53231d['rectArea'][_0x5bcba1];_0x1eb349['position']['setFromMatrixPosition'](_0x181750['matrixWorld']),_0x1eb349['position']['applyMatrix4'](_0x58d1b8),_0x4fff92['identity'](),_0x432c5b['copy'](_0x181750['matrixWorld']),_0x432c5b['premultiply'](_0x58d1b8),_0x4fff92['extractRotation'](_0x432c5b),_0x1eb349['halfWidth']['set'](0.5*_0x181750['width'],0x0,0x0),_0x1eb349['halfHeight']['set'](0x0,0.5*_0x181750['height'],0x0),_0x1eb349['halfWidth']['applyMatrix4'](_0x4fff92),_0x1eb349['halfHeight']['applyMatrix4'](_0x4fff92),_0x5bcba1++;}else{if(_0x181750['isPointLight']){const _0x2398b5=_0x53231d['point'][_0x4476e6];_0x2398b5['position']['setFromMatrixPosition'](_0x181750['matrixWorld']),_0x2398b5['position']['applyMatrix4'](_0x58d1b8),_0x4476e6++;}else{if(_0x181750['isHemisphereLight']){const _0x2f2c0b=_0x53231d['hemi'][_0x53c979];_0x2f2c0b['direction']['setFromMatrixPosition'](_0x181750['matrixWorld']),_0x2f2c0b['direction']['transformDirection'](_0x58d1b8),_0x53c979++;}}}}}}},'state':_0x53231d};}function _0x374661(_0x28b775){const _0x509272=new _0x6bad45(_0x28b775),_0x587e0b=[],_0x1e1c9d=[],_0x43b62c={'lightsArray':_0x587e0b,'shadowsArray':_0x1e1c9d,'camera':null,'lights':_0x509272,'transmissionRenderTarget':{}};return{'init':function(_0x12892c){_0x43b62c['camera']=_0x12892c,_0x587e0b['length']=0x0,_0x1e1c9d['length']=0x0;},'state':_0x43b62c,'setupLights':function(){_0x509272['setup'](_0x587e0b);},'setupLightsView':function(_0x589c08){_0x509272['setupView'](_0x587e0b,_0x589c08);},'pushLight':function(_0x3c0c74){_0x587e0b['push'](_0x3c0c74);},'pushShadow':function(_0xd56895){_0x1e1c9d['push'](_0xd56895);}};}function _0x345d8e(_0x37d45a){let _0x79c521=new WeakMap();return{'get':function(_0x471b15,_0x15f24a=0x0){const _0x6e6fe2=_0x79c521['get'](_0x471b15);let _0xbe94eb;return void 0x0===_0x6e6fe2?(_0xbe94eb=new _0x374661(_0x37d45a),_0x79c521['set'](_0x471b15,[_0xbe94eb])):_0x15f24a>=_0x6e6fe2['length']?(_0xbe94eb=new _0x374661(_0x37d45a),_0x6e6fe2['push'](_0xbe94eb)):_0xbe94eb=_0x6e6fe2[_0x15f24a],_0xbe94eb;},'dispose':function(){_0x79c521=new WeakMap();}};}function _0x30c10f(_0x11572b,_0x4dfff5,_0x515287){let _0x4efa92=new _0x46094d['PPD']();const _0x37ce98=new _0x46094d['I9Y'](),_0x306f25=new _0x46094d['I9Y'](),_0x36e3a2=new _0x46094d['IUQ'](),_0x5b0868=new _0x46094d['CSG']({'depthPacking':_0x46094d['N5j']}),_0x72e820=new _0x46094d['aVO'](),_0x14a443={},_0x5a6da6=_0x515287['maxTextureSize'],_0x162dc1={[_0x46094d['hB5']]:_0x46094d['hsX'],[_0x46094d['hsX']]:_0x46094d['hB5'],[_0x46094d['$EB']]:_0x46094d['$EB']},_0x2852f8=new _0x46094d['BKk']({'defines':{'VSM_SAMPLES':0x8},'uniforms':{'shadow_pass':{'value':null},'resolution':{'value':new _0x46094d['I9Y']()},'radius':{'value':0x4}},'vertexShader':'void\x20main()\x20{\x0a\x09gl_Position\x20=\x20vec4(\x20position,\x201.0\x20);\x0a}','fragmentShader':'uniform\x20sampler2D\x20shadow_pass;\x0auniform\x20vec2\x20resolution;\x0auniform\x20float\x20radius;\x0a#include\x20<packing>\x0avoid\x20main()\x20{\x0a\x09const\x20float\x20samples\x20=\x20float(\x20VSM_SAMPLES\x20);\x0a\x09float\x20mean\x20=\x200.0;\x0a\x09float\x20squared_mean\x20=\x200.0;\x0a\x09float\x20uvStride\x20=\x20samples\x20<=\x201.0\x20?\x200.0\x20:\x202.0\x20/\x20(\x20samples\x20-\x201.0\x20);\x0a\x09float\x20uvStart\x20=\x20samples\x20<=\x201.0\x20?\x200.0\x20:\x20-\x201.0;\x0a\x09for\x20(\x20float\x20i\x20=\x200.0;\x20i\x20<\x20samples;\x20i\x20++\x20)\x20{\x0a\x09\x09float\x20uvOffset\x20=\x20uvStart\x20+\x20i\x20*\x20uvStride;\x0a\x09\x09#ifdef\x20HORIZONTAL_PASS\x0a\x09\x09\x09vec2\x20distribution\x20=\x20unpackRGBATo2Half(\x20texture2D(\x20shadow_pass,\x20(\x20gl_FragCoord.xy\x20+\x20vec2(\x20uvOffset,\x200.0\x20)\x20*\x20radius\x20)\x20/\x20resolution\x20)\x20);\x0a\x09\x09\x09mean\x20+=\x20distribution.x;\x0a\x09\x09\x09squared_mean\x20+=\x20distribution.y\x20*\x20distribution.y\x20+\x20distribution.x\x20*\x20distribution.x;\x0a\x09\x09#else\x0a\x09\x09\x09float\x20depth\x20=\x20unpackRGBAToDepth(\x20texture2D(\x20shadow_pass,\x20(\x20gl_FragCoord.xy\x20+\x20vec2(\x200.0,\x20uvOffset\x20)\x20*\x20radius\x20)\x20/\x20resolution\x20)\x20);\x0a\x09\x09\x09mean\x20+=\x20depth;\x0a\x09\x09\x09squared_mean\x20+=\x20depth\x20*\x20depth;\x0a\x09\x09#endif\x0a\x09}\x0a\x09mean\x20=\x20mean\x20/\x20samples;\x0a\x09squared_mean\x20=\x20squared_mean\x20/\x20samples;\x0a\x09float\x20std_dev\x20=\x20sqrt(\x20squared_mean\x20-\x20mean\x20*\x20mean\x20);\x0a\x09gl_FragColor\x20=\x20pack2HalfToRGBA(\x20vec2(\x20mean,\x20std_dev\x20)\x20);\x0a}'}),_0x5c8c9c=_0x2852f8['clone']();_0x5c8c9c['defines']['HORIZONTAL_PASS']=0x1;const _0x1d7dc3=new _0x46094d['LoY']();_0x1d7dc3['setAttribute']('position',new _0x46094d['THS'](new Float32Array([-0x1,-0x1,0.5,0x3,-0x1,0.5,-0x1,0x3,0.5]),0x3));const _0x1bc816=new _0x46094d['eaF'](_0x1d7dc3,_0x2852f8),_0x10ef7c=this;this['enabled']=!0x1,this['autoUpdate']=!0x0,this['needsUpdate']=!0x1,this['type']=_0x46094d['QP0'];let _0x6623ed=this['type'];function _0x3413a1(_0x25c557,_0x405647){const _0xe9447e=_0x4dfff5['update'](_0x1bc816);_0x2852f8['defines']['VSM_SAMPLES']!==_0x25c557['blurSamples']&&(_0x2852f8['defines']['VSM_SAMPLES']=_0x25c557['blurSamples'],_0x5c8c9c['defines']['VSM_SAMPLES']=_0x25c557['blurSamples'],_0x2852f8['needsUpdate']=!0x0,_0x5c8c9c['needsUpdate']=!0x0),null===_0x25c557['mapPass']&&(_0x25c557['mapPass']=new _0x46094d['nWS'](_0x37ce98['x'],_0x37ce98['y'])),_0x2852f8['uniforms']['shadow_pass']['value']=_0x25c557['map']['texture'],_0x2852f8['uniforms']['resolution']['value']=_0x25c557['mapSize'],_0x2852f8['uniforms']['radius']['value']=_0x25c557['radius'],_0x11572b['setRenderTarget'](_0x25c557['mapPass']),_0x11572b['clear'](),_0x11572b['renderBufferDirect'](_0x405647,null,_0xe9447e,_0x2852f8,_0x1bc816,null),_0x5c8c9c['uniforms']['shadow_pass']['value']=_0x25c557['mapPass']['texture'],_0x5c8c9c['uniforms']['resolution']['value']=_0x25c557['mapSize'],_0x5c8c9c['uniforms']['radius']['value']=_0x25c557['radius'],_0x11572b['setRenderTarget'](_0x25c557['map']),_0x11572b['clear'](),_0x11572b['renderBufferDirect'](_0x405647,null,_0xe9447e,_0x5c8c9c,_0x1bc816,null);}function _0x258e70(_0x129f4e,_0x297d8d,_0x31ce40,_0xb63170){let _0x51ec32=null;const _0x1e17fc=!0x0===_0x31ce40['isPointLight']?_0x129f4e['customDistanceMaterial']:_0x129f4e['customDepthMaterial'];if(void 0x0!==_0x1e17fc)_0x51ec32=_0x1e17fc;else{if(_0x51ec32=!0x0===_0x31ce40['isPointLight']?_0x72e820:_0x5b0868,_0x11572b['localClippingEnabled']&&!0x0===_0x297d8d['clipShadows']&&Array['isArray'](_0x297d8d['clippingPlanes'])&&0x0!==_0x297d8d['clippingPlanes']['length']||_0x297d8d['displacementMap']&&0x0!==_0x297d8d['displacementScale']||_0x297d8d['alphaMap']&&_0x297d8d['alphaTest']>0x0||_0x297d8d['map']&&_0x297d8d['alphaTest']>0x0){const _0x1db4a5=_0x51ec32['uuid'],_0x31c442=_0x297d8d['uuid'];let _0x49f920=_0x14a443[_0x1db4a5];void 0x0===_0x49f920&&(_0x49f920={},_0x14a443[_0x1db4a5]=_0x49f920);let _0x1909ab=_0x49f920[_0x31c442];void 0x0===_0x1909ab&&(_0x1909ab=_0x51ec32['clone'](),_0x49f920[_0x31c442]=_0x1909ab,_0x297d8d['addEventListener']('dispose',_0x2fcb8b)),_0x51ec32=_0x1909ab;}}return(_0x51ec32['visible']=_0x297d8d['visible'],_0x51ec32['wireframe']=_0x297d8d['wireframe'],_0xb63170===_0x46094d['RyA']?_0x51ec32['side']=null!==_0x297d8d['shadowSide']?_0x297d8d['shadowSide']:_0x297d8d['side']:_0x51ec32['side']=null!==_0x297d8d['shadowSide']?_0x297d8d['shadowSide']:_0x162dc1[_0x297d8d['side']],_0x51ec32['alphaMap']=_0x297d8d['alphaMap'],_0x51ec32['alphaTest']=_0x297d8d['alphaTest'],_0x51ec32['map']=_0x297d8d['map'],_0x51ec32['clipShadows']=_0x297d8d['clipShadows'],_0x51ec32['clippingPlanes']=_0x297d8d['clippingPlanes'],_0x51ec32['clipIntersection']=_0x297d8d['clipIntersection'],_0x51ec32['displacementMap']=_0x297d8d['displacementMap'],_0x51ec32['displacementScale']=_0x297d8d['displacementScale'],_0x51ec32['displacementBias']=_0x297d8d['displacementBias'],_0x51ec32['wireframeLinewidth']=_0x297d8d['wireframeLinewidth'],_0x51ec32['linewidth']=_0x297d8d['linewidth'],!0x0===_0x31ce40['isPointLight']&&!0x0===_0x51ec32['isMeshDistanceMaterial'])&&(_0x11572b['properties']['get'](_0x51ec32)['light']=_0x31ce40),_0x51ec32;}function _0x9fa2e9(_0x16cc00,_0x4325c6,_0x162636,_0x2473d5,_0x3f3d10){if(!0x1===_0x16cc00['visible'])return;if(_0x16cc00['layers']['test'](_0x4325c6['layers'])&&(_0x16cc00['isMesh']||_0x16cc00['isLine']||_0x16cc00['isPoints'])&&(_0x16cc00['castShadow']||_0x16cc00['receiveShadow']&&_0x3f3d10===_0x46094d['RyA'])&&(!_0x16cc00['frustumCulled']||_0x4efa92['intersectsObject'](_0x16cc00))){_0x16cc00['modelViewMatrix']['multiplyMatrices'](_0x162636['matrixWorldInverse'],_0x16cc00['matrixWorld']);const _0x178d7c=_0x4dfff5['update'](_0x16cc00),_0x1e07c6=_0x16cc00['material'];if(Array['isArray'](_0x1e07c6)){const _0x195b63=_0x178d7c['groups'];for(let _0xca8329=0x0,_0x53b0f8=_0x195b63['length'];_0xca8329<_0x53b0f8;_0xca8329++){const _0x162a4f=_0x195b63[_0xca8329],_0x10cb22=_0x1e07c6[_0x162a4f['materialIndex']];if(_0x10cb22&&_0x10cb22['visible']){const _0x4a2898=_0x258e70(_0x16cc00,_0x10cb22,_0x2473d5,_0x3f3d10);_0x16cc00['onBeforeShadow'](_0x11572b,_0x16cc00,_0x4325c6,_0x162636,_0x178d7c,_0x4a2898,_0x162a4f),_0x11572b['renderBufferDirect'](_0x162636,null,_0x178d7c,_0x4a2898,_0x16cc00,_0x162a4f),_0x16cc00['onAfterShadow'](_0x11572b,_0x16cc00,_0x4325c6,_0x162636,_0x178d7c,_0x4a2898,_0x162a4f);}}}else{if(_0x1e07c6['visible']){const _0x4613cd=_0x258e70(_0x16cc00,_0x1e07c6,_0x2473d5,_0x3f3d10);_0x16cc00['onBeforeShadow'](_0x11572b,_0x16cc00,_0x4325c6,_0x162636,_0x178d7c,_0x4613cd,null),_0x11572b['renderBufferDirect'](_0x162636,null,_0x178d7c,_0x4613cd,_0x16cc00,null),_0x16cc00['onAfterShadow'](_0x11572b,_0x16cc00,_0x4325c6,_0x162636,_0x178d7c,_0x4613cd,null);}}}const _0x308b76=_0x16cc00['children'];for(let _0x76644f=0x0,_0x85798e=_0x308b76['length'];_0x76644f<_0x85798e;_0x76644f++)_0x9fa2e9(_0x308b76[_0x76644f],_0x4325c6,_0x162636,_0x2473d5,_0x3f3d10);}function _0x2fcb8b(_0x4be458){_0x4be458['target']['removeEventListener']('dispose',_0x2fcb8b);for(const _0x44330c in _0x14a443){const _0x1aecb3=_0x14a443[_0x44330c],_0x1698db=_0x4be458['target']['uuid'];_0x1698db in _0x1aecb3&&(_0x1aecb3[_0x1698db]['dispose'](),delete _0x1aecb3[_0x1698db]);}}this['render']=function(_0x2d4f3a,_0x1b934f,_0x5b187c){if(!0x1===_0x10ef7c['enabled'])return;if(!0x1===_0x10ef7c['autoUpdate']&&!0x1===_0x10ef7c['needsUpdate'])return;if(0x0===_0x2d4f3a['length'])return;const _0x1a9901=_0x11572b['getRenderTarget'](),_0xd87132=_0x11572b['getActiveCubeFace'](),_0x1e733c=_0x11572b['getActiveMipmapLevel'](),_0x2100a1=_0x11572b['state'];_0x2100a1['setBlending'](_0x46094d['XIg']),_0x2100a1['buffers']['color']['setClear'](0x1,0x1,0x1,0x1),_0x2100a1['buffers']['depth']['setTest'](!0x0),_0x2100a1['setScissorTest'](!0x1);const _0x392de0=_0x6623ed!==_0x46094d['RyA']&&this['type']===_0x46094d['RyA'],_0x1f9cc9=_0x6623ed===_0x46094d['RyA']&&this['type']!==_0x46094d['RyA'];for(let _0x24537d=0x0,_0x22b4a2=_0x2d4f3a['length'];_0x24537d<_0x22b4a2;_0x24537d++){const _0x57b7ce=_0x2d4f3a[_0x24537d],_0x5b0b09=_0x57b7ce['shadow'];if(void 0x0===_0x5b0b09){console['warn']('THREE.WebGLShadowMap:',_0x57b7ce,'has\x20no\x20shadow.');continue;}if(!0x1===_0x5b0b09['autoUpdate']&&!0x1===_0x5b0b09['needsUpdate'])continue;_0x37ce98['copy'](_0x5b0b09['mapSize']);const _0x1801f8=_0x5b0b09['getFrameExtents']();if(_0x37ce98['multiply'](_0x1801f8),_0x306f25['copy'](_0x5b0b09['mapSize']),(_0x37ce98['x']>_0x5a6da6||_0x37ce98['y']>_0x5a6da6)&&(_0x37ce98['x']>_0x5a6da6&&(_0x306f25['x']=Math['floor'](_0x5a6da6/_0x1801f8['x']),_0x37ce98['x']=_0x306f25['x']*_0x1801f8['x'],_0x5b0b09['mapSize']['x']=_0x306f25['x']),_0x37ce98['y']>_0x5a6da6&&(_0x306f25['y']=Math['floor'](_0x5a6da6/_0x1801f8['y']),_0x37ce98['y']=_0x306f25['y']*_0x1801f8['y'],_0x5b0b09['mapSize']['y']=_0x306f25['y'])),null===_0x5b0b09['map']||!0x0===_0x392de0||!0x0===_0x1f9cc9){const _0x176107=this['type']!==_0x46094d['RyA']?{'minFilter':_0x46094d['hxR'],'magFilter':_0x46094d['hxR']}:{};null!==_0x5b0b09['map']&&_0x5b0b09['map']['dispose'](),_0x5b0b09['map']=new _0x46094d['nWS'](_0x37ce98['x'],_0x37ce98['y'],_0x176107),_0x5b0b09['map']['texture']['name']=_0x57b7ce['name']+'.shadowMap',_0x5b0b09['camera']['updateProjectionMatrix']();}_0x11572b['setRenderTarget'](_0x5b0b09['map']),_0x11572b['clear']();const _0x42f917=_0x5b0b09['getViewportCount']();for(let _0x5ddc8f=0x0;_0x5ddc8f<_0x42f917;_0x5ddc8f++){const _0x27be57=_0x5b0b09['getViewport'](_0x5ddc8f);_0x36e3a2['set'](_0x306f25['x']*_0x27be57['x'],_0x306f25['y']*_0x27be57['y'],_0x306f25['x']*_0x27be57['z'],_0x306f25['y']*_0x27be57['w']),_0x2100a1['viewport'](_0x36e3a2),_0x5b0b09['updateMatrices'](_0x57b7ce,_0x5ddc8f),_0x4efa92=_0x5b0b09['getFrustum'](),_0x9fa2e9(_0x1b934f,_0x5b187c,_0x5b0b09['camera'],_0x57b7ce,this['type']);}!0x0!==_0x5b0b09['isPointLightShadow']&&this['type']===_0x46094d['RyA']&&_0x3413a1(_0x5b0b09,_0x5b187c),_0x5b0b09['needsUpdate']=!0x1;}_0x6623ed=this['type'],_0x10ef7c['needsUpdate']=!0x1,_0x11572b['setRenderTarget'](_0x1a9901,_0xd87132,_0x1e733c);};}const _0x3e3dd1={[_0x46094d['eHc']]:_0x46094d['lGu'],[_0x46094d['brA']]:_0x46094d['K52'],[_0x46094d['U3G']]:_0x46094d['bw0'],[_0x46094d['xSv']]:_0x46094d['Gwm'],[_0x46094d['lGu']]:_0x46094d['eHc'],[_0x46094d['K52']]:_0x46094d['brA'],[_0x46094d['bw0']]:_0x46094d['U3G'],[_0x46094d['Gwm']]:_0x46094d['xSv']};function _0xa8b4e2(_0x121425,_0x37e4ed){const _0x1a13a5=new function(){let _0x10fffa=!0x1;const _0x355e6c=new _0x46094d['IUQ']();let _0x3f3adc=null;const _0x4a93cd=new _0x46094d['IUQ'](0x0,0x0,0x0,0x0);return{'setMask':function(_0x137595){_0x3f3adc===_0x137595||_0x10fffa||(_0x121425['colorMask'](_0x137595,_0x137595,_0x137595,_0x137595),_0x3f3adc=_0x137595);},'setLocked':function(_0x14ecd0){_0x10fffa=_0x14ecd0;},'setClear':function(_0x17dbf1,_0x4496cb,_0x13f98a,_0x1ed8ec,_0x5019c6){!0x0===_0x5019c6&&(_0x17dbf1*=_0x1ed8ec,_0x4496cb*=_0x1ed8ec,_0x13f98a*=_0x1ed8ec),_0x355e6c['set'](_0x17dbf1,_0x4496cb,_0x13f98a,_0x1ed8ec),!0x1===_0x4a93cd['equals'](_0x355e6c)&&(_0x121425['clearColor'](_0x17dbf1,_0x4496cb,_0x13f98a,_0x1ed8ec),_0x4a93cd['copy'](_0x355e6c));},'reset':function(){_0x10fffa=!0x1,_0x3f3adc=null,_0x4a93cd['set'](-0x1,0x0,0x0,0x0);}};}(),_0x418126=new function(){let _0x2e9a0c=!0x1,_0x5a4477=!0x1,_0x2bf136=null,_0x54e439=null,_0x2257b0=null;return{'setReversed':function(_0x24952c){if(_0x5a4477!==_0x24952c){const _0x20a8f9=_0x37e4ed['get']('EXT_clip_control');_0x5a4477?_0x20a8f9['clipControlEXT'](_0x20a8f9['LOWER_LEFT_EXT'],_0x20a8f9['ZERO_TO_ONE_EXT']):_0x20a8f9['clipControlEXT'](_0x20a8f9['LOWER_LEFT_EXT'],_0x20a8f9['NEGATIVE_ONE_TO_ONE_EXT']);const _0x28f6aa=_0x2257b0;_0x2257b0=null,this['setClear'](_0x28f6aa);}_0x5a4477=_0x24952c;},'getReversed':function(){return _0x5a4477;},'setTest':function(_0x4c409c){_0x4c409c?_0x55e91a(_0x121425['DEPTH_TEST']):_0x196997(_0x121425['DEPTH_TEST']);},'setMask':function(_0x23d6d2){_0x2bf136===_0x23d6d2||_0x2e9a0c||(_0x121425['depthMask'](_0x23d6d2),_0x2bf136=_0x23d6d2);},'setFunc':function(_0x42c146){if(_0x5a4477&&(_0x42c146=_0x3e3dd1[_0x42c146]),_0x54e439!==_0x42c146){switch(_0x42c146){case _0x46094d['eHc']:_0x121425['depthFunc'](_0x121425['NEVER']);break;case _0x46094d['lGu']:_0x121425['depthFunc'](_0x121425['ALWAYS']);break;case _0x46094d['brA']:_0x121425['depthFunc'](_0x121425['LESS']);break;case _0x46094d['xSv']:_0x121425['depthFunc'](_0x121425['LEQUAL']);break;case _0x46094d['U3G']:_0x121425['depthFunc'](_0x121425['EQUAL']);break;case _0x46094d['Gwm']:_0x121425['depthFunc'](_0x121425['GEQUAL']);break;case _0x46094d['K52']:_0x121425['depthFunc'](_0x121425['GREATER']);break;case _0x46094d['bw0']:_0x121425['depthFunc'](_0x121425['NOTEQUAL']);break;default:_0x121425['depthFunc'](_0x121425['LEQUAL']);}_0x54e439=_0x42c146;}},'setLocked':function(_0x89f7ac){_0x2e9a0c=_0x89f7ac;},'setClear':function(_0x38426c){_0x2257b0!==_0x38426c&&(_0x5a4477&&(_0x38426c=0x1-_0x38426c),_0x121425['clearDepth'](_0x38426c),_0x2257b0=_0x38426c);},'reset':function(){_0x2e9a0c=!0x1,_0x2bf136=null,_0x54e439=null,_0x2257b0=null,_0x5a4477=!0x1;}};}(),_0x16f807=new function(){let _0x33ffcf=!0x1,_0x53d6c3=null,_0x51640b=null,_0x2cccb7=null,_0x206e9e=null,_0x2e08a5=null,_0x33a50d=null,_0x118ef0=null,_0xb735c0=null;return{'setTest':function(_0x5e31fd){_0x33ffcf||(_0x5e31fd?_0x55e91a(_0x121425['STENCIL_TEST']):_0x196997(_0x121425['STENCIL_TEST']));},'setMask':function(_0x47cd76){_0x53d6c3===_0x47cd76||_0x33ffcf||(_0x121425['stencilMask'](_0x47cd76),_0x53d6c3=_0x47cd76);},'setFunc':function(_0x58186a,_0x2fb0a4,_0x3b4b52){_0x51640b===_0x58186a&&_0x2cccb7===_0x2fb0a4&&_0x206e9e===_0x3b4b52||(_0x121425['stencilFunc'](_0x58186a,_0x2fb0a4,_0x3b4b52),_0x51640b=_0x58186a,_0x2cccb7=_0x2fb0a4,_0x206e9e=_0x3b4b52);},'setOp':function(_0x2580ca,_0xf36ccd,_0x13a9d6){_0x2e08a5===_0x2580ca&&_0x33a50d===_0xf36ccd&&_0x118ef0===_0x13a9d6||(_0x121425['stencilOp'](_0x2580ca,_0xf36ccd,_0x13a9d6),_0x2e08a5=_0x2580ca,_0x33a50d=_0xf36ccd,_0x118ef0=_0x13a9d6);},'setLocked':function(_0x1750e0){_0x33ffcf=_0x1750e0;},'setClear':function(_0xbbcfbf){_0xb735c0!==_0xbbcfbf&&(_0x121425['clearStencil'](_0xbbcfbf),_0xb735c0=_0xbbcfbf);},'reset':function(){_0x33ffcf=!0x1,_0x53d6c3=null,_0x51640b=null,_0x2cccb7=null,_0x206e9e=null,_0x2e08a5=null,_0x33a50d=null,_0x118ef0=null,_0xb735c0=null;}};}(),_0x4ddac4=new WeakMap(),_0x39f12d=new WeakMap();let _0x155c43={},_0x33b00f={},_0x240cc8=new WeakMap(),_0x4edadc=[],_0x179a7d=null,_0x370374=!0x1,_0x4c3edc=null,_0x385b6d=null,_0x4264a4=null,_0xfa563=null,_0x1399b1=null,_0x1f10c4=null,_0x454775=null,_0x2246d2=new _0x46094d['Q1f'](0x0,0x0,0x0),_0x34086a=0x0,_0x2d1d76=!0x1,_0x2245c6=null,_0x12e4a3=null,_0x38a104=null,_0x4de665=null,_0x3fe720=null;const _0xb0a278=_0x121425['getParameter'](_0x121425['MAX_COMBINED_TEXTURE_IMAGE_UNITS']);let _0x1ebe50=!0x1,_0x4db129=0x0;const _0x5dfcbf=_0x121425['getParameter'](_0x121425['VERSION']);-0x1!==_0x5dfcbf['indexOf']('WebGL')?(_0x4db129=parseFloat(/^WebGL (\d)/['exec'](_0x5dfcbf)[0x1]),_0x1ebe50=_0x4db129>=0x1):-0x1!==_0x5dfcbf['indexOf']('OpenGL\x20ES')&&(_0x4db129=parseFloat(/^OpenGL ES (\d)/['exec'](_0x5dfcbf)[0x1]),_0x1ebe50=_0x4db129>=0x2);let _0x13d415=null,_0x4bb74b={};const _0x2bd548=_0x121425['getParameter'](_0x121425['SCISSOR_BOX']),_0x36d525=_0x121425['getParameter'](_0x121425['VIEWPORT']),_0x20ad04=new _0x46094d['IUQ']()['fromArray'](_0x2bd548),_0x1ace29=new _0x46094d['IUQ']()['fromArray'](_0x36d525);function _0x136c64(_0x18d4ed,_0x327c14,_0x35b9e7,_0x393270){const _0x1a9526=new Uint8Array(0x4),_0x1b6ecc=_0x121425['createTexture']();_0x121425['bindTexture'](_0x18d4ed,_0x1b6ecc),_0x121425['texParameteri'](_0x18d4ed,_0x121425['TEXTURE_MIN_FILTER'],_0x121425['NEAREST']),_0x121425['texParameteri'](_0x18d4ed,_0x121425['TEXTURE_MAG_FILTER'],_0x121425['NEAREST']);for(let _0x478afe=0x0;_0x478afe<_0x35b9e7;_0x478afe++)_0x18d4ed===_0x121425['TEXTURE_3D']||_0x18d4ed===_0x121425['TEXTURE_2D_ARRAY']?_0x121425['texImage3D'](_0x327c14,0x0,_0x121425['RGBA'],0x1,0x1,_0x393270,0x0,_0x121425['RGBA'],_0x121425['UNSIGNED_BYTE'],_0x1a9526):_0x121425['texImage2D'](_0x327c14+_0x478afe,0x0,_0x121425['RGBA'],0x1,0x1,0x0,_0x121425['RGBA'],_0x121425['UNSIGNED_BYTE'],_0x1a9526);return _0x1b6ecc;}const _0x597ece={};function _0x55e91a(_0x1681eb){!0x0!==_0x155c43[_0x1681eb]&&(_0x121425['enable'](_0x1681eb),_0x155c43[_0x1681eb]=!0x0);}function _0x196997(_0xc0d770){!0x1!==_0x155c43[_0xc0d770]&&(_0x121425['disable'](_0xc0d770),_0x155c43[_0xc0d770]=!0x1);}_0x597ece[_0x121425['TEXTURE_2D']]=_0x136c64(_0x121425['TEXTURE_2D'],_0x121425['TEXTURE_2D'],0x1),_0x597ece[_0x121425['TEXTURE_CUBE_MAP']]=_0x136c64(_0x121425['TEXTURE_CUBE_MAP'],_0x121425['TEXTURE_CUBE_MAP_POSITIVE_X'],0x6),_0x597ece[_0x121425['TEXTURE_2D_ARRAY']]=_0x136c64(_0x121425['TEXTURE_2D_ARRAY'],_0x121425['TEXTURE_2D_ARRAY'],0x1,0x1),_0x597ece[_0x121425['TEXTURE_3D']]=_0x136c64(_0x121425['TEXTURE_3D'],_0x121425['TEXTURE_3D'],0x1,0x1),_0x1a13a5['setClear'](0x0,0x0,0x0,0x1),_0x418126['setClear'](0x1),_0x16f807['setClear'](0x0),_0x55e91a(_0x121425['DEPTH_TEST']),_0x418126['setFunc'](_0x46094d['xSv']),_0x3a0a5c(!0x1),_0x463bc1(_0x46094d['Vb5']),_0x55e91a(_0x121425['CULL_FACE']),_0x421fdc(_0x46094d['XIg']);const _0x180fd4={[_0x46094d['gO9']]:_0x121425['FUNC_ADD'],[_0x46094d['FXf']]:_0x121425['FUNC_SUBTRACT'],[_0x46094d['nST']]:_0x121425['FUNC_REVERSE_SUBTRACT']};_0x180fd4[_0x46094d['znC']]=_0x121425['MIN'],_0x180fd4[_0x46094d['$ei']]=_0x121425['MAX'];const _0xbea816={[_0x46094d['ojh']]:_0x121425['ZERO'],[_0x46094d['qad']]:_0x121425['ONE'],[_0x46094d['f4X']]:_0x121425['SRC_COLOR'],[_0x46094d['ie2']]:_0x121425['SRC_ALPHA'],[_0x46094d['hgQ']]:_0x121425['SRC_ALPHA_SATURATE'],[_0x46094d['wn6']]:_0x121425['DST_COLOR'],[_0x46094d['hdd']]:_0x121425['DST_ALPHA'],[_0x46094d['LiQ']]:_0x121425['ONE_MINUS_SRC_COLOR'],[_0x46094d['OuU']]:_0x121425['ONE_MINUS_SRC_ALPHA'],[_0x46094d['aEY']]:_0x121425['ONE_MINUS_DST_COLOR'],[_0x46094d['Nt7']]:_0x121425['ONE_MINUS_DST_ALPHA'],[_0x46094d['RrE']]:_0x121425['CONSTANT_COLOR'],[_0x46094d['$Yl']]:_0x121425['ONE_MINUS_CONSTANT_COLOR'],[_0x46094d['e0p']]:_0x121425['CONSTANT_ALPHA'],[_0x46094d['ov9']]:_0x121425['ONE_MINUS_CONSTANT_ALPHA']};function _0x421fdc(_0xcea3f4,_0x18501f,_0x12ffa7,_0x1f45dc,_0x47630a,_0x560c15,_0x2c6b9b,_0x55b710,_0xdd8e06,_0x4fbcb5){if(_0xcea3f4!==_0x46094d['XIg']){if(!0x1===_0x370374&&(_0x55e91a(_0x121425['BLEND']),_0x370374=!0x0),_0xcea3f4===_0x46094d['bCz'])_0x47630a=_0x47630a||_0x18501f,_0x560c15=_0x560c15||_0x12ffa7,_0x2c6b9b=_0x2c6b9b||_0x1f45dc,_0x18501f===_0x385b6d&&_0x47630a===_0x1399b1||(_0x121425['blendEquationSeparate'](_0x180fd4[_0x18501f],_0x180fd4[_0x47630a]),_0x385b6d=_0x18501f,_0x1399b1=_0x47630a),_0x12ffa7===_0x4264a4&&_0x1f45dc===_0xfa563&&_0x560c15===_0x1f10c4&&_0x2c6b9b===_0x454775||(_0x121425['blendFuncSeparate'](_0xbea816[_0x12ffa7],_0xbea816[_0x1f45dc],_0xbea816[_0x560c15],_0xbea816[_0x2c6b9b]),_0x4264a4=_0x12ffa7,_0xfa563=_0x1f45dc,_0x1f10c4=_0x560c15,_0x454775=_0x2c6b9b),!0x1!==_0x55b710['equals'](_0x2246d2)&&_0xdd8e06===_0x34086a||(_0x121425['blendColor'](_0x55b710['r'],_0x55b710['g'],_0x55b710['b'],_0xdd8e06),_0x2246d2['copy'](_0x55b710),_0x34086a=_0xdd8e06),_0x4c3edc=_0xcea3f4,_0x2d1d76=!0x1;else{if(_0xcea3f4!==_0x4c3edc||_0x4fbcb5!==_0x2d1d76){if(_0x385b6d===_0x46094d['gO9']&&_0x1399b1===_0x46094d['gO9']||(_0x121425['blendEquation'](_0x121425['FUNC_ADD']),_0x385b6d=_0x46094d['gO9'],_0x1399b1=_0x46094d['gO9']),_0x4fbcb5)switch(_0xcea3f4){case _0x46094d['NTi']:_0x121425['blendFuncSeparate'](_0x121425['ONE'],_0x121425['ONE_MINUS_SRC_ALPHA'],_0x121425['ONE'],_0x121425['ONE_MINUS_SRC_ALPHA']);break;case _0x46094d['EZo']:_0x121425['blendFunc'](_0x121425['ONE'],_0x121425['ONE']);break;case _0x46094d['Kwu']:_0x121425['blendFuncSeparate'](_0x121425['ZERO'],_0x121425['ONE_MINUS_SRC_COLOR'],_0x121425['ZERO'],_0x121425['ONE']);break;case _0x46094d['EdD']:_0x121425['blendFuncSeparate'](_0x121425['ZERO'],_0x121425['SRC_COLOR'],_0x121425['ZERO'],_0x121425['SRC_ALPHA']);break;default:console['error']('THREE.WebGLState:\x20Invalid\x20blending:\x20',_0xcea3f4);}else switch(_0xcea3f4){case _0x46094d['NTi']:_0x121425['blendFuncSeparate'](_0x121425['SRC_ALPHA'],_0x121425['ONE_MINUS_SRC_ALPHA'],_0x121425['ONE'],_0x121425['ONE_MINUS_SRC_ALPHA']);break;case _0x46094d['EZo']:_0x121425['blendFunc'](_0x121425['SRC_ALPHA'],_0x121425['ONE']);break;case _0x46094d['Kwu']:_0x121425['blendFuncSeparate'](_0x121425['ZERO'],_0x121425['ONE_MINUS_SRC_COLOR'],_0x121425['ZERO'],_0x121425['ONE']);break;case _0x46094d['EdD']:_0x121425['blendFunc'](_0x121425['ZERO'],_0x121425['SRC_COLOR']);break;default:console['error']('THREE.WebGLState:\x20Invalid\x20blending:\x20',_0xcea3f4);}_0x4264a4=null,_0xfa563=null,_0x1f10c4=null,_0x454775=null,_0x2246d2['set'](0x0,0x0,0x0),_0x34086a=0x0,_0x4c3edc=_0xcea3f4,_0x2d1d76=_0x4fbcb5;}}}else!0x0===_0x370374&&(_0x196997(_0x121425['BLEND']),_0x370374=!0x1);}function _0x3a0a5c(_0x448318){_0x2245c6!==_0x448318&&(_0x448318?_0x121425['frontFace'](_0x121425['CW']):_0x121425['frontFace'](_0x121425['CCW']),_0x2245c6=_0x448318);}function _0x463bc1(_0xdc07bc){_0xdc07bc!==_0x46094d['WNZ']?(_0x55e91a(_0x121425['CULL_FACE']),_0xdc07bc!==_0x12e4a3&&(_0xdc07bc===_0x46094d['Vb5']?_0x121425['cullFace'](_0x121425['BACK']):_0xdc07bc===_0x46094d['Jnc']?_0x121425['cullFace'](_0x121425['FRONT']):_0x121425['cullFace'](_0x121425['FRONT_AND_BACK']))):_0x196997(_0x121425['CULL_FACE']),_0x12e4a3=_0xdc07bc;}function _0x1cf957(_0x370ccf,_0x25e2d7,_0x168971){_0x370ccf?(_0x55e91a(_0x121425['POLYGON_OFFSET_FILL']),_0x4de665===_0x25e2d7&&_0x3fe720===_0x168971||(_0x121425['polygonOffset'](_0x25e2d7,_0x168971),_0x4de665=_0x25e2d7,_0x3fe720=_0x168971)):_0x196997(_0x121425['POLYGON_OFFSET_FILL']);}return{'buffers':{'color':_0x1a13a5,'depth':_0x418126,'stencil':_0x16f807},'enable':_0x55e91a,'disable':_0x196997,'bindFramebuffer':function(_0x5e2c00,_0x1eee19){return _0x33b00f[_0x5e2c00]!==_0x1eee19&&(_0x121425['bindFramebuffer'](_0x5e2c00,_0x1eee19),_0x33b00f[_0x5e2c00]=_0x1eee19,_0x5e2c00===_0x121425['DRAW_FRAMEBUFFER']&&(_0x33b00f[_0x121425['FRAMEBUFFER']]=_0x1eee19),_0x5e2c00===_0x121425['FRAMEBUFFER']&&(_0x33b00f[_0x121425['DRAW_FRAMEBUFFER']]=_0x1eee19),!0x0);},'drawBuffers':function(_0x26dcd3,_0x3eb8c9){let _0x998491=_0x4edadc,_0x3048ea=!0x1;if(_0x26dcd3){_0x998491=_0x240cc8['get'](_0x3eb8c9),void 0x0===_0x998491&&(_0x998491=[],_0x240cc8['set'](_0x3eb8c9,_0x998491));const _0x55ed56=_0x26dcd3['textures'];if(_0x998491['length']!==_0x55ed56['length']||_0x998491[0x0]!==_0x121425['COLOR_ATTACHMENT0']){for(let _0xd0ebec=0x0,_0x40900f=_0x55ed56['length'];_0xd0ebec<_0x40900f;_0xd0ebec++)_0x998491[_0xd0ebec]=_0x121425['COLOR_ATTACHMENT0']+_0xd0ebec;_0x998491['length']=_0x55ed56['length'],_0x3048ea=!0x0;}}else _0x998491[0x0]!==_0x121425['BACK']&&(_0x998491[0x0]=_0x121425['BACK'],_0x3048ea=!0x0);_0x3048ea&&_0x121425['drawBuffers'](_0x998491);},'useProgram':function(_0x2feb40){return _0x179a7d!==_0x2feb40&&(_0x121425['useProgram'](_0x2feb40),_0x179a7d=_0x2feb40,!0x0);},'setBlending':_0x421fdc,'setMaterial':function(_0x30e24c,_0x35bc3f){_0x30e24c['side']===_0x46094d['$EB']?_0x196997(_0x121425['CULL_FACE']):_0x55e91a(_0x121425['CULL_FACE']);let _0xf80194=_0x30e24c['side']===_0x46094d['hsX'];_0x35bc3f&&(_0xf80194=!_0xf80194),_0x3a0a5c(_0xf80194),_0x30e24c['blending']===_0x46094d['NTi']&&!0x1===_0x30e24c['transparent']?_0x421fdc(_0x46094d['XIg']):_0x421fdc(_0x30e24c['blending'],_0x30e24c['blendEquation'],_0x30e24c['blendSrc'],_0x30e24c['blendDst'],_0x30e24c['blendEquationAlpha'],_0x30e24c['blendSrcAlpha'],_0x30e24c['blendDstAlpha'],_0x30e24c['blendColor'],_0x30e24c['blendAlpha'],_0x30e24c['premultipliedAlpha']),_0x418126['setFunc'](_0x30e24c['depthFunc']),_0x418126['setTest'](_0x30e24c['depthTest']),_0x418126['setMask'](_0x30e24c['depthWrite']),_0x1a13a5['setMask'](_0x30e24c['colorWrite']);const _0x3aca05=_0x30e24c['stencilWrite'];_0x16f807['setTest'](_0x3aca05),_0x3aca05&&(_0x16f807['setMask'](_0x30e24c['stencilWriteMask']),_0x16f807['setFunc'](_0x30e24c['stencilFunc'],_0x30e24c['stencilRef'],_0x30e24c['stencilFuncMask']),_0x16f807['setOp'](_0x30e24c['stencilFail'],_0x30e24c['stencilZFail'],_0x30e24c['stencilZPass'])),_0x1cf957(_0x30e24c['polygonOffset'],_0x30e24c['polygonOffsetFactor'],_0x30e24c['polygonOffsetUnits']),!0x0===_0x30e24c['alphaToCoverage']?_0x55e91a(_0x121425['SAMPLE_ALPHA_TO_COVERAGE']):_0x196997(_0x121425['SAMPLE_ALPHA_TO_COVERAGE']);},'setFlipSided':_0x3a0a5c,'setCullFace':_0x463bc1,'setLineWidth':function(_0x16e03e){_0x16e03e!==_0x38a104&&(_0x1ebe50&&_0x121425['lineWidth'](_0x16e03e),_0x38a104=_0x16e03e);},'setPolygonOffset':_0x1cf957,'setScissorTest':function(_0x542310){_0x542310?_0x55e91a(_0x121425['SCISSOR_TEST']):_0x196997(_0x121425['SCISSOR_TEST']);},'activeTexture':function(_0x319c75){void 0x0===_0x319c75&&(_0x319c75=_0x121425['TEXTURE0']+_0xb0a278-0x1),_0x13d415!==_0x319c75&&(_0x121425['activeTexture'](_0x319c75),_0x13d415=_0x319c75);},'bindTexture':function(_0x588ec4,_0x2ca2c7,_0xa46ca5){void 0x0===_0xa46ca5&&(_0xa46ca5=null===_0x13d415?_0x121425['TEXTURE0']+_0xb0a278-0x1:_0x13d415);let _0x1932f0=_0x4bb74b[_0xa46ca5];void 0x0===_0x1932f0&&(_0x1932f0={'type':void 0x0,'texture':void 0x0},_0x4bb74b[_0xa46ca5]=_0x1932f0),_0x1932f0['type']===_0x588ec4&&_0x1932f0['texture']===_0x2ca2c7||(_0x13d415!==_0xa46ca5&&(_0x121425['activeTexture'](_0xa46ca5),_0x13d415=_0xa46ca5),_0x121425['bindTexture'](_0x588ec4,_0x2ca2c7||_0x597ece[_0x588ec4]),_0x1932f0['type']=_0x588ec4,_0x1932f0['texture']=_0x2ca2c7);},'unbindTexture':function(){const _0x1f12e8=_0x4bb74b[_0x13d415];void 0x0!==_0x1f12e8&&void 0x0!==_0x1f12e8['type']&&(_0x121425['bindTexture'](_0x1f12e8['type'],null),_0x1f12e8['type']=void 0x0,_0x1f12e8['texture']=void 0x0);},'compressedTexImage2D':function(){try{_0x121425['compressedTexImage2D']['apply'](_0x121425,arguments);}catch(_0x24dd35){console['error']('THREE.WebGLState:',_0x24dd35);}},'compressedTexImage3D':function(){try{_0x121425['compressedTexImage3D']['apply'](_0x121425,arguments);}catch(_0x2b8de3){console['error']('THREE.WebGLState:',_0x2b8de3);}},'texImage2D':function(){try{_0x121425['texImage2D']['apply'](_0x121425,arguments);}catch(_0x164581){console['error']('THREE.WebGLState:',_0x164581);}},'texImage3D':function(){try{_0x121425['texImage3D']['apply'](_0x121425,arguments);}catch(_0x1e9fbf){console['error']('THREE.WebGLState:',_0x1e9fbf);}},'updateUBOMapping':function(_0x558a53,_0x57b000){let _0x1724d8=_0x39f12d['get'](_0x57b000);void 0x0===_0x1724d8&&(_0x1724d8=new WeakMap(),_0x39f12d['set'](_0x57b000,_0x1724d8));let _0x39683e=_0x1724d8['get'](_0x558a53);void 0x0===_0x39683e&&(_0x39683e=_0x121425['getUniformBlockIndex'](_0x57b000,_0x558a53['name']),_0x1724d8['set'](_0x558a53,_0x39683e));},'uniformBlockBinding':function(_0x536916,_0x1dfa14){const _0x46b573=_0x39f12d['get'](_0x1dfa14)['get'](_0x536916);_0x4ddac4['get'](_0x1dfa14)!==_0x46b573&&(_0x121425['uniformBlockBinding'](_0x1dfa14,_0x46b573,_0x536916['__bindingPointIndex']),_0x4ddac4['set'](_0x1dfa14,_0x46b573));},'texStorage2D':function(){try{_0x121425['texStorage2D']['apply'](_0x121425,arguments);}catch(_0x27366e){console['error']('THREE.WebGLState:',_0x27366e);}},'texStorage3D':function(){try{_0x121425['texStorage3D']['apply'](_0x121425,arguments);}catch(_0x34b87c){console['error']('THREE.WebGLState:',_0x34b87c);}},'texSubImage2D':function(){try{_0x121425['texSubImage2D']['apply'](_0x121425,arguments);}catch(_0x437766){console['error']('THREE.WebGLState:',_0x437766);}},'texSubImage3D':function(){try{_0x121425['texSubImage3D']['apply'](_0x121425,arguments);}catch(_0xf5e6ed){console['error']('THREE.WebGLState:',_0xf5e6ed);}},'compressedTexSubImage2D':function(){try{_0x121425['compressedTexSubImage2D']['apply'](_0x121425,arguments);}catch(_0x29439b){console['error']('THREE.WebGLState:',_0x29439b);}},'compressedTexSubImage3D':function(){try{_0x121425['compressedTexSubImage3D']['apply'](_0x121425,arguments);}catch(_0x2b84e4){console['error']('THREE.WebGLState:',_0x2b84e4);}},'scissor':function(_0x3f3d70){!0x1===_0x20ad04['equals'](_0x3f3d70)&&(_0x121425['scissor'](_0x3f3d70['x'],_0x3f3d70['y'],_0x3f3d70['z'],_0x3f3d70['w']),_0x20ad04['copy'](_0x3f3d70));},'viewport':function(_0x3412e8){!0x1===_0x1ace29['equals'](_0x3412e8)&&(_0x121425['viewport'](_0x3412e8['x'],_0x3412e8['y'],_0x3412e8['z'],_0x3412e8['w']),_0x1ace29['copy'](_0x3412e8));},'reset':function(){_0x121425['disable'](_0x121425['BLEND']),_0x121425['disable'](_0x121425['CULL_FACE']),_0x121425['disable'](_0x121425['DEPTH_TEST']),_0x121425['disable'](_0x121425['POLYGON_OFFSET_FILL']),_0x121425['disable'](_0x121425['SCISSOR_TEST']),_0x121425['disable'](_0x121425['STENCIL_TEST']),_0x121425['disable'](_0x121425['SAMPLE_ALPHA_TO_COVERAGE']),_0x121425['blendEquation'](_0x121425['FUNC_ADD']),_0x121425['blendFunc'](_0x121425['ONE'],_0x121425['ZERO']),_0x121425['blendFuncSeparate'](_0x121425['ONE'],_0x121425['ZERO'],_0x121425['ONE'],_0x121425['ZERO']),_0x121425['blendColor'](0x0,0x0,0x0,0x0),_0x121425['colorMask'](!0x0,!0x0,!0x0,!0x0),_0x121425['clearColor'](0x0,0x0,0x0,0x0),_0x121425['depthMask'](!0x0),_0x121425['depthFunc'](_0x121425['LESS']),_0x418126['setReversed'](!0x1),_0x121425['clearDepth'](0x1),_0x121425['stencilMask'](0xffffffff),_0x121425['stencilFunc'](_0x121425['ALWAYS'],0x0,0xffffffff),_0x121425['stencilOp'](_0x121425['KEEP'],_0x121425['KEEP'],_0x121425['KEEP']),_0x121425['clearStencil'](0x0),_0x121425['cullFace'](_0x121425['BACK']),_0x121425['frontFace'](_0x121425['CCW']),_0x121425['polygonOffset'](0x0,0x0),_0x121425['activeTexture'](_0x121425['TEXTURE0']),_0x121425['bindFramebuffer'](_0x121425['FRAMEBUFFER'],null),_0x121425['bindFramebuffer'](_0x121425['DRAW_FRAMEBUFFER'],null),_0x121425['bindFramebuffer'](_0x121425['READ_FRAMEBUFFER'],null),_0x121425['useProgram'](null),_0x121425['lineWidth'](0x1),_0x121425['scissor'](0x0,0x0,_0x121425['canvas']['width'],_0x121425['canvas']['height']),_0x121425['viewport'](0x0,0x0,_0x121425['canvas']['width'],_0x121425['canvas']['height']),_0x155c43={},_0x13d415=null,_0x4bb74b={},_0x33b00f={},_0x240cc8=new WeakMap(),_0x4edadc=[],_0x179a7d=null,_0x370374=!0x1,_0x4c3edc=null,_0x385b6d=null,_0x4264a4=null,_0xfa563=null,_0x1399b1=null,_0x1f10c4=null,_0x454775=null,_0x2246d2=new _0x46094d['Q1f'](0x0,0x0,0x0),_0x34086a=0x0,_0x2d1d76=!0x1,_0x2245c6=null,_0x12e4a3=null,_0x38a104=null,_0x4de665=null,_0x3fe720=null,_0x20ad04['set'](0x0,0x0,_0x121425['canvas']['width'],_0x121425['canvas']['height']),_0x1ace29['set'](0x0,0x0,_0x121425['canvas']['width'],_0x121425['canvas']['height']),_0x1a13a5['reset'](),_0x418126['reset'](),_0x16f807['reset']();}};}function _0x151b75(_0x21034b,_0x6f24c4,_0x24f945,_0x1ef763,_0x45a383,_0x4b7817,_0x4aaefd){const _0x19fbfd=_0x6f24c4['has']('WEBGL_multisampled_render_to_texture')?_0x6f24c4['get']('WEBGL_multisampled_render_to_texture'):null,_0x523676='undefined'!=typeof navigator&&/OculusBrowser/g['test'](navigator['userAgent']),_0x11bbfe=new _0x46094d['I9Y'](),_0x283a8c=new WeakMap();let _0x270193;const _0x36cf61=new WeakMap();let _0x433613=!0x1;try{_0x433613='undefined'!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(0x1,0x1)['getContext']('2d');}catch(_0x179b8d){}function _0x4faafe(_0x4f9bbc,_0x3a5be5){return _0x433613?new OffscreenCanvas(_0x4f9bbc,_0x3a5be5):(0x0,_0x46094d['qq$'])('canvas');}function _0x56ffca(_0x15c35b,_0x156538,_0x51617d){let _0x1a67d6=0x1;const _0x518394=_0xe856d5(_0x15c35b);if((_0x518394['width']>_0x51617d||_0x518394['height']>_0x51617d)&&(_0x1a67d6=_0x51617d/Math['max'](_0x518394['width'],_0x518394['height'])),_0x1a67d6<0x1){if('undefined'!=typeof HTMLImageElement&&_0x15c35b instanceof HTMLImageElement||'undefined'!=typeof HTMLCanvasElement&&_0x15c35b instanceof HTMLCanvasElement||'undefined'!=typeof ImageBitmap&&_0x15c35b instanceof ImageBitmap||'undefined'!=typeof VideoFrame&&_0x15c35b instanceof VideoFrame){const _0x31a3ac=Math['floor'](_0x1a67d6*_0x518394['width']),_0x304333=Math['floor'](_0x1a67d6*_0x518394['height']);void 0x0===_0x270193&&(_0x270193=_0x4faafe(_0x31a3ac,_0x304333));const _0x94278=_0x156538?_0x4faafe(_0x31a3ac,_0x304333):_0x270193;return _0x94278['width']=_0x31a3ac,_0x94278['height']=_0x304333,(_0x94278['getContext']('2d')['drawImage'](_0x15c35b,0x0,0x0,_0x31a3ac,_0x304333),console['warn']('THREE.WebGLRenderer:\x20Texture\x20has\x20been\x20resized\x20from\x20('+_0x518394['width']+'x'+_0x518394['height']+')\x20to\x20('+_0x31a3ac+'x'+_0x304333+').'),_0x94278);}return'data'in _0x15c35b&&console['warn']('THREE.WebGLRenderer:\x20Image\x20in\x20DataTexture\x20is\x20too\x20big\x20('+_0x518394['width']+'x'+_0x518394['height']+').'),_0x15c35b;}return _0x15c35b;}function _0xf4df59(_0x109e69){return _0x109e69['generateMipmaps'];}function _0x220a57(_0xa3fb7d){_0x21034b['generateMipmap'](_0xa3fb7d);}function _0x3394d9(_0x509296){return _0x509296['isWebGLCubeRenderTarget']?_0x21034b['TEXTURE_CUBE_MAP']:_0x509296['isWebGL3DRenderTarget']?_0x21034b['TEXTURE_3D']:_0x509296['isWebGLArrayRenderTarget']||_0x509296['isCompressedArrayTexture']?_0x21034b['TEXTURE_2D_ARRAY']:_0x21034b['TEXTURE_2D'];}function _0x1a0fc7(_0x287e89,_0x5968b0,_0x5831af,_0x162df6,_0x2b7f29=!0x1){if(null!==_0x287e89){if(void 0x0!==_0x21034b[_0x287e89])return _0x21034b[_0x287e89];console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20use\x20non-existing\x20WebGL\x20internal\x20format\x20\x27'+_0x287e89+'\x27');}let _0x3fb364=_0x5968b0;if(_0x5968b0===_0x21034b['RED']&&(_0x5831af===_0x21034b['FLOAT']&&(_0x3fb364=_0x21034b['R32F']),_0x5831af===_0x21034b['HALF_FLOAT']&&(_0x3fb364=_0x21034b['R16F']),_0x5831af===_0x21034b['UNSIGNED_BYTE']&&(_0x3fb364=_0x21034b['R8'])),_0x5968b0===_0x21034b['RED_INTEGER']&&(_0x5831af===_0x21034b['UNSIGNED_BYTE']&&(_0x3fb364=_0x21034b['R8UI']),_0x5831af===_0x21034b['UNSIGNED_SHORT']&&(_0x3fb364=_0x21034b['R16UI']),_0x5831af===_0x21034b['UNSIGNED_INT']&&(_0x3fb364=_0x21034b['R32UI']),_0x5831af===_0x21034b['BYTE']&&(_0x3fb364=_0x21034b['R8I']),_0x5831af===_0x21034b['SHORT']&&(_0x3fb364=_0x21034b['R16I']),_0x5831af===_0x21034b['INT']&&(_0x3fb364=_0x21034b['R32I'])),_0x5968b0===_0x21034b['RG']&&(_0x5831af===_0x21034b['FLOAT']&&(_0x3fb364=_0x21034b['RG32F']),_0x5831af===_0x21034b['HALF_FLOAT']&&(_0x3fb364=_0x21034b['RG16F']),_0x5831af===_0x21034b['UNSIGNED_BYTE']&&(_0x3fb364=_0x21034b['RG8'])),_0x5968b0===_0x21034b['RG_INTEGER']&&(_0x5831af===_0x21034b['UNSIGNED_BYTE']&&(_0x3fb364=_0x21034b['RG8UI']),_0x5831af===_0x21034b['UNSIGNED_SHORT']&&(_0x3fb364=_0x21034b['RG16UI']),_0x5831af===_0x21034b['UNSIGNED_INT']&&(_0x3fb364=_0x21034b['RG32UI']),_0x5831af===_0x21034b['BYTE']&&(_0x3fb364=_0x21034b['RG8I']),_0x5831af===_0x21034b['SHORT']&&(_0x3fb364=_0x21034b['RG16I']),_0x5831af===_0x21034b['INT']&&(_0x3fb364=_0x21034b['RG32I'])),_0x5968b0===_0x21034b['RGB_INTEGER']&&(_0x5831af===_0x21034b['UNSIGNED_BYTE']&&(_0x3fb364=_0x21034b['RGB8UI']),_0x5831af===_0x21034b['UNSIGNED_SHORT']&&(_0x3fb364=_0x21034b['RGB16UI']),_0x5831af===_0x21034b['UNSIGNED_INT']&&(_0x3fb364=_0x21034b['RGB32UI']),_0x5831af===_0x21034b['BYTE']&&(_0x3fb364=_0x21034b['RGB8I']),_0x5831af===_0x21034b['SHORT']&&(_0x3fb364=_0x21034b['RGB16I']),_0x5831af===_0x21034b['INT']&&(_0x3fb364=_0x21034b['RGB32I'])),_0x5968b0===_0x21034b['RGBA_INTEGER']&&(_0x5831af===_0x21034b['UNSIGNED_BYTE']&&(_0x3fb364=_0x21034b['RGBA8UI']),_0x5831af===_0x21034b['UNSIGNED_SHORT']&&(_0x3fb364=_0x21034b['RGBA16UI']),_0x5831af===_0x21034b['UNSIGNED_INT']&&(_0x3fb364=_0x21034b['RGBA32UI']),_0x5831af===_0x21034b['BYTE']&&(_0x3fb364=_0x21034b['RGBA8I']),_0x5831af===_0x21034b['SHORT']&&(_0x3fb364=_0x21034b['RGBA16I']),_0x5831af===_0x21034b['INT']&&(_0x3fb364=_0x21034b['RGBA32I'])),_0x5968b0===_0x21034b['RGB']&&_0x5831af===_0x21034b['UNSIGNED_INT_5_9_9_9_REV']&&(_0x3fb364=_0x21034b['RGB9_E5']),_0x5968b0===_0x21034b['RGBA']){const _0x4dd469=_0x2b7f29?_0x46094d['VxR']:_0x46094d['ppV']['getTransfer'](_0x162df6);_0x5831af===_0x21034b['FLOAT']&&(_0x3fb364=_0x21034b['RGBA32F']),_0x5831af===_0x21034b['HALF_FLOAT']&&(_0x3fb364=_0x21034b['RGBA16F']),_0x5831af===_0x21034b['UNSIGNED_BYTE']&&(_0x3fb364=_0x4dd469===_0x46094d['KLL']?_0x21034b['SRGB8_ALPHA8']:_0x21034b['RGBA8']),_0x5831af===_0x21034b['UNSIGNED_SHORT_4_4_4_4']&&(_0x3fb364=_0x21034b['RGBA4']),_0x5831af===_0x21034b['UNSIGNED_SHORT_5_5_5_1']&&(_0x3fb364=_0x21034b['RGB5_A1']);}return _0x3fb364!==_0x21034b['R16F']&&_0x3fb364!==_0x21034b['R32F']&&_0x3fb364!==_0x21034b['RG16F']&&_0x3fb364!==_0x21034b['RG32F']&&_0x3fb364!==_0x21034b['RGBA16F']&&_0x3fb364!==_0x21034b['RGBA32F']||_0x6f24c4['get']('EXT_color_buffer_float'),_0x3fb364;}function _0x203a6d(_0x508a30,_0x25fd11){let _0x2eba83;return _0x508a30?null===_0x25fd11||_0x25fd11===_0x46094d['bkx']||_0x25fd11===_0x46094d['V3x']?_0x2eba83=_0x21034b['DEPTH24_STENCIL8']:_0x25fd11===_0x46094d['RQf']?_0x2eba83=_0x21034b['DEPTH32F_STENCIL8']:_0x25fd11===_0x46094d['cHt']&&(_0x2eba83=_0x21034b['DEPTH24_STENCIL8'],console['warn']('DepthTexture:\x2016\x20bit\x20depth\x20attachment\x20is\x20not\x20supported\x20with\x20stencil.\x20Using\x2024-bit\x20attachment.')):null===_0x25fd11||_0x25fd11===_0x46094d['bkx']||_0x25fd11===_0x46094d['V3x']?_0x2eba83=_0x21034b['DEPTH_COMPONENT24']:_0x25fd11===_0x46094d['RQf']?_0x2eba83=_0x21034b['DEPTH_COMPONENT32F']:_0x25fd11===_0x46094d['cHt']&&(_0x2eba83=_0x21034b['DEPTH_COMPONENT16']),_0x2eba83;}function _0x458511(_0x338983,_0x27e680){return!0x0===_0xf4df59(_0x338983)||_0x338983['isFramebufferTexture']&&_0x338983['minFilter']!==_0x46094d['hxR']&&_0x338983['minFilter']!==_0x46094d['k6q']?Math['log2'](Math['max'](_0x27e680['width'],_0x27e680['height']))+0x1:void 0x0!==_0x338983['mipmaps']&&_0x338983['mipmaps']['length']>0x0?_0x338983['mipmaps']['length']:_0x338983['isCompressedTexture']&&Array['isArray'](_0x338983['image'])?_0x27e680['mipmaps']['length']:0x1;}function _0x314743(_0x44958d){const _0x45b22=_0x44958d['target'];_0x45b22['removeEventListener']('dispose',_0x314743),function(_0x1f4898){const _0x5164ba=_0x1ef763['get'](_0x1f4898);if(void 0x0===_0x5164ba['__webglInit'])return;const _0x46dee0=_0x1f4898['source'],_0x23bf72=_0x36cf61['get'](_0x46dee0);if(_0x23bf72){const _0x3f2511=_0x23bf72[_0x5164ba['__cacheKey']];_0x3f2511['usedTimes']--,0x0===_0x3f2511['usedTimes']&&_0x5ebf42(_0x1f4898),0x0===Object['keys'](_0x23bf72)['length']&&_0x36cf61['delete'](_0x46dee0);}_0x1ef763['remove'](_0x1f4898);}(_0x45b22),_0x45b22['isVideoTexture']&&_0x283a8c['delete'](_0x45b22);}function _0x224e3d(_0x3358c2){const _0x326667=_0x3358c2['target'];_0x326667['removeEventListener']('dispose',_0x224e3d),function(_0x518644){const _0x48e8c0=_0x1ef763['get'](_0x518644);_0x518644['depthTexture']&&(_0x518644['depthTexture']['dispose'](),_0x1ef763['remove'](_0x518644['depthTexture']));if(_0x518644['isWebGLCubeRenderTarget'])for(let _0x258a72=0x0;_0x258a72<0x6;_0x258a72++){if(Array['isArray'](_0x48e8c0['__webglFramebuffer'][_0x258a72])){for(let _0x90a4ef=0x0;_0x90a4ef<_0x48e8c0['__webglFramebuffer'][_0x258a72]['length'];_0x90a4ef++)_0x21034b['deleteFramebuffer'](_0x48e8c0['__webglFramebuffer'][_0x258a72][_0x90a4ef]);}else _0x21034b['deleteFramebuffer'](_0x48e8c0['__webglFramebuffer'][_0x258a72]);_0x48e8c0['__webglDepthbuffer']&&_0x21034b['deleteRenderbuffer'](_0x48e8c0['__webglDepthbuffer'][_0x258a72]);}else{if(Array['isArray'](_0x48e8c0['__webglFramebuffer'])){for(let _0x56ace4=0x0;_0x56ace4<_0x48e8c0['__webglFramebuffer']['length'];_0x56ace4++)_0x21034b['deleteFramebuffer'](_0x48e8c0['__webglFramebuffer'][_0x56ace4]);}else _0x21034b['deleteFramebuffer'](_0x48e8c0['__webglFramebuffer']);if(_0x48e8c0['__webglDepthbuffer']&&_0x21034b['deleteRenderbuffer'](_0x48e8c0['__webglDepthbuffer']),_0x48e8c0['__webglMultisampledFramebuffer']&&_0x21034b['deleteFramebuffer'](_0x48e8c0['__webglMultisampledFramebuffer']),_0x48e8c0['__webglColorRenderbuffer']){for(let _0x1af1dc=0x0;_0x1af1dc<_0x48e8c0['__webglColorRenderbuffer']['length'];_0x1af1dc++)_0x48e8c0['__webglColorRenderbuffer'][_0x1af1dc]&&_0x21034b['deleteRenderbuffer'](_0x48e8c0['__webglColorRenderbuffer'][_0x1af1dc]);}_0x48e8c0['__webglDepthRenderbuffer']&&_0x21034b['deleteRenderbuffer'](_0x48e8c0['__webglDepthRenderbuffer']);}const _0x253978=_0x518644['textures'];for(let _0x2f89e7=0x0,_0x2c431c=_0x253978['length'];_0x2f89e7<_0x2c431c;_0x2f89e7++){const _0x3bc38d=_0x1ef763['get'](_0x253978[_0x2f89e7]);_0x3bc38d['__webglTexture']&&(_0x21034b['deleteTexture'](_0x3bc38d['__webglTexture']),_0x4aaefd['memory']['textures']--),_0x1ef763['remove'](_0x253978[_0x2f89e7]);}_0x1ef763['remove'](_0x518644);}(_0x326667);}function _0x5ebf42(_0x4b28a7){const _0x1dd6f9=_0x1ef763['get'](_0x4b28a7);_0x21034b['deleteTexture'](_0x1dd6f9['__webglTexture']);const _0x438675=_0x4b28a7['source'];delete _0x36cf61['get'](_0x438675)[_0x1dd6f9['__cacheKey']],_0x4aaefd['memory']['textures']--;}let _0x3fd7ac=0x0;function _0x4a5d5f(_0x578da5,_0x3859d9){const _0x2972f9=_0x1ef763['get'](_0x578da5);if(_0x578da5['isVideoTexture']&&function(_0x5625cb){const _0x4a9b18=_0x4aaefd['render']['frame'];_0x283a8c['get'](_0x5625cb)!==_0x4a9b18&&(_0x283a8c['set'](_0x5625cb,_0x4a9b18),_0x5625cb['update']());}(_0x578da5),!0x1===_0x578da5['isRenderTargetTexture']&&_0x578da5['version']>0x0&&_0x2972f9['__version']!==_0x578da5['version']){const _0x47c6b4=_0x578da5['image'];if(null===_0x47c6b4)console['warn']('THREE.WebGLRenderer:\x20Texture\x20marked\x20for\x20update\x20but\x20no\x20image\x20data\x20found.');else{if(!0x1!==_0x47c6b4['complete'])return void _0x124547(_0x2972f9,_0x578da5,_0x3859d9);console['warn']('THREE.WebGLRenderer:\x20Texture\x20marked\x20for\x20update\x20but\x20image\x20is\x20incomplete');}}_0x24f945['bindTexture'](_0x21034b['TEXTURE_2D'],_0x2972f9['__webglTexture'],_0x21034b['TEXTURE0']+_0x3859d9);}const _0x394b4e={[_0x46094d['GJx']]:_0x21034b['REPEAT'],[_0x46094d['ghU']]:_0x21034b['CLAMP_TO_EDGE'],[_0x46094d['kTW']]:_0x21034b['MIRRORED_REPEAT']},_0xf944a5={[_0x46094d['hxR']]:_0x21034b['NEAREST'],[_0x46094d['pHI']]:_0x21034b['NEAREST_MIPMAP_NEAREST'],[_0x46094d['Cfg']]:_0x21034b['NEAREST_MIPMAP_LINEAR'],[_0x46094d['k6q']]:_0x21034b['LINEAR'],[_0x46094d['kRr']]:_0x21034b['LINEAR_MIPMAP_NEAREST'],[_0x46094d['$_I']]:_0x21034b['LINEAR_MIPMAP_LINEAR']},_0x148e7c={[_0x46094d['amv']]:_0x21034b['NEVER'],[_0x46094d['FFZ']]:_0x21034b['ALWAYS'],[_0x46094d['vim']]:_0x21034b['LESS'],[_0x46094d['TiK']]:_0x21034b['LEQUAL'],[_0x46094d['kO0']]:_0x21034b['EQUAL'],[_0x46094d['gWB']]:_0x21034b['GEQUAL'],[_0x46094d['eoi']]:_0x21034b['GREATER'],[_0x46094d['jzd']]:_0x21034b['NOTEQUAL']};function _0x5460dd(_0xdb449c,_0x350b74){if(_0x350b74['type']!==_0x46094d['RQf']||!0x1!==_0x6f24c4['has']('OES_texture_float_linear')||_0x350b74['magFilter']!==_0x46094d['k6q']&&_0x350b74['magFilter']!==_0x46094d['kRr']&&_0x350b74['magFilter']!==_0x46094d['Cfg']&&_0x350b74['magFilter']!==_0x46094d['$_I']&&_0x350b74['minFilter']!==_0x46094d['k6q']&&_0x350b74['minFilter']!==_0x46094d['kRr']&&_0x350b74['minFilter']!==_0x46094d['Cfg']&&_0x350b74['minFilter']!==_0x46094d['$_I']||console['warn']('THREE.WebGLRenderer:\x20Unable\x20to\x20use\x20linear\x20filtering\x20with\x20floating\x20point\x20textures.\x20OES_texture_float_linear\x20not\x20supported\x20on\x20this\x20device.'),_0x21034b['texParameteri'](_0xdb449c,_0x21034b['TEXTURE_WRAP_S'],_0x394b4e[_0x350b74['wrapS']]),_0x21034b['texParameteri'](_0xdb449c,_0x21034b['TEXTURE_WRAP_T'],_0x394b4e[_0x350b74['wrapT']]),_0xdb449c!==_0x21034b['TEXTURE_3D']&&_0xdb449c!==_0x21034b['TEXTURE_2D_ARRAY']||_0x21034b['texParameteri'](_0xdb449c,_0x21034b['TEXTURE_WRAP_R'],_0x394b4e[_0x350b74['wrapR']]),_0x21034b['texParameteri'](_0xdb449c,_0x21034b['TEXTURE_MAG_FILTER'],_0xf944a5[_0x350b74['magFilter']]),_0x21034b['texParameteri'](_0xdb449c,_0x21034b['TEXTURE_MIN_FILTER'],_0xf944a5[_0x350b74['minFilter']]),_0x350b74['compareFunction']&&(_0x21034b['texParameteri'](_0xdb449c,_0x21034b['TEXTURE_COMPARE_MODE'],_0x21034b['COMPARE_REF_TO_TEXTURE']),_0x21034b['texParameteri'](_0xdb449c,_0x21034b['TEXTURE_COMPARE_FUNC'],_0x148e7c[_0x350b74['compareFunction']])),!0x0===_0x6f24c4['has']('EXT_texture_filter_anisotropic')){if(_0x350b74['magFilter']===_0x46094d['hxR'])return;if(_0x350b74['minFilter']!==_0x46094d['Cfg']&&_0x350b74['minFilter']!==_0x46094d['$_I'])return;if(_0x350b74['type']===_0x46094d['RQf']&&!0x1===_0x6f24c4['has']('OES_texture_float_linear'))return;if(_0x350b74['anisotropy']>0x1||_0x1ef763['get'](_0x350b74)['__currentAnisotropy']){const _0x27f809=_0x6f24c4['get']('EXT_texture_filter_anisotropic');_0x21034b['texParameterf'](_0xdb449c,_0x27f809['TEXTURE_MAX_ANISOTROPY_EXT'],Math['min'](_0x350b74['anisotropy'],_0x45a383['getMaxAnisotropy']())),_0x1ef763['get'](_0x350b74)['__currentAnisotropy']=_0x350b74['anisotropy'];}}}function _0xbc9c2(_0x455063,_0x16257a){let _0x2d907a=!0x1;void 0x0===_0x455063['__webglInit']&&(_0x455063['__webglInit']=!0x0,_0x16257a['addEventListener']('dispose',_0x314743));const _0x1abf8a=_0x16257a['source'];let _0x478a7a=_0x36cf61['get'](_0x1abf8a);void 0x0===_0x478a7a&&(_0x478a7a={},_0x36cf61['set'](_0x1abf8a,_0x478a7a));const _0x283b2f=function(_0xe95219){const _0x3e8de2=[];return _0x3e8de2['push'](_0xe95219['wrapS']),_0x3e8de2['push'](_0xe95219['wrapT']),_0x3e8de2['push'](_0xe95219['wrapR']||0x0),_0x3e8de2['push'](_0xe95219['magFilter']),_0x3e8de2['push'](_0xe95219['minFilter']),_0x3e8de2['push'](_0xe95219['anisotropy']),_0x3e8de2['push'](_0xe95219['internalFormat']),_0x3e8de2['push'](_0xe95219['format']),_0x3e8de2['push'](_0xe95219['type']),_0x3e8de2['push'](_0xe95219['generateMipmaps']),_0x3e8de2['push'](_0xe95219['premultiplyAlpha']),_0x3e8de2['push'](_0xe95219['flipY']),_0x3e8de2['push'](_0xe95219['unpackAlignment']),_0x3e8de2['push'](_0xe95219['colorSpace']),_0x3e8de2['join']();}(_0x16257a);if(_0x283b2f!==_0x455063['__cacheKey']){void 0x0===_0x478a7a[_0x283b2f]&&(_0x478a7a[_0x283b2f]={'texture':_0x21034b['createTexture'](),'usedTimes':0x0},_0x4aaefd['memory']['textures']++,_0x2d907a=!0x0),_0x478a7a[_0x283b2f]['usedTimes']++;const _0x6af040=_0x478a7a[_0x455063['__cacheKey']];void 0x0!==_0x6af040&&(_0x478a7a[_0x455063['__cacheKey']]['usedTimes']--,0x0===_0x6af040['usedTimes']&&_0x5ebf42(_0x16257a)),_0x455063['__cacheKey']=_0x283b2f,_0x455063['__webglTexture']=_0x478a7a[_0x283b2f]['texture'];}return _0x2d907a;}function _0x124547(_0x4c1a04,_0x31ef52,_0x472e03){let _0x2eba6d=_0x21034b['TEXTURE_2D'];(_0x31ef52['isDataArrayTexture']||_0x31ef52['isCompressedArrayTexture'])&&(_0x2eba6d=_0x21034b['TEXTURE_2D_ARRAY']),_0x31ef52['isData3DTexture']&&(_0x2eba6d=_0x21034b['TEXTURE_3D']);const _0x2dc207=_0xbc9c2(_0x4c1a04,_0x31ef52),_0x5ec1b9=_0x31ef52['source'];_0x24f945['bindTexture'](_0x2eba6d,_0x4c1a04['__webglTexture'],_0x21034b['TEXTURE0']+_0x472e03);const _0x333ae4=_0x1ef763['get'](_0x5ec1b9);if(_0x5ec1b9['version']!==_0x333ae4['__version']||!0x0===_0x2dc207){_0x24f945['activeTexture'](_0x21034b['TEXTURE0']+_0x472e03);const _0x396b73=_0x46094d['ppV']['getPrimaries'](_0x46094d['ppV']['workingColorSpace']),_0x491fd3=_0x31ef52['colorSpace']===_0x46094d['jf0']?null:_0x46094d['ppV']['getPrimaries'](_0x31ef52['colorSpace']),_0x276710=_0x31ef52['colorSpace']===_0x46094d['jf0']||_0x396b73===_0x491fd3?_0x21034b['NONE']:_0x21034b['BROWSER_DEFAULT_WEBGL'];_0x21034b['pixelStorei'](_0x21034b['UNPACK_FLIP_Y_WEBGL'],_0x31ef52['flipY']),_0x21034b['pixelStorei'](_0x21034b['UNPACK_PREMULTIPLY_ALPHA_WEBGL'],_0x31ef52['premultiplyAlpha']),_0x21034b['pixelStorei'](_0x21034b['UNPACK_ALIGNMENT'],_0x31ef52['unpackAlignment']),_0x21034b['pixelStorei'](_0x21034b['UNPACK_COLORSPACE_CONVERSION_WEBGL'],_0x276710);let _0x496c1e=_0x56ffca(_0x31ef52['image'],!0x1,_0x45a383['maxTextureSize']);_0x496c1e=_0x11a0bb(_0x31ef52,_0x496c1e);const _0x59d111=_0x4b7817['convert'](_0x31ef52['format'],_0x31ef52['colorSpace']),_0x123283=_0x4b7817['convert'](_0x31ef52['type']);let _0x92f603,_0x1c8fd6=_0x1a0fc7(_0x31ef52['internalFormat'],_0x59d111,_0x123283,_0x31ef52['colorSpace'],_0x31ef52['isVideoTexture']);_0x5460dd(_0x2eba6d,_0x31ef52);const _0x35dbab=_0x31ef52['mipmaps'],_0x58fd0d=!0x0!==_0x31ef52['isVideoTexture'],_0x18776d=void 0x0===_0x333ae4['__version']||!0x0===_0x2dc207,_0x7be195=_0x5ec1b9['dataReady'],_0x2682e8=_0x458511(_0x31ef52,_0x496c1e);if(_0x31ef52['isDepthTexture'])_0x1c8fd6=_0x203a6d(_0x31ef52['format']===_0x46094d['dcC'],_0x31ef52['type']),_0x18776d&&(_0x58fd0d?_0x24f945['texStorage2D'](_0x21034b['TEXTURE_2D'],0x1,_0x1c8fd6,_0x496c1e['width'],_0x496c1e['height']):_0x24f945['texImage2D'](_0x21034b['TEXTURE_2D'],0x0,_0x1c8fd6,_0x496c1e['width'],_0x496c1e['height'],0x0,_0x59d111,_0x123283,null));else{if(_0x31ef52['isDataTexture']){if(_0x35dbab['length']>0x0){_0x58fd0d&&_0x18776d&&_0x24f945['texStorage2D'](_0x21034b['TEXTURE_2D'],_0x2682e8,_0x1c8fd6,_0x35dbab[0x0]['width'],_0x35dbab[0x0]['height']);for(let _0x4a2cc7=0x0,_0x2996e5=_0x35dbab['length'];_0x4a2cc7<_0x2996e5;_0x4a2cc7++)_0x92f603=_0x35dbab[_0x4a2cc7],_0x58fd0d?_0x7be195&&_0x24f945['texSubImage2D'](_0x21034b['TEXTURE_2D'],_0x4a2cc7,0x0,0x0,_0x92f603['width'],_0x92f603['height'],_0x59d111,_0x123283,_0x92f603['data']):_0x24f945['texImage2D'](_0x21034b['TEXTURE_2D'],_0x4a2cc7,_0x1c8fd6,_0x92f603['width'],_0x92f603['height'],0x0,_0x59d111,_0x123283,_0x92f603['data']);_0x31ef52['generateMipmaps']=!0x1;}else _0x58fd0d?(_0x18776d&&_0x24f945['texStorage2D'](_0x21034b['TEXTURE_2D'],_0x2682e8,_0x1c8fd6,_0x496c1e['width'],_0x496c1e['height']),_0x7be195&&_0x24f945['texSubImage2D'](_0x21034b['TEXTURE_2D'],0x0,0x0,0x0,_0x496c1e['width'],_0x496c1e['height'],_0x59d111,_0x123283,_0x496c1e['data'])):_0x24f945['texImage2D'](_0x21034b['TEXTURE_2D'],0x0,_0x1c8fd6,_0x496c1e['width'],_0x496c1e['height'],0x0,_0x59d111,_0x123283,_0x496c1e['data']);}else{if(_0x31ef52['isCompressedTexture']){if(_0x31ef52['isCompressedArrayTexture']){_0x58fd0d&&_0x18776d&&_0x24f945['texStorage3D'](_0x21034b['TEXTURE_2D_ARRAY'],_0x2682e8,_0x1c8fd6,_0x35dbab[0x0]['width'],_0x35dbab[0x0]['height'],_0x496c1e['depth']);for(let _0x171362=0x0,_0x51bb6b=_0x35dbab['length'];_0x171362<_0x51bb6b;_0x171362++)if(_0x92f603=_0x35dbab[_0x171362],_0x31ef52['format']!==_0x46094d['GWd']){if(null!==_0x59d111){if(_0x58fd0d){if(_0x7be195){if(_0x31ef52['layerUpdates']['size']>0x0){const _0x27d337=(0x0,_0x46094d['Nex'])(_0x92f603['width'],_0x92f603['height'],_0x31ef52['format'],_0x31ef52['type']);for(const _0x368810 of _0x31ef52['layerUpdates']){const _0x10f1be=_0x92f603['data']['subarray'](_0x368810*_0x27d337/_0x92f603['data']['BYTES_PER_ELEMENT'],(_0x368810+0x1)*_0x27d337/_0x92f603['data']['BYTES_PER_ELEMENT']);_0x24f945['compressedTexSubImage3D'](_0x21034b['TEXTURE_2D_ARRAY'],_0x171362,0x0,0x0,_0x368810,_0x92f603['width'],_0x92f603['height'],0x1,_0x59d111,_0x10f1be);}_0x31ef52['clearLayerUpdates']();}else _0x24f945['compressedTexSubImage3D'](_0x21034b['TEXTURE_2D_ARRAY'],_0x171362,0x0,0x0,0x0,_0x92f603['width'],_0x92f603['height'],_0x496c1e['depth'],_0x59d111,_0x92f603['data']);}}else _0x24f945['compressedTexImage3D'](_0x21034b['TEXTURE_2D_ARRAY'],_0x171362,_0x1c8fd6,_0x92f603['width'],_0x92f603['height'],_0x496c1e['depth'],0x0,_0x92f603['data'],0x0,0x0);}else console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20load\x20unsupported\x20compressed\x20texture\x20format\x20in\x20.uploadTexture()');}else _0x58fd0d?_0x7be195&&_0x24f945['texSubImage3D'](_0x21034b['TEXTURE_2D_ARRAY'],_0x171362,0x0,0x0,0x0,_0x92f603['width'],_0x92f603['height'],_0x496c1e['depth'],_0x59d111,_0x123283,_0x92f603['data']):_0x24f945['texImage3D'](_0x21034b['TEXTURE_2D_ARRAY'],_0x171362,_0x1c8fd6,_0x92f603['width'],_0x92f603['height'],_0x496c1e['depth'],0x0,_0x59d111,_0x123283,_0x92f603['data']);}else{_0x58fd0d&&_0x18776d&&_0x24f945['texStorage2D'](_0x21034b['TEXTURE_2D'],_0x2682e8,_0x1c8fd6,_0x35dbab[0x0]['width'],_0x35dbab[0x0]['height']);for(let _0x4f3f9a=0x0,_0x481c3f=_0x35dbab['length'];_0x4f3f9a<_0x481c3f;_0x4f3f9a++)_0x92f603=_0x35dbab[_0x4f3f9a],_0x31ef52['format']!==_0x46094d['GWd']?null!==_0x59d111?_0x58fd0d?_0x7be195&&_0x24f945['compressedTexSubImage2D'](_0x21034b['TEXTURE_2D'],_0x4f3f9a,0x0,0x0,_0x92f603['width'],_0x92f603['height'],_0x59d111,_0x92f603['data']):_0x24f945['compressedTexImage2D'](_0x21034b['TEXTURE_2D'],_0x4f3f9a,_0x1c8fd6,_0x92f603['width'],_0x92f603['height'],0x0,_0x92f603['data']):console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20load\x20unsupported\x20compressed\x20texture\x20format\x20in\x20.uploadTexture()'):_0x58fd0d?_0x7be195&&_0x24f945['texSubImage2D'](_0x21034b['TEXTURE_2D'],_0x4f3f9a,0x0,0x0,_0x92f603['width'],_0x92f603['height'],_0x59d111,_0x123283,_0x92f603['data']):_0x24f945['texImage2D'](_0x21034b['TEXTURE_2D'],_0x4f3f9a,_0x1c8fd6,_0x92f603['width'],_0x92f603['height'],0x0,_0x59d111,_0x123283,_0x92f603['data']);}}else{if(_0x31ef52['isDataArrayTexture']){if(_0x58fd0d){if(_0x18776d&&_0x24f945['texStorage3D'](_0x21034b['TEXTURE_2D_ARRAY'],_0x2682e8,_0x1c8fd6,_0x496c1e['width'],_0x496c1e['height'],_0x496c1e['depth']),_0x7be195){if(_0x31ef52['layerUpdates']['size']>0x0){const _0x41a3a5=(0x0,_0x46094d['Nex'])(_0x496c1e['width'],_0x496c1e['height'],_0x31ef52['format'],_0x31ef52['type']);for(const _0x1aa1c6 of _0x31ef52['layerUpdates']){const _0x1005f0=_0x496c1e['data']['subarray'](_0x1aa1c6*_0x41a3a5/_0x496c1e['data']['BYTES_PER_ELEMENT'],(_0x1aa1c6+0x1)*_0x41a3a5/_0x496c1e['data']['BYTES_PER_ELEMENT']);_0x24f945['texSubImage3D'](_0x21034b['TEXTURE_2D_ARRAY'],0x0,0x0,0x0,_0x1aa1c6,_0x496c1e['width'],_0x496c1e['height'],0x1,_0x59d111,_0x123283,_0x1005f0);}_0x31ef52['clearLayerUpdates']();}else _0x24f945['texSubImage3D'](_0x21034b['TEXTURE_2D_ARRAY'],0x0,0x0,0x0,0x0,_0x496c1e['width'],_0x496c1e['height'],_0x496c1e['depth'],_0x59d111,_0x123283,_0x496c1e['data']);}}else _0x24f945['texImage3D'](_0x21034b['TEXTURE_2D_ARRAY'],0x0,_0x1c8fd6,_0x496c1e['width'],_0x496c1e['height'],_0x496c1e['depth'],0x0,_0x59d111,_0x123283,_0x496c1e['data']);}else{if(_0x31ef52['isData3DTexture'])_0x58fd0d?(_0x18776d&&_0x24f945['texStorage3D'](_0x21034b['TEXTURE_3D'],_0x2682e8,_0x1c8fd6,_0x496c1e['width'],_0x496c1e['height'],_0x496c1e['depth']),_0x7be195&&_0x24f945['texSubImage3D'](_0x21034b['TEXTURE_3D'],0x0,0x0,0x0,0x0,_0x496c1e['width'],_0x496c1e['height'],_0x496c1e['depth'],_0x59d111,_0x123283,_0x496c1e['data'])):_0x24f945['texImage3D'](_0x21034b['TEXTURE_3D'],0x0,_0x1c8fd6,_0x496c1e['width'],_0x496c1e['height'],_0x496c1e['depth'],0x0,_0x59d111,_0x123283,_0x496c1e['data']);else{if(_0x31ef52['isFramebufferTexture']){if(_0x18776d){if(_0x58fd0d)_0x24f945['texStorage2D'](_0x21034b['TEXTURE_2D'],_0x2682e8,_0x1c8fd6,_0x496c1e['width'],_0x496c1e['height']);else{let _0x55cd88=_0x496c1e['width'],_0x4fe603=_0x496c1e['height'];for(let _0x3e5b3c=0x0;_0x3e5b3c<_0x2682e8;_0x3e5b3c++)_0x24f945['texImage2D'](_0x21034b['TEXTURE_2D'],_0x3e5b3c,_0x1c8fd6,_0x55cd88,_0x4fe603,0x0,_0x59d111,_0x123283,null),_0x55cd88>>=0x1,_0x4fe603>>=0x1;}}}else{if(_0x35dbab['length']>0x0){if(_0x58fd0d&&_0x18776d){const _0x61f836=_0xe856d5(_0x35dbab[0x0]);_0x24f945['texStorage2D'](_0x21034b['TEXTURE_2D'],_0x2682e8,_0x1c8fd6,_0x61f836['width'],_0x61f836['height']);}for(let _0x1dd369=0x0,_0xf6cf19=_0x35dbab['length'];_0x1dd369<_0xf6cf19;_0x1dd369++)_0x92f603=_0x35dbab[_0x1dd369],_0x58fd0d?_0x7be195&&_0x24f945['texSubImage2D'](_0x21034b['TEXTURE_2D'],_0x1dd369,0x0,0x0,_0x59d111,_0x123283,_0x92f603):_0x24f945['texImage2D'](_0x21034b['TEXTURE_2D'],_0x1dd369,_0x1c8fd6,_0x59d111,_0x123283,_0x92f603);_0x31ef52['generateMipmaps']=!0x1;}else{if(_0x58fd0d){if(_0x18776d){const _0xa3eca=_0xe856d5(_0x496c1e);_0x24f945['texStorage2D'](_0x21034b['TEXTURE_2D'],_0x2682e8,_0x1c8fd6,_0xa3eca['width'],_0xa3eca['height']);}_0x7be195&&_0x24f945['texSubImage2D'](_0x21034b['TEXTURE_2D'],0x0,0x0,0x0,_0x59d111,_0x123283,_0x496c1e);}else _0x24f945['texImage2D'](_0x21034b['TEXTURE_2D'],0x0,_0x1c8fd6,_0x59d111,_0x123283,_0x496c1e);}}}}}}}_0xf4df59(_0x31ef52)&&_0x220a57(_0x2eba6d),_0x333ae4['__version']=_0x5ec1b9['version'],_0x31ef52['onUpdate']&&_0x31ef52['onUpdate'](_0x31ef52);}_0x4c1a04['__version']=_0x31ef52['version'];}function _0x9379e1(_0x48c980,_0x3a12b8,_0x5e8501,_0x587cb3,_0x189cb1,_0x2887c5){const _0x4eb518=_0x4b7817['convert'](_0x5e8501['format'],_0x5e8501['colorSpace']),_0x5313e6=_0x4b7817['convert'](_0x5e8501['type']),_0x4051ac=_0x1a0fc7(_0x5e8501['internalFormat'],_0x4eb518,_0x5313e6,_0x5e8501['colorSpace']),_0x373778=_0x1ef763['get'](_0x3a12b8),_0x220d97=_0x1ef763['get'](_0x5e8501);if(_0x220d97['__renderTarget']=_0x3a12b8,!_0x373778['__hasExternalTextures']){const _0x39a2f9=Math['max'](0x1,_0x3a12b8['width']>>_0x2887c5),_0x3157c2=Math['max'](0x1,_0x3a12b8['height']>>_0x2887c5);_0x189cb1===_0x21034b['TEXTURE_3D']||_0x189cb1===_0x21034b['TEXTURE_2D_ARRAY']?_0x24f945['texImage3D'](_0x189cb1,_0x2887c5,_0x4051ac,_0x39a2f9,_0x3157c2,_0x3a12b8['depth'],0x0,_0x4eb518,_0x5313e6,null):_0x24f945['texImage2D'](_0x189cb1,_0x2887c5,_0x4051ac,_0x39a2f9,_0x3157c2,0x0,_0x4eb518,_0x5313e6,null);}_0x24f945['bindFramebuffer'](_0x21034b['FRAMEBUFFER'],_0x48c980),_0x185bd3(_0x3a12b8)?_0x19fbfd['framebufferTexture2DMultisampleEXT'](_0x21034b['FRAMEBUFFER'],_0x587cb3,_0x189cb1,_0x220d97['__webglTexture'],0x0,_0x2c01fc(_0x3a12b8)):(_0x189cb1===_0x21034b['TEXTURE_2D']||_0x189cb1>=_0x21034b['TEXTURE_CUBE_MAP_POSITIVE_X']&&_0x189cb1<=_0x21034b['TEXTURE_CUBE_MAP_NEGATIVE_Z'])&&_0x21034b['framebufferTexture2D'](_0x21034b['FRAMEBUFFER'],_0x587cb3,_0x189cb1,_0x220d97['__webglTexture'],_0x2887c5),_0x24f945['bindFramebuffer'](_0x21034b['FRAMEBUFFER'],null);}function _0x2ea2af(_0x3d11bd,_0x1879fe,_0x53b4ef){if(_0x21034b['bindRenderbuffer'](_0x21034b['RENDERBUFFER'],_0x3d11bd),_0x1879fe['depthBuffer']){const _0x22ead2=_0x1879fe['depthTexture'],_0x1ed1d6=_0x22ead2&&_0x22ead2['isDepthTexture']?_0x22ead2['type']:null,_0x19b667=_0x203a6d(_0x1879fe['stencilBuffer'],_0x1ed1d6),_0x25b089=_0x1879fe['stencilBuffer']?_0x21034b['DEPTH_STENCIL_ATTACHMENT']:_0x21034b['DEPTH_ATTACHMENT'],_0x424029=_0x2c01fc(_0x1879fe);_0x185bd3(_0x1879fe)?_0x19fbfd['renderbufferStorageMultisampleEXT'](_0x21034b['RENDERBUFFER'],_0x424029,_0x19b667,_0x1879fe['width'],_0x1879fe['height']):_0x53b4ef?_0x21034b['renderbufferStorageMultisample'](_0x21034b['RENDERBUFFER'],_0x424029,_0x19b667,_0x1879fe['width'],_0x1879fe['height']):_0x21034b['renderbufferStorage'](_0x21034b['RENDERBUFFER'],_0x19b667,_0x1879fe['width'],_0x1879fe['height']),_0x21034b['framebufferRenderbuffer'](_0x21034b['FRAMEBUFFER'],_0x25b089,_0x21034b['RENDERBUFFER'],_0x3d11bd);}else{const _0x1216fe=_0x1879fe['textures'];for(let _0x360197=0x0;_0x360197<_0x1216fe['length'];_0x360197++){const _0x123224=_0x1216fe[_0x360197],_0x124878=_0x4b7817['convert'](_0x123224['format'],_0x123224['colorSpace']),_0x13dec4=_0x4b7817['convert'](_0x123224['type']),_0x2f24ea=_0x1a0fc7(_0x123224['internalFormat'],_0x124878,_0x13dec4,_0x123224['colorSpace']),_0x47906c=_0x2c01fc(_0x1879fe);_0x53b4ef&&!0x1===_0x185bd3(_0x1879fe)?_0x21034b['renderbufferStorageMultisample'](_0x21034b['RENDERBUFFER'],_0x47906c,_0x2f24ea,_0x1879fe['width'],_0x1879fe['height']):_0x185bd3(_0x1879fe)?_0x19fbfd['renderbufferStorageMultisampleEXT'](_0x21034b['RENDERBUFFER'],_0x47906c,_0x2f24ea,_0x1879fe['width'],_0x1879fe['height']):_0x21034b['renderbufferStorage'](_0x21034b['RENDERBUFFER'],_0x2f24ea,_0x1879fe['width'],_0x1879fe['height']);}}_0x21034b['bindRenderbuffer'](_0x21034b['RENDERBUFFER'],null);}function _0x38984a(_0x3c32b7){const _0x156776=_0x1ef763['get'](_0x3c32b7),_0x123ef7=!0x0===_0x3c32b7['isWebGLCubeRenderTarget'];if(_0x156776['__boundDepthTexture']!==_0x3c32b7['depthTexture']){const _0x3777d4=_0x3c32b7['depthTexture'];if(_0x156776['__depthDisposeCallback']&&_0x156776['__depthDisposeCallback'](),_0x3777d4){const _0x192c21=()=>{delete _0x156776['__boundDepthTexture'],delete _0x156776['__depthDisposeCallback'],_0x3777d4['removeEventListener']('dispose',_0x192c21);};_0x3777d4['addEventListener']('dispose',_0x192c21),_0x156776['__depthDisposeCallback']=_0x192c21;}_0x156776['__boundDepthTexture']=_0x3777d4;}if(_0x3c32b7['depthTexture']&&!_0x156776['__autoAllocateDepthBuffer']){if(_0x123ef7)throw new Error('target.depthTexture\x20not\x20supported\x20in\x20Cube\x20render\x20targets');!function(_0x3578cc,_0x2c30f6){if(_0x2c30f6&&_0x2c30f6['isWebGLCubeRenderTarget'])throw new Error('Depth\x20Texture\x20with\x20cube\x20render\x20targets\x20is\x20not\x20supported');if(_0x24f945['bindFramebuffer'](_0x21034b['FRAMEBUFFER'],_0x3578cc),!_0x2c30f6['depthTexture']||!_0x2c30f6['depthTexture']['isDepthTexture'])throw new Error('renderTarget.depthTexture\x20must\x20be\x20an\x20instance\x20of\x20THREE.DepthTexture');const _0x4523a9=_0x1ef763['get'](_0x2c30f6['depthTexture']);_0x4523a9['__renderTarget']=_0x2c30f6,_0x4523a9['__webglTexture']&&_0x2c30f6['depthTexture']['image']['width']===_0x2c30f6['width']&&_0x2c30f6['depthTexture']['image']['height']===_0x2c30f6['height']||(_0x2c30f6['depthTexture']['image']['width']=_0x2c30f6['width'],_0x2c30f6['depthTexture']['image']['height']=_0x2c30f6['height'],_0x2c30f6['depthTexture']['needsUpdate']=!0x0),_0x4a5d5f(_0x2c30f6['depthTexture'],0x0);const _0x4cae80=_0x4523a9['__webglTexture'],_0x56f12c=_0x2c01fc(_0x2c30f6);if(_0x2c30f6['depthTexture']['format']===_0x46094d['zdS'])_0x185bd3(_0x2c30f6)?_0x19fbfd['framebufferTexture2DMultisampleEXT'](_0x21034b['FRAMEBUFFER'],_0x21034b['DEPTH_ATTACHMENT'],_0x21034b['TEXTURE_2D'],_0x4cae80,0x0,_0x56f12c):_0x21034b['framebufferTexture2D'](_0x21034b['FRAMEBUFFER'],_0x21034b['DEPTH_ATTACHMENT'],_0x21034b['TEXTURE_2D'],_0x4cae80,0x0);else{if(_0x2c30f6['depthTexture']['format']!==_0x46094d['dcC'])throw new Error('Unknown\x20depthTexture\x20format');_0x185bd3(_0x2c30f6)?_0x19fbfd['framebufferTexture2DMultisampleEXT'](_0x21034b['FRAMEBUFFER'],_0x21034b['DEPTH_STENCIL_ATTACHMENT'],_0x21034b['TEXTURE_2D'],_0x4cae80,0x0,_0x56f12c):_0x21034b['framebufferTexture2D'](_0x21034b['FRAMEBUFFER'],_0x21034b['DEPTH_STENCIL_ATTACHMENT'],_0x21034b['TEXTURE_2D'],_0x4cae80,0x0);}}(_0x156776['__webglFramebuffer'],_0x3c32b7);}else{if(_0x123ef7){_0x156776['__webglDepthbuffer']=[];for(let _0x3fe160=0x0;_0x3fe160<0x6;_0x3fe160++)if(_0x24f945['bindFramebuffer'](_0x21034b['FRAMEBUFFER'],_0x156776['__webglFramebuffer'][_0x3fe160]),void 0x0===_0x156776['__webglDepthbuffer'][_0x3fe160])_0x156776['__webglDepthbuffer'][_0x3fe160]=_0x21034b['createRenderbuffer'](),_0x2ea2af(_0x156776['__webglDepthbuffer'][_0x3fe160],_0x3c32b7,!0x1);else{const _0x226322=_0x3c32b7['stencilBuffer']?_0x21034b['DEPTH_STENCIL_ATTACHMENT']:_0x21034b['DEPTH_ATTACHMENT'],_0x40f9ad=_0x156776['__webglDepthbuffer'][_0x3fe160];_0x21034b['bindRenderbuffer'](_0x21034b['RENDERBUFFER'],_0x40f9ad),_0x21034b['framebufferRenderbuffer'](_0x21034b['FRAMEBUFFER'],_0x226322,_0x21034b['RENDERBUFFER'],_0x40f9ad);}}else{if(_0x24f945['bindFramebuffer'](_0x21034b['FRAMEBUFFER'],_0x156776['__webglFramebuffer']),void 0x0===_0x156776['__webglDepthbuffer'])_0x156776['__webglDepthbuffer']=_0x21034b['createRenderbuffer'](),_0x2ea2af(_0x156776['__webglDepthbuffer'],_0x3c32b7,!0x1);else{const _0xd01443=_0x3c32b7['stencilBuffer']?_0x21034b['DEPTH_STENCIL_ATTACHMENT']:_0x21034b['DEPTH_ATTACHMENT'],_0x593fae=_0x156776['__webglDepthbuffer'];_0x21034b['bindRenderbuffer'](_0x21034b['RENDERBUFFER'],_0x593fae),_0x21034b['framebufferRenderbuffer'](_0x21034b['FRAMEBUFFER'],_0xd01443,_0x21034b['RENDERBUFFER'],_0x593fae);}}}_0x24f945['bindFramebuffer'](_0x21034b['FRAMEBUFFER'],null);}const _0x2b2c50=[],_0x38878f=[];function _0x2c01fc(_0x3dd1e3){return Math['min'](_0x45a383['maxSamples'],_0x3dd1e3['samples']);}function _0x185bd3(_0x2bdfa3){const _0x398268=_0x1ef763['get'](_0x2bdfa3);return _0x2bdfa3['samples']>0x0&&!0x0===_0x6f24c4['has']('WEBGL_multisampled_render_to_texture')&&!0x1!==_0x398268['__useRenderToTexture'];}function _0x11a0bb(_0x31e7ea,_0x47a9fa){const _0x4489b6=_0x31e7ea['colorSpace'],_0x4380af=_0x31e7ea['format'],_0x3ec103=_0x31e7ea['type'];return!0x0===_0x31e7ea['isCompressedTexture']||!0x0===_0x31e7ea['isVideoTexture']||_0x4489b6!==_0x46094d['Zr2']&&_0x4489b6!==_0x46094d['jf0']&&(_0x46094d['ppV']['getTransfer'](_0x4489b6)===_0x46094d['KLL']?_0x4380af===_0x46094d['GWd']&&_0x3ec103===_0x46094d['OUM']||console['warn']('THREE.WebGLTextures:\x20sRGB\x20encoded\x20textures\x20have\x20to\x20use\x20RGBAFormat\x20and\x20UnsignedByteType.'):console['error']('THREE.WebGLTextures:\x20Unsupported\x20texture\x20color\x20space:',_0x4489b6)),_0x47a9fa;}function _0xe856d5(_0x3a0f46){return'undefined'!=typeof HTMLImageElement&&_0x3a0f46 instanceof HTMLImageElement?(_0x11bbfe['width']=_0x3a0f46['naturalWidth']||_0x3a0f46['width'],_0x11bbfe['height']=_0x3a0f46['naturalHeight']||_0x3a0f46['height']):'undefined'!=typeof VideoFrame&&_0x3a0f46 instanceof VideoFrame?(_0x11bbfe['width']=_0x3a0f46['displayWidth'],_0x11bbfe['height']=_0x3a0f46['displayHeight']):(_0x11bbfe['width']=_0x3a0f46['width'],_0x11bbfe['height']=_0x3a0f46['height']),_0x11bbfe;}this['allocateTextureUnit']=function(){const _0x998527=_0x3fd7ac;return _0x998527>=_0x45a383['maxTextures']&&console['warn']('THREE.WebGLTextures:\x20Trying\x20to\x20use\x20'+_0x998527+'\x20texture\x20units\x20while\x20this\x20GPU\x20supports\x20only\x20'+_0x45a383['maxTextures']),_0x3fd7ac+=0x1,_0x998527;},this['resetTextureUnits']=function(){_0x3fd7ac=0x0;},this['setTexture2D']=_0x4a5d5f,this['setTexture2DArray']=function(_0x21abc2,_0x18290f){const _0x5bdf25=_0x1ef763['get'](_0x21abc2);_0x21abc2['version']>0x0&&_0x5bdf25['__version']!==_0x21abc2['version']?_0x124547(_0x5bdf25,_0x21abc2,_0x18290f):_0x24f945['bindTexture'](_0x21034b['TEXTURE_2D_ARRAY'],_0x5bdf25['__webglTexture'],_0x21034b['TEXTURE0']+_0x18290f);},this['setTexture3D']=function(_0x1e4c4e,_0x163448){const _0xfb979b=_0x1ef763['get'](_0x1e4c4e);_0x1e4c4e['version']>0x0&&_0xfb979b['__version']!==_0x1e4c4e['version']?_0x124547(_0xfb979b,_0x1e4c4e,_0x163448):_0x24f945['bindTexture'](_0x21034b['TEXTURE_3D'],_0xfb979b['__webglTexture'],_0x21034b['TEXTURE0']+_0x163448);},this['setTextureCube']=function(_0x46ecdf,_0x3303f4){const _0x209eaa=_0x1ef763['get'](_0x46ecdf);_0x46ecdf['version']>0x0&&_0x209eaa['__version']!==_0x46ecdf['version']?function(_0x19604d,_0x5757cf,_0x1397b7){if(0x6!==_0x5757cf['image']['length'])return;const _0x121145=_0xbc9c2(_0x19604d,_0x5757cf),_0x14a788=_0x5757cf['source'];_0x24f945['bindTexture'](_0x21034b['TEXTURE_CUBE_MAP'],_0x19604d['__webglTexture'],_0x21034b['TEXTURE0']+_0x1397b7);const _0x2dbaed=_0x1ef763['get'](_0x14a788);if(_0x14a788['version']!==_0x2dbaed['__version']||!0x0===_0x121145){_0x24f945['activeTexture'](_0x21034b['TEXTURE0']+_0x1397b7);const _0x5c3b01=_0x46094d['ppV']['getPrimaries'](_0x46094d['ppV']['workingColorSpace']),_0x26611e=_0x5757cf['colorSpace']===_0x46094d['jf0']?null:_0x46094d['ppV']['getPrimaries'](_0x5757cf['colorSpace']),_0x2fe5db=_0x5757cf['colorSpace']===_0x46094d['jf0']||_0x5c3b01===_0x26611e?_0x21034b['NONE']:_0x21034b['BROWSER_DEFAULT_WEBGL'];_0x21034b['pixelStorei'](_0x21034b['UNPACK_FLIP_Y_WEBGL'],_0x5757cf['flipY']),_0x21034b['pixelStorei'](_0x21034b['UNPACK_PREMULTIPLY_ALPHA_WEBGL'],_0x5757cf['premultiplyAlpha']),_0x21034b['pixelStorei'](_0x21034b['UNPACK_ALIGNMENT'],_0x5757cf['unpackAlignment']),_0x21034b['pixelStorei'](_0x21034b['UNPACK_COLORSPACE_CONVERSION_WEBGL'],_0x2fe5db);const _0x1ee715=_0x5757cf['isCompressedTexture']||_0x5757cf['image'][0x0]['isCompressedTexture'],_0x2f41d8=_0x5757cf['image'][0x0]&&_0x5757cf['image'][0x0]['isDataTexture'],_0x1795ec=[];for(let _0x15c56d=0x0;_0x15c56d<0x6;_0x15c56d++)_0x1795ec[_0x15c56d]=_0x1ee715||_0x2f41d8?_0x2f41d8?_0x5757cf['image'][_0x15c56d]['image']:_0x5757cf['image'][_0x15c56d]:_0x56ffca(_0x5757cf['image'][_0x15c56d],!0x0,_0x45a383['maxCubemapSize']),_0x1795ec[_0x15c56d]=_0x11a0bb(_0x5757cf,_0x1795ec[_0x15c56d]);const _0x3c3860=_0x1795ec[0x0],_0x1dfa50=_0x4b7817['convert'](_0x5757cf['format'],_0x5757cf['colorSpace']),_0x2226f2=_0x4b7817['convert'](_0x5757cf['type']),_0x4d1653=_0x1a0fc7(_0x5757cf['internalFormat'],_0x1dfa50,_0x2226f2,_0x5757cf['colorSpace']),_0x303853=!0x0!==_0x5757cf['isVideoTexture'],_0x2eb31c=void 0x0===_0x2dbaed['__version']||!0x0===_0x121145,_0x3894a3=_0x14a788['dataReady'];let _0x33503d,_0x17220e=_0x458511(_0x5757cf,_0x3c3860);if(_0x5460dd(_0x21034b['TEXTURE_CUBE_MAP'],_0x5757cf),_0x1ee715){_0x303853&&_0x2eb31c&&_0x24f945['texStorage2D'](_0x21034b['TEXTURE_CUBE_MAP'],_0x17220e,_0x4d1653,_0x3c3860['width'],_0x3c3860['height']);for(let _0x3cd588=0x0;_0x3cd588<0x6;_0x3cd588++){_0x33503d=_0x1795ec[_0x3cd588]['mipmaps'];for(let _0x4f45f4=0x0;_0x4f45f4<_0x33503d['length'];_0x4f45f4++){const _0x2f8cdc=_0x33503d[_0x4f45f4];_0x5757cf['format']!==_0x46094d['GWd']?null!==_0x1dfa50?_0x303853?_0x3894a3&&_0x24f945['compressedTexSubImage2D'](_0x21034b['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x3cd588,_0x4f45f4,0x0,0x0,_0x2f8cdc['width'],_0x2f8cdc['height'],_0x1dfa50,_0x2f8cdc['data']):_0x24f945['compressedTexImage2D'](_0x21034b['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x3cd588,_0x4f45f4,_0x4d1653,_0x2f8cdc['width'],_0x2f8cdc['height'],0x0,_0x2f8cdc['data']):console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20load\x20unsupported\x20compressed\x20texture\x20format\x20in\x20.setTextureCube()'):_0x303853?_0x3894a3&&_0x24f945['texSubImage2D'](_0x21034b['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x3cd588,_0x4f45f4,0x0,0x0,_0x2f8cdc['width'],_0x2f8cdc['height'],_0x1dfa50,_0x2226f2,_0x2f8cdc['data']):_0x24f945['texImage2D'](_0x21034b['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x3cd588,_0x4f45f4,_0x4d1653,_0x2f8cdc['width'],_0x2f8cdc['height'],0x0,_0x1dfa50,_0x2226f2,_0x2f8cdc['data']);}}}else{if(_0x33503d=_0x5757cf['mipmaps'],_0x303853&&_0x2eb31c){_0x33503d['length']>0x0&&_0x17220e++;const _0x200c6b=_0xe856d5(_0x1795ec[0x0]);_0x24f945['texStorage2D'](_0x21034b['TEXTURE_CUBE_MAP'],_0x17220e,_0x4d1653,_0x200c6b['width'],_0x200c6b['height']);}for(let _0x4e5f7e=0x0;_0x4e5f7e<0x6;_0x4e5f7e++)if(_0x2f41d8){_0x303853?_0x3894a3&&_0x24f945['texSubImage2D'](_0x21034b['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x4e5f7e,0x0,0x0,0x0,_0x1795ec[_0x4e5f7e]['width'],_0x1795ec[_0x4e5f7e]['height'],_0x1dfa50,_0x2226f2,_0x1795ec[_0x4e5f7e]['data']):_0x24f945['texImage2D'](_0x21034b['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x4e5f7e,0x0,_0x4d1653,_0x1795ec[_0x4e5f7e]['width'],_0x1795ec[_0x4e5f7e]['height'],0x0,_0x1dfa50,_0x2226f2,_0x1795ec[_0x4e5f7e]['data']);for(let _0xded4b0=0x0;_0xded4b0<_0x33503d['length'];_0xded4b0++){const _0x246946=_0x33503d[_0xded4b0]['image'][_0x4e5f7e]['image'];_0x303853?_0x3894a3&&_0x24f945['texSubImage2D'](_0x21034b['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x4e5f7e,_0xded4b0+0x1,0x0,0x0,_0x246946['width'],_0x246946['height'],_0x1dfa50,_0x2226f2,_0x246946['data']):_0x24f945['texImage2D'](_0x21034b['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x4e5f7e,_0xded4b0+0x1,_0x4d1653,_0x246946['width'],_0x246946['height'],0x0,_0x1dfa50,_0x2226f2,_0x246946['data']);}}else{_0x303853?_0x3894a3&&_0x24f945['texSubImage2D'](_0x21034b['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x4e5f7e,0x0,0x0,0x0,_0x1dfa50,_0x2226f2,_0x1795ec[_0x4e5f7e]):_0x24f945['texImage2D'](_0x21034b['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x4e5f7e,0x0,_0x4d1653,_0x1dfa50,_0x2226f2,_0x1795ec[_0x4e5f7e]);for(let _0x41c5f9=0x0;_0x41c5f9<_0x33503d['length'];_0x41c5f9++){const _0x3049ba=_0x33503d[_0x41c5f9];_0x303853?_0x3894a3&&_0x24f945['texSubImage2D'](_0x21034b['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x4e5f7e,_0x41c5f9+0x1,0x0,0x0,_0x1dfa50,_0x2226f2,_0x3049ba['image'][_0x4e5f7e]):_0x24f945['texImage2D'](_0x21034b['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x4e5f7e,_0x41c5f9+0x1,_0x4d1653,_0x1dfa50,_0x2226f2,_0x3049ba['image'][_0x4e5f7e]);}}}_0xf4df59(_0x5757cf)&&_0x220a57(_0x21034b['TEXTURE_CUBE_MAP']),_0x2dbaed['__version']=_0x14a788['version'],_0x5757cf['onUpdate']&&_0x5757cf['onUpdate'](_0x5757cf);}_0x19604d['__version']=_0x5757cf['version'];}(_0x209eaa,_0x46ecdf,_0x3303f4):_0x24f945['bindTexture'](_0x21034b['TEXTURE_CUBE_MAP'],_0x209eaa['__webglTexture'],_0x21034b['TEXTURE0']+_0x3303f4);},this['rebindTextures']=function(_0x26c1ea,_0x54cca4,_0x1acbe4){const _0x23c55a=_0x1ef763['get'](_0x26c1ea);void 0x0!==_0x54cca4&&_0x9379e1(_0x23c55a['__webglFramebuffer'],_0x26c1ea,_0x26c1ea['texture'],_0x21034b['COLOR_ATTACHMENT0'],_0x21034b['TEXTURE_2D'],0x0),void 0x0!==_0x1acbe4&&_0x38984a(_0x26c1ea);},this['setupRenderTarget']=function(_0x4a0f5e){const _0x2a45d0=_0x4a0f5e['texture'],_0x5412e1=_0x1ef763['get'](_0x4a0f5e),_0x27300b=_0x1ef763['get'](_0x2a45d0);_0x4a0f5e['addEventListener']('dispose',_0x224e3d);const _0x2fe66d=_0x4a0f5e['textures'],_0x433f03=!0x0===_0x4a0f5e['isWebGLCubeRenderTarget'],_0x28c956=_0x2fe66d['length']>0x1;if(_0x28c956||(void 0x0===_0x27300b['__webglTexture']&&(_0x27300b['__webglTexture']=_0x21034b['createTexture']()),_0x27300b['__version']=_0x2a45d0['version'],_0x4aaefd['memory']['textures']++),_0x433f03){_0x5412e1['__webglFramebuffer']=[];for(let _0x465302=0x0;_0x465302<0x6;_0x465302++)if(_0x2a45d0['mipmaps']&&_0x2a45d0['mipmaps']['length']>0x0){_0x5412e1['__webglFramebuffer'][_0x465302]=[];for(let _0x52d938=0x0;_0x52d938<_0x2a45d0['mipmaps']['length'];_0x52d938++)_0x5412e1['__webglFramebuffer'][_0x465302][_0x52d938]=_0x21034b['createFramebuffer']();}else _0x5412e1['__webglFramebuffer'][_0x465302]=_0x21034b['createFramebuffer']();}else{if(_0x2a45d0['mipmaps']&&_0x2a45d0['mipmaps']['length']>0x0){_0x5412e1['__webglFramebuffer']=[];for(let _0x2c4ef8=0x0;_0x2c4ef8<_0x2a45d0['mipmaps']['length'];_0x2c4ef8++)_0x5412e1['__webglFramebuffer'][_0x2c4ef8]=_0x21034b['createFramebuffer']();}else _0x5412e1['__webglFramebuffer']=_0x21034b['createFramebuffer']();if(_0x28c956)for(let _0x17ed31=0x0,_0x453dd4=_0x2fe66d['length'];_0x17ed31<_0x453dd4;_0x17ed31++){const _0x3e860b=_0x1ef763['get'](_0x2fe66d[_0x17ed31]);void 0x0===_0x3e860b['__webglTexture']&&(_0x3e860b['__webglTexture']=_0x21034b['createTexture'](),_0x4aaefd['memory']['textures']++);}if(_0x4a0f5e['samples']>0x0&&!0x1===_0x185bd3(_0x4a0f5e)){_0x5412e1['__webglMultisampledFramebuffer']=_0x21034b['createFramebuffer'](),_0x5412e1['__webglColorRenderbuffer']=[],_0x24f945['bindFramebuffer'](_0x21034b['FRAMEBUFFER'],_0x5412e1['__webglMultisampledFramebuffer']);for(let _0x46f568=0x0;_0x46f568<_0x2fe66d['length'];_0x46f568++){const _0x433daf=_0x2fe66d[_0x46f568];_0x5412e1['__webglColorRenderbuffer'][_0x46f568]=_0x21034b['createRenderbuffer'](),_0x21034b['bindRenderbuffer'](_0x21034b['RENDERBUFFER'],_0x5412e1['__webglColorRenderbuffer'][_0x46f568]);const _0x3f95b9=_0x4b7817['convert'](_0x433daf['format'],_0x433daf['colorSpace']),_0x7e26b=_0x4b7817['convert'](_0x433daf['type']),_0xdfea3e=_0x1a0fc7(_0x433daf['internalFormat'],_0x3f95b9,_0x7e26b,_0x433daf['colorSpace'],!0x0===_0x4a0f5e['isXRRenderTarget']),_0x3a3f82=_0x2c01fc(_0x4a0f5e);_0x21034b['renderbufferStorageMultisample'](_0x21034b['RENDERBUFFER'],_0x3a3f82,_0xdfea3e,_0x4a0f5e['width'],_0x4a0f5e['height']),_0x21034b['framebufferRenderbuffer'](_0x21034b['FRAMEBUFFER'],_0x21034b['COLOR_ATTACHMENT0']+_0x46f568,_0x21034b['RENDERBUFFER'],_0x5412e1['__webglColorRenderbuffer'][_0x46f568]);}_0x21034b['bindRenderbuffer'](_0x21034b['RENDERBUFFER'],null),_0x4a0f5e['depthBuffer']&&(_0x5412e1['__webglDepthRenderbuffer']=_0x21034b['createRenderbuffer'](),_0x2ea2af(_0x5412e1['__webglDepthRenderbuffer'],_0x4a0f5e,!0x0)),_0x24f945['bindFramebuffer'](_0x21034b['FRAMEBUFFER'],null);}}if(_0x433f03){_0x24f945['bindTexture'](_0x21034b['TEXTURE_CUBE_MAP'],_0x27300b['__webglTexture']),_0x5460dd(_0x21034b['TEXTURE_CUBE_MAP'],_0x2a45d0);for(let _0xf89753=0x0;_0xf89753<0x6;_0xf89753++)if(_0x2a45d0['mipmaps']&&_0x2a45d0['mipmaps']['length']>0x0){for(let _0x2f386a=0x0;_0x2f386a<_0x2a45d0['mipmaps']['length'];_0x2f386a++)_0x9379e1(_0x5412e1['__webglFramebuffer'][_0xf89753][_0x2f386a],_0x4a0f5e,_0x2a45d0,_0x21034b['COLOR_ATTACHMENT0'],_0x21034b['TEXTURE_CUBE_MAP_POSITIVE_X']+_0xf89753,_0x2f386a);}else _0x9379e1(_0x5412e1['__webglFramebuffer'][_0xf89753],_0x4a0f5e,_0x2a45d0,_0x21034b['COLOR_ATTACHMENT0'],_0x21034b['TEXTURE_CUBE_MAP_POSITIVE_X']+_0xf89753,0x0);_0xf4df59(_0x2a45d0)&&_0x220a57(_0x21034b['TEXTURE_CUBE_MAP']),_0x24f945['unbindTexture']();}else{if(_0x28c956){for(let _0x3f62c9=0x0,_0x2896fb=_0x2fe66d['length'];_0x3f62c9<_0x2896fb;_0x3f62c9++){const _0x9a717e=_0x2fe66d[_0x3f62c9],_0x2024e5=_0x1ef763['get'](_0x9a717e);_0x24f945['bindTexture'](_0x21034b['TEXTURE_2D'],_0x2024e5['__webglTexture']),_0x5460dd(_0x21034b['TEXTURE_2D'],_0x9a717e),_0x9379e1(_0x5412e1['__webglFramebuffer'],_0x4a0f5e,_0x9a717e,_0x21034b['COLOR_ATTACHMENT0']+_0x3f62c9,_0x21034b['TEXTURE_2D'],0x0),_0xf4df59(_0x9a717e)&&_0x220a57(_0x21034b['TEXTURE_2D']);}_0x24f945['unbindTexture']();}else{let _0x5b3610=_0x21034b['TEXTURE_2D'];if((_0x4a0f5e['isWebGL3DRenderTarget']||_0x4a0f5e['isWebGLArrayRenderTarget'])&&(_0x5b3610=_0x4a0f5e['isWebGL3DRenderTarget']?_0x21034b['TEXTURE_3D']:_0x21034b['TEXTURE_2D_ARRAY']),_0x24f945['bindTexture'](_0x5b3610,_0x27300b['__webglTexture']),_0x5460dd(_0x5b3610,_0x2a45d0),_0x2a45d0['mipmaps']&&_0x2a45d0['mipmaps']['length']>0x0){for(let _0x535521=0x0;_0x535521<_0x2a45d0['mipmaps']['length'];_0x535521++)_0x9379e1(_0x5412e1['__webglFramebuffer'][_0x535521],_0x4a0f5e,_0x2a45d0,_0x21034b['COLOR_ATTACHMENT0'],_0x5b3610,_0x535521);}else _0x9379e1(_0x5412e1['__webglFramebuffer'],_0x4a0f5e,_0x2a45d0,_0x21034b['COLOR_ATTACHMENT0'],_0x5b3610,0x0);_0xf4df59(_0x2a45d0)&&_0x220a57(_0x5b3610),_0x24f945['unbindTexture']();}}_0x4a0f5e['depthBuffer']&&_0x38984a(_0x4a0f5e);},this['updateRenderTargetMipmap']=function(_0x55a5ea){const _0x412a6a=_0x55a5ea['textures'];for(let _0x6544e9=0x0,_0x4d2dd6=_0x412a6a['length'];_0x6544e9<_0x4d2dd6;_0x6544e9++){const _0x355dde=_0x412a6a[_0x6544e9];if(_0xf4df59(_0x355dde)){const _0x11ef8b=_0x3394d9(_0x55a5ea),_0x533e30=_0x1ef763['get'](_0x355dde)['__webglTexture'];_0x24f945['bindTexture'](_0x11ef8b,_0x533e30),_0x220a57(_0x11ef8b),_0x24f945['unbindTexture']();}}},this['updateMultisampleRenderTarget']=function(_0x1e5983){if(_0x1e5983['samples']>0x0){if(!0x1===_0x185bd3(_0x1e5983)){const _0x3fed69=_0x1e5983['textures'],_0x2eea8e=_0x1e5983['width'],_0x3a3bfa=_0x1e5983['height'];let _0x2688bd=_0x21034b['COLOR_BUFFER_BIT'];const _0x43d3ca=_0x1e5983['stencilBuffer']?_0x21034b['DEPTH_STENCIL_ATTACHMENT']:_0x21034b['DEPTH_ATTACHMENT'],_0x438b6f=_0x1ef763['get'](_0x1e5983),_0x4c5778=_0x3fed69['length']>0x1;if(_0x4c5778){for(let _0xa36d6=0x0;_0xa36d6<_0x3fed69['length'];_0xa36d6++)_0x24f945['bindFramebuffer'](_0x21034b['FRAMEBUFFER'],_0x438b6f['__webglMultisampledFramebuffer']),_0x21034b['framebufferRenderbuffer'](_0x21034b['FRAMEBUFFER'],_0x21034b['COLOR_ATTACHMENT0']+_0xa36d6,_0x21034b['RENDERBUFFER'],null),_0x24f945['bindFramebuffer'](_0x21034b['FRAMEBUFFER'],_0x438b6f['__webglFramebuffer']),_0x21034b['framebufferTexture2D'](_0x21034b['DRAW_FRAMEBUFFER'],_0x21034b['COLOR_ATTACHMENT0']+_0xa36d6,_0x21034b['TEXTURE_2D'],null,0x0);}_0x24f945['bindFramebuffer'](_0x21034b['READ_FRAMEBUFFER'],_0x438b6f['__webglMultisampledFramebuffer']),_0x24f945['bindFramebuffer'](_0x21034b['DRAW_FRAMEBUFFER'],_0x438b6f['__webglFramebuffer']);for(let _0x327137=0x0;_0x327137<_0x3fed69['length'];_0x327137++){if(_0x1e5983['resolveDepthBuffer']&&(_0x1e5983['depthBuffer']&&(_0x2688bd|=_0x21034b['DEPTH_BUFFER_BIT']),_0x1e5983['stencilBuffer']&&_0x1e5983['resolveStencilBuffer']&&(_0x2688bd|=_0x21034b['STENCIL_BUFFER_BIT'])),_0x4c5778){_0x21034b['framebufferRenderbuffer'](_0x21034b['READ_FRAMEBUFFER'],_0x21034b['COLOR_ATTACHMENT0'],_0x21034b['RENDERBUFFER'],_0x438b6f['__webglColorRenderbuffer'][_0x327137]);const _0x3b5b85=_0x1ef763['get'](_0x3fed69[_0x327137])['__webglTexture'];_0x21034b['framebufferTexture2D'](_0x21034b['DRAW_FRAMEBUFFER'],_0x21034b['COLOR_ATTACHMENT0'],_0x21034b['TEXTURE_2D'],_0x3b5b85,0x0);}_0x21034b['blitFramebuffer'](0x0,0x0,_0x2eea8e,_0x3a3bfa,0x0,0x0,_0x2eea8e,_0x3a3bfa,_0x2688bd,_0x21034b['NEAREST']),!0x0===_0x523676&&(_0x2b2c50['length']=0x0,_0x38878f['length']=0x0,_0x2b2c50['push'](_0x21034b['COLOR_ATTACHMENT0']+_0x327137),_0x1e5983['depthBuffer']&&!0x1===_0x1e5983['resolveDepthBuffer']&&(_0x2b2c50['push'](_0x43d3ca),_0x38878f['push'](_0x43d3ca),_0x21034b['invalidateFramebuffer'](_0x21034b['DRAW_FRAMEBUFFER'],_0x38878f)),_0x21034b['invalidateFramebuffer'](_0x21034b['READ_FRAMEBUFFER'],_0x2b2c50));}if(_0x24f945['bindFramebuffer'](_0x21034b['READ_FRAMEBUFFER'],null),_0x24f945['bindFramebuffer'](_0x21034b['DRAW_FRAMEBUFFER'],null),_0x4c5778)for(let _0x4cdf4d=0x0;_0x4cdf4d<_0x3fed69['length'];_0x4cdf4d++){_0x24f945['bindFramebuffer'](_0x21034b['FRAMEBUFFER'],_0x438b6f['__webglMultisampledFramebuffer']),_0x21034b['framebufferRenderbuffer'](_0x21034b['FRAMEBUFFER'],_0x21034b['COLOR_ATTACHMENT0']+_0x4cdf4d,_0x21034b['RENDERBUFFER'],_0x438b6f['__webglColorRenderbuffer'][_0x4cdf4d]);const _0x2be31a=_0x1ef763['get'](_0x3fed69[_0x4cdf4d])['__webglTexture'];_0x24f945['bindFramebuffer'](_0x21034b['FRAMEBUFFER'],_0x438b6f['__webglFramebuffer']),_0x21034b['framebufferTexture2D'](_0x21034b['DRAW_FRAMEBUFFER'],_0x21034b['COLOR_ATTACHMENT0']+_0x4cdf4d,_0x21034b['TEXTURE_2D'],_0x2be31a,0x0);}_0x24f945['bindFramebuffer'](_0x21034b['DRAW_FRAMEBUFFER'],_0x438b6f['__webglMultisampledFramebuffer']);}else{if(_0x1e5983['depthBuffer']&&!0x1===_0x1e5983['resolveDepthBuffer']&&_0x523676){const _0x1faabb=_0x1e5983['stencilBuffer']?_0x21034b['DEPTH_STENCIL_ATTACHMENT']:_0x21034b['DEPTH_ATTACHMENT'];_0x21034b['invalidateFramebuffer'](_0x21034b['DRAW_FRAMEBUFFER'],[_0x1faabb]);}}}},this['setupDepthRenderbuffer']=_0x38984a,this['setupFrameBufferTexture']=_0x9379e1,this['useMultisampledRTT']=_0x185bd3;}function _0x3d65aa(_0xe9a119,_0x840cfd){return{'convert':function(_0x19e467,_0xeba5fe=_0x46094d['jf0']){let _0x5ebb70;const _0x36bc94=_0x46094d['ppV']['getTransfer'](_0xeba5fe);if(_0x19e467===_0x46094d['OUM'])return _0xe9a119['UNSIGNED_BYTE'];if(_0x19e467===_0x46094d['Wew'])return _0xe9a119['UNSIGNED_SHORT_4_4_4_4'];if(_0x19e467===_0x46094d['gJ2'])return _0xe9a119['UNSIGNED_SHORT_5_5_5_1'];if(_0x19e467===_0x46094d['Dmk'])return _0xe9a119['UNSIGNED_INT_5_9_9_9_REV'];if(_0x19e467===_0x46094d['tJf'])return _0xe9a119['BYTE'];if(_0x19e467===_0x46094d['fBL'])return _0xe9a119['SHORT'];if(_0x19e467===_0x46094d['cHt'])return _0xe9a119['UNSIGNED_SHORT'];if(_0x19e467===_0x46094d['Yuy'])return _0xe9a119['INT'];if(_0x19e467===_0x46094d['bkx'])return _0xe9a119['UNSIGNED_INT'];if(_0x19e467===_0x46094d['RQf'])return _0xe9a119['FLOAT'];if(_0x19e467===_0x46094d['ix0'])return _0xe9a119['HALF_FLOAT'];if(_0x19e467===_0x46094d['wrO'])return _0xe9a119['ALPHA'];if(_0x19e467===_0x46094d['HIg'])return _0xe9a119['RGB'];if(_0x19e467===_0x46094d['GWd'])return _0xe9a119['RGBA'];if(_0x19e467===_0x46094d['Kzv'])return _0xe9a119['LUMINANCE'];if(_0x19e467===_0x46094d['CMB'])return _0xe9a119['LUMINANCE_ALPHA'];if(_0x19e467===_0x46094d['zdS'])return _0xe9a119['DEPTH_COMPONENT'];if(_0x19e467===_0x46094d['dcC'])return _0xe9a119['DEPTH_STENCIL'];if(_0x19e467===_0x46094d['VT0'])return _0xe9a119['RED'];if(_0x19e467===_0x46094d['ZQM'])return _0xe9a119['RED_INTEGER'];if(_0x19e467===_0x46094d['paN'])return _0xe9a119['RG'];if(_0x19e467===_0x46094d['TkQ'])return _0xe9a119['RG_INTEGER'];if(_0x19e467===_0x46094d['c90'])return _0xe9a119['RGBA_INTEGER'];if(_0x19e467===_0x46094d['IE4']||_0x19e467===_0x46094d['Nz6']||_0x19e467===_0x46094d['jR7']||_0x19e467===_0x46094d['BXX']){if(_0x36bc94===_0x46094d['KLL']){if(_0x5ebb70=_0x840cfd['get']('WEBGL_compressed_texture_s3tc_srgb'),null===_0x5ebb70)return null;if(_0x19e467===_0x46094d['IE4'])return _0x5ebb70['COMPRESSED_SRGB_S3TC_DXT1_EXT'];if(_0x19e467===_0x46094d['Nz6'])return _0x5ebb70['COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT'];if(_0x19e467===_0x46094d['jR7'])return _0x5ebb70['COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT'];if(_0x19e467===_0x46094d['BXX'])return _0x5ebb70['COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT'];}else{if(_0x5ebb70=_0x840cfd['get']('WEBGL_compressed_texture_s3tc'),null===_0x5ebb70)return null;if(_0x19e467===_0x46094d['IE4'])return _0x5ebb70['COMPRESSED_RGB_S3TC_DXT1_EXT'];if(_0x19e467===_0x46094d['Nz6'])return _0x5ebb70['COMPRESSED_RGBA_S3TC_DXT1_EXT'];if(_0x19e467===_0x46094d['jR7'])return _0x5ebb70['COMPRESSED_RGBA_S3TC_DXT3_EXT'];if(_0x19e467===_0x46094d['BXX'])return _0x5ebb70['COMPRESSED_RGBA_S3TC_DXT5_EXT'];}}if(_0x19e467===_0x46094d['k6Q']||_0x19e467===_0x46094d['kTp']||_0x19e467===_0x46094d['HXV']||_0x19e467===_0x46094d['pBf']){if(_0x5ebb70=_0x840cfd['get']('WEBGL_compressed_texture_pvrtc'),null===_0x5ebb70)return null;if(_0x19e467===_0x46094d['k6Q'])return _0x5ebb70['COMPRESSED_RGB_PVRTC_4BPPV1_IMG'];if(_0x19e467===_0x46094d['kTp'])return _0x5ebb70['COMPRESSED_RGB_PVRTC_2BPPV1_IMG'];if(_0x19e467===_0x46094d['HXV'])return _0x5ebb70['COMPRESSED_RGBA_PVRTC_4BPPV1_IMG'];if(_0x19e467===_0x46094d['pBf'])return _0x5ebb70['COMPRESSED_RGBA_PVRTC_2BPPV1_IMG'];}if(_0x19e467===_0x46094d['CVz']||_0x19e467===_0x46094d['Riy']||_0x19e467===_0x46094d['KDk']){if(_0x5ebb70=_0x840cfd['get']('WEBGL_compressed_texture_etc'),null===_0x5ebb70)return null;if(_0x19e467===_0x46094d['CVz']||_0x19e467===_0x46094d['Riy'])return _0x36bc94===_0x46094d['KLL']?_0x5ebb70['COMPRESSED_SRGB8_ETC2']:_0x5ebb70['COMPRESSED_RGB8_ETC2'];if(_0x19e467===_0x46094d['KDk'])return _0x36bc94===_0x46094d['KLL']?_0x5ebb70['COMPRESSED_SRGB8_ALPHA8_ETC2_EAC']:_0x5ebb70['COMPRESSED_RGBA8_ETC2_EAC'];}if(_0x19e467===_0x46094d['qa3']||_0x19e467===_0x46094d['B_h']||_0x19e467===_0x46094d['czI']||_0x19e467===_0x46094d['rSH']||_0x19e467===_0x46094d['Qrf']||_0x19e467===_0x46094d['psI']||_0x19e467===_0x46094d['a5J']||_0x19e467===_0x46094d['_QJ']||_0x19e467===_0x46094d['uB5']||_0x19e467===_0x46094d['lyL']||_0x19e467===_0x46094d['bC7']||_0x19e467===_0x46094d['y3Z']||_0x19e467===_0x46094d['ojs']||_0x19e467===_0x46094d['S$4']){if(_0x5ebb70=_0x840cfd['get']('WEBGL_compressed_texture_astc'),null===_0x5ebb70)return null;if(_0x19e467===_0x46094d['qa3'])return _0x36bc94===_0x46094d['KLL']?_0x5ebb70['COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR']:_0x5ebb70['COMPRESSED_RGBA_ASTC_4x4_KHR'];if(_0x19e467===_0x46094d['B_h'])return _0x36bc94===_0x46094d['KLL']?_0x5ebb70['COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR']:_0x5ebb70['COMPRESSED_RGBA_ASTC_5x4_KHR'];if(_0x19e467===_0x46094d['czI'])return _0x36bc94===_0x46094d['KLL']?_0x5ebb70['COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR']:_0x5ebb70['COMPRESSED_RGBA_ASTC_5x5_KHR'];if(_0x19e467===_0x46094d['rSH'])return _0x36bc94===_0x46094d['KLL']?_0x5ebb70['COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR']:_0x5ebb70['COMPRESSED_RGBA_ASTC_6x5_KHR'];if(_0x19e467===_0x46094d['Qrf'])return _0x36bc94===_0x46094d['KLL']?_0x5ebb70['COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR']:_0x5ebb70['COMPRESSED_RGBA_ASTC_6x6_KHR'];if(_0x19e467===_0x46094d['psI'])return _0x36bc94===_0x46094d['KLL']?_0x5ebb70['COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR']:_0x5ebb70['COMPRESSED_RGBA_ASTC_8x5_KHR'];if(_0x19e467===_0x46094d['a5J'])return _0x36bc94===_0x46094d['KLL']?_0x5ebb70['COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR']:_0x5ebb70['COMPRESSED_RGBA_ASTC_8x6_KHR'];if(_0x19e467===_0x46094d['_QJ'])return _0x36bc94===_0x46094d['KLL']?_0x5ebb70['COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR']:_0x5ebb70['COMPRESSED_RGBA_ASTC_8x8_KHR'];if(_0x19e467===_0x46094d['uB5'])return _0x36bc94===_0x46094d['KLL']?_0x5ebb70['COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR']:_0x5ebb70['COMPRESSED_RGBA_ASTC_10x5_KHR'];if(_0x19e467===_0x46094d['lyL'])return _0x36bc94===_0x46094d['KLL']?_0x5ebb70['COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR']:_0x5ebb70['COMPRESSED_RGBA_ASTC_10x6_KHR'];if(_0x19e467===_0x46094d['bC7'])return _0x36bc94===_0x46094d['KLL']?_0x5ebb70['COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR']:_0x5ebb70['COMPRESSED_RGBA_ASTC_10x8_KHR'];if(_0x19e467===_0x46094d['y3Z'])return _0x36bc94===_0x46094d['KLL']?_0x5ebb70['COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR']:_0x5ebb70['COMPRESSED_RGBA_ASTC_10x10_KHR'];if(_0x19e467===_0x46094d['ojs'])return _0x36bc94===_0x46094d['KLL']?_0x5ebb70['COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR']:_0x5ebb70['COMPRESSED_RGBA_ASTC_12x10_KHR'];if(_0x19e467===_0x46094d['S$4'])return _0x36bc94===_0x46094d['KLL']?_0x5ebb70['COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR']:_0x5ebb70['COMPRESSED_RGBA_ASTC_12x12_KHR'];}if(_0x19e467===_0x46094d['Fn']||_0x19e467===_0x46094d['H23']||_0x19e467===_0x46094d['W9U']){if(_0x5ebb70=_0x840cfd['get']('EXT_texture_compression_bptc'),null===_0x5ebb70)return null;if(_0x19e467===_0x46094d['Fn'])return _0x36bc94===_0x46094d['KLL']?_0x5ebb70['COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT']:_0x5ebb70['COMPRESSED_RGBA_BPTC_UNORM_EXT'];if(_0x19e467===_0x46094d['H23'])return _0x5ebb70['COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT'];if(_0x19e467===_0x46094d['W9U'])return _0x5ebb70['COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT'];}if(_0x19e467===_0x46094d['Kef']||_0x19e467===_0x46094d['XG_']||_0x19e467===_0x46094d['HO_']||_0x19e467===_0x46094d['CWW']){if(_0x5ebb70=_0x840cfd['get']('EXT_texture_compression_rgtc'),null===_0x5ebb70)return null;if(_0x19e467===_0x46094d['Fn'])return _0x5ebb70['COMPRESSED_RED_RGTC1_EXT'];if(_0x19e467===_0x46094d['XG_'])return _0x5ebb70['COMPRESSED_SIGNED_RED_RGTC1_EXT'];if(_0x19e467===_0x46094d['HO_'])return _0x5ebb70['COMPRESSED_RED_GREEN_RGTC2_EXT'];if(_0x19e467===_0x46094d['CWW'])return _0x5ebb70['COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT'];}return _0x19e467===_0x46094d['V3x']?_0xe9a119['UNSIGNED_INT_24_8']:void 0x0!==_0xe9a119[_0x19e467]?_0xe9a119[_0x19e467]:null;}};}const _0x5eaa73={'type':'move'};class _0x25e4f2{constructor(){this['_targetRay']=null,this['_grip']=null,this['_hand']=null;}['getHandSpace'](){return null===this['_hand']&&(this['_hand']=new _0x46094d['YJl'](),this['_hand']['matrixAutoUpdate']=!0x1,this['_hand']['visible']=!0x1,this['_hand']['joints']={},this['_hand']['inputState']={'pinching':!0x1}),this['_hand'];}['getTargetRaySpace'](){return null===this['_targetRay']&&(this['_targetRay']=new _0x46094d['YJl'](),this['_targetRay']['matrixAutoUpdate']=!0x1,this['_targetRay']['visible']=!0x1,this['_targetRay']['hasLinearVelocity']=!0x1,this['_targetRay']['linearVelocity']=new _0x46094d['Pq0'](),this['_targetRay']['hasAngularVelocity']=!0x1,this['_targetRay']['angularVelocity']=new _0x46094d['Pq0']()),this['_targetRay'];}['getGripSpace'](){return null===this['_grip']&&(this['_grip']=new _0x46094d['YJl'](),this['_grip']['matrixAutoUpdate']=!0x1,this['_grip']['visible']=!0x1,this['_grip']['hasLinearVelocity']=!0x1,this['_grip']['linearVelocity']=new _0x46094d['Pq0'](),this['_grip']['hasAngularVelocity']=!0x1,this['_grip']['angularVelocity']=new _0x46094d['Pq0']()),this['_grip'];}['dispatchEvent'](_0x54fba7){return null!==this['_targetRay']&&this['_targetRay']['dispatchEvent'](_0x54fba7),null!==this['_grip']&&this['_grip']['dispatchEvent'](_0x54fba7),null!==this['_hand']&&this['_hand']['dispatchEvent'](_0x54fba7),this;}['connect'](_0xaae9a){if(_0xaae9a&&_0xaae9a['hand']){const _0x302431=this['_hand'];if(_0x302431){for(const _0x3b7ead of _0xaae9a['hand']['values']())this['_getHandJoint'](_0x302431,_0x3b7ead);}}return this['dispatchEvent']({'type':'connected','data':_0xaae9a}),this;}['disconnect'](_0x1609f7){return this['dispatchEvent']({'type':'disconnected','data':_0x1609f7}),null!==this['_targetRay']&&(this['_targetRay']['visible']=!0x1),null!==this['_grip']&&(this['_grip']['visible']=!0x1),null!==this['_hand']&&(this['_hand']['visible']=!0x1),this;}['update'](_0x6c4ab0,_0x168f08,_0xf4918a){let _0xaba40b=null,_0x4ad15f=null,_0x30cfef=null;const _0x4bd1ae=this['_targetRay'],_0x1ae62c=this['_grip'],_0xd6269=this['_hand'];if(_0x6c4ab0&&'visible-blurred'!==_0x168f08['session']['visibilityState']){if(_0xd6269&&_0x6c4ab0['hand']){_0x30cfef=!0x0;for(const _0x9a689a of _0x6c4ab0['hand']['values']()){const _0x191590=_0x168f08['getJointPose'](_0x9a689a,_0xf4918a),_0x24540f=this['_getHandJoint'](_0xd6269,_0x9a689a);null!==_0x191590&&(_0x24540f['matrix']['fromArray'](_0x191590['transform']['matrix']),_0x24540f['matrix']['decompose'](_0x24540f['position'],_0x24540f['rotation'],_0x24540f['scale']),_0x24540f['matrixWorldNeedsUpdate']=!0x0,_0x24540f['jointRadius']=_0x191590['radius']),_0x24540f['visible']=null!==_0x191590;}const _0x4b5ec3=_0xd6269['joints']['index-finger-tip'],_0x5ac1c1=_0xd6269['joints']['thumb-tip'],_0x20e0db=_0x4b5ec3['position']['distanceTo'](_0x5ac1c1['position']),_0x64d2df=0.02,_0x5c1df4=0.005;_0xd6269['inputState']['pinching']&&_0x20e0db>_0x64d2df+_0x5c1df4?(_0xd6269['inputState']['pinching']=!0x1,this['dispatchEvent']({'type':'pinchend','handedness':_0x6c4ab0['handedness'],'target':this})):!_0xd6269['inputState']['pinching']&&_0x20e0db<=_0x64d2df-_0x5c1df4&&(_0xd6269['inputState']['pinching']=!0x0,this['dispatchEvent']({'type':'pinchstart','handedness':_0x6c4ab0['handedness'],'target':this}));}else null!==_0x1ae62c&&_0x6c4ab0['gripSpace']&&(_0x4ad15f=_0x168f08['getPose'](_0x6c4ab0['gripSpace'],_0xf4918a),null!==_0x4ad15f&&(_0x1ae62c['matrix']['fromArray'](_0x4ad15f['transform']['matrix']),_0x1ae62c['matrix']['decompose'](_0x1ae62c['position'],_0x1ae62c['rotation'],_0x1ae62c['scale']),_0x1ae62c['matrixWorldNeedsUpdate']=!0x0,_0x4ad15f['linearVelocity']?(_0x1ae62c['hasLinearVelocity']=!0x0,_0x1ae62c['linearVelocity']['copy'](_0x4ad15f['linearVelocity'])):_0x1ae62c['hasLinearVelocity']=!0x1,_0x4ad15f['angularVelocity']?(_0x1ae62c['hasAngularVelocity']=!0x0,_0x1ae62c['angularVelocity']['copy'](_0x4ad15f['angularVelocity'])):_0x1ae62c['hasAngularVelocity']=!0x1));null!==_0x4bd1ae&&(_0xaba40b=_0x168f08['getPose'](_0x6c4ab0['targetRaySpace'],_0xf4918a),null===_0xaba40b&&null!==_0x4ad15f&&(_0xaba40b=_0x4ad15f),null!==_0xaba40b&&(_0x4bd1ae['matrix']['fromArray'](_0xaba40b['transform']['matrix']),_0x4bd1ae['matrix']['decompose'](_0x4bd1ae['position'],_0x4bd1ae['rotation'],_0x4bd1ae['scale']),_0x4bd1ae['matrixWorldNeedsUpdate']=!0x0,_0xaba40b['linearVelocity']?(_0x4bd1ae['hasLinearVelocity']=!0x0,_0x4bd1ae['linearVelocity']['copy'](_0xaba40b['linearVelocity'])):_0x4bd1ae['hasLinearVelocity']=!0x1,_0xaba40b['angularVelocity']?(_0x4bd1ae['hasAngularVelocity']=!0x0,_0x4bd1ae['angularVelocity']['copy'](_0xaba40b['angularVelocity'])):_0x4bd1ae['hasAngularVelocity']=!0x1,this['dispatchEvent'](_0x5eaa73)));}return null!==_0x4bd1ae&&(_0x4bd1ae['visible']=null!==_0xaba40b),null!==_0x1ae62c&&(_0x1ae62c['visible']=null!==_0x4ad15f),null!==_0xd6269&&(_0xd6269['visible']=null!==_0x30cfef),this;}['_getHandJoint'](_0x1cbffb,_0x1191f9){if(void 0x0===_0x1cbffb['joints'][_0x1191f9['jointName']]){const _0x16d909=new _0x46094d['YJl']();_0x16d909['matrixAutoUpdate']=!0x1,_0x16d909['visible']=!0x1,_0x1cbffb['joints'][_0x1191f9['jointName']]=_0x16d909,_0x1cbffb['add'](_0x16d909);}return _0x1cbffb['joints'][_0x1191f9['jointName']];}}class _0x4e0362{constructor(){this['texture']=null,this['mesh']=null,this['depthNear']=0x0,this['depthFar']=0x0;}['init'](_0x3b6105,_0x27f7d1,_0x155105){if(null===this['texture']){const _0x27bd44=new _0x46094d['gPd']();_0x3b6105['properties']['get'](_0x27bd44)['__webglTexture']=_0x27f7d1['texture'],_0x27f7d1['depthNear']===_0x155105['depthNear']&&_0x27f7d1['depthFar']===_0x155105['depthFar']||(this['depthNear']=_0x27f7d1['depthNear'],this['depthFar']=_0x27f7d1['depthFar']),this['texture']=_0x27bd44;}}['getMesh'](_0x3d5284){if(null!==this['texture']&&null===this['mesh']){const _0x34d57d=_0x3d5284['cameras'][0x0]['viewport'],_0x5ae9e7=new _0x46094d['BKk']({'vertexShader':'\x0avoid\x20main()\x20{\x0a\x0a\x09gl_Position\x20=\x20vec4(\x20position,\x201.0\x20);\x0a\x0a}','fragmentShader':'\x0auniform\x20sampler2DArray\x20depthColor;\x0auniform\x20float\x20depthWidth;\x0auniform\x20float\x20depthHeight;\x0a\x0avoid\x20main()\x20{\x0a\x0a\x09vec2\x20coord\x20=\x20vec2(\x20gl_FragCoord.x\x20/\x20depthWidth,\x20gl_FragCoord.y\x20/\x20depthHeight\x20);\x0a\x0a\x09if\x20(\x20coord.x\x20>=\x201.0\x20)\x20{\x0a\x0a\x09\x09gl_FragDepth\x20=\x20texture(\x20depthColor,\x20vec3(\x20coord.x\x20-\x201.0,\x20coord.y,\x201\x20)\x20).r;\x0a\x0a\x09}\x20else\x20{\x0a\x0a\x09\x09gl_FragDepth\x20=\x20texture(\x20depthColor,\x20vec3(\x20coord.x,\x20coord.y,\x200\x20)\x20).r;\x0a\x0a\x09}\x0a\x0a}','uniforms':{'depthColor':{'value':this['texture']},'depthWidth':{'value':_0x34d57d['z']},'depthHeight':{'value':_0x34d57d['w']}}});this['mesh']=new _0x46094d['eaF'](new _0x46094d['bdM'](0x14,0x14),_0x5ae9e7);}return this['mesh'];}['reset'](){this['texture']=null,this['mesh']=null;}['getDepthTexture'](){return this['texture'];}}class _0x54c26c extends _0x46094d['Qev']{constructor(_0x22cfd5,_0x2bca3e){super();const _0x46fc98=this;let _0x2171ae=null,_0x540af1=0x1,_0x5f31cd=null,_0x4f9228='local-floor',_0x560644=0x1,_0x25f179=null,_0x554233=null,_0x3bb8b8=null,_0x37d0c5=null,_0xd41ece=null,_0x2f8ec2=null;const _0x76069e=new _0x4e0362(),_0x4dfbf6=_0x2bca3e['getContextAttributes']();let _0x2f4bb6=null,_0x50b2f4=null;const _0x56b521=[],_0x142ef0=[],_0x219761=new _0x46094d['I9Y']();let _0xbbb927=null;const _0x8f0d87=new _0x46094d['ubm']();_0x8f0d87['viewport']=new _0x46094d['IUQ']();const _0x28d974=new _0x46094d['ubm']();_0x28d974['viewport']=new _0x46094d['IUQ']();const _0x5f1bc8=[_0x8f0d87,_0x28d974],_0xc13381=new _0x46094d['nZQ']();let _0x4954f7=null,_0x5ad95d=null;function _0x264159(_0x438b16){const _0x3a1cf9=_0x142ef0['indexOf'](_0x438b16['inputSource']);if(-0x1===_0x3a1cf9)return;const _0x2ad981=_0x56b521[_0x3a1cf9];void 0x0!==_0x2ad981&&(_0x2ad981['update'](_0x438b16['inputSource'],_0x438b16['frame'],_0x25f179||_0x5f31cd),_0x2ad981['dispatchEvent']({'type':_0x438b16['type'],'data':_0x438b16['inputSource']}));}function _0xf0b35f(){_0x2171ae['removeEventListener']('select',_0x264159),_0x2171ae['removeEventListener']('selectstart',_0x264159),_0x2171ae['removeEventListener']('selectend',_0x264159),_0x2171ae['removeEventListener']('squeeze',_0x264159),_0x2171ae['removeEventListener']('squeezestart',_0x264159),_0x2171ae['removeEventListener']('squeezeend',_0x264159),_0x2171ae['removeEventListener']('end',_0xf0b35f),_0x2171ae['removeEventListener']('inputsourceschange',_0x3dded6);for(let _0x3c05b6=0x0;_0x3c05b6<_0x56b521['length'];_0x3c05b6++){const _0x444a80=_0x142ef0[_0x3c05b6];null!==_0x444a80&&(_0x142ef0[_0x3c05b6]=null,_0x56b521[_0x3c05b6]['disconnect'](_0x444a80));}_0x4954f7=null,_0x5ad95d=null,_0x76069e['reset'](),_0x22cfd5['setRenderTarget'](_0x2f4bb6),_0xd41ece=null,_0x37d0c5=null,_0x3bb8b8=null,_0x2171ae=null,_0x50b2f4=null,_0x22c653['stop'](),_0x46fc98['isPresenting']=!0x1,_0x22cfd5['setPixelRatio'](_0xbbb927),_0x22cfd5['setSize'](_0x219761['width'],_0x219761['height'],!0x1),_0x46fc98['dispatchEvent']({'type':'sessionend'});}function _0x3dded6(_0x1601e6){for(let _0x1dd712=0x0;_0x1dd712<_0x1601e6['removed']['length'];_0x1dd712++){const _0x3bc43c=_0x1601e6['removed'][_0x1dd712],_0x4ae1fd=_0x142ef0['indexOf'](_0x3bc43c);_0x4ae1fd>=0x0&&(_0x142ef0[_0x4ae1fd]=null,_0x56b521[_0x4ae1fd]['disconnect'](_0x3bc43c));}for(let _0x21fcab=0x0;_0x21fcab<_0x1601e6['added']['length'];_0x21fcab++){const _0x1f5430=_0x1601e6['added'][_0x21fcab];let _0x22e1ee=_0x142ef0['indexOf'](_0x1f5430);if(-0x1===_0x22e1ee){for(let _0x43705e=0x0;_0x43705e<_0x56b521['length'];_0x43705e++){if(_0x43705e>=_0x142ef0['length']){_0x142ef0['push'](_0x1f5430),_0x22e1ee=_0x43705e;break;}if(null===_0x142ef0[_0x43705e]){_0x142ef0[_0x43705e]=_0x1f5430,_0x22e1ee=_0x43705e;break;}}if(-0x1===_0x22e1ee)break;}const _0x7cb73d=_0x56b521[_0x22e1ee];_0x7cb73d&&_0x7cb73d['connect'](_0x1f5430);}}this['cameraAutoUpdate']=!0x0,this['enabled']=!0x1,this['isPresenting']=!0x1,this['getController']=function(_0xcf3ca9){let _0x4285db=_0x56b521[_0xcf3ca9];return void 0x0===_0x4285db&&(_0x4285db=new _0x25e4f2(),_0x56b521[_0xcf3ca9]=_0x4285db),_0x4285db['getTargetRaySpace']();},this['getControllerGrip']=function(_0x546acb){let _0x2629f5=_0x56b521[_0x546acb];return void 0x0===_0x2629f5&&(_0x2629f5=new _0x25e4f2(),_0x56b521[_0x546acb]=_0x2629f5),_0x2629f5['getGripSpace']();},this['getHand']=function(_0x5bcc00){let _0x11bd9f=_0x56b521[_0x5bcc00];return void 0x0===_0x11bd9f&&(_0x11bd9f=new _0x25e4f2(),_0x56b521[_0x5bcc00]=_0x11bd9f),_0x11bd9f['getHandSpace']();},this['setFramebufferScaleFactor']=function(_0x1187a1){_0x540af1=_0x1187a1,!0x0===_0x46fc98['isPresenting']&&console['warn']('THREE.WebXRManager:\x20Cannot\x20change\x20framebuffer\x20scale\x20while\x20presenting.');},this['setReferenceSpaceType']=function(_0x56d999){_0x4f9228=_0x56d999,!0x0===_0x46fc98['isPresenting']&&console['warn']('THREE.WebXRManager:\x20Cannot\x20change\x20reference\x20space\x20type\x20while\x20presenting.');},this['getReferenceSpace']=function(){return _0x25f179||_0x5f31cd;},this['setReferenceSpace']=function(_0x4ea609){_0x25f179=_0x4ea609;},this['getBaseLayer']=function(){return null!==_0x37d0c5?_0x37d0c5:_0xd41ece;},this['getBinding']=function(){return _0x3bb8b8;},this['getFrame']=function(){return _0x2f8ec2;},this['getSession']=function(){return _0x2171ae;},this['setSession']=async function(_0x3660c9){if(_0x2171ae=_0x3660c9,null!==_0x2171ae){_0x2f4bb6=_0x22cfd5['getRenderTarget'](),_0x2171ae['addEventListener']('select',_0x264159),_0x2171ae['addEventListener']('selectstart',_0x264159),_0x2171ae['addEventListener']('selectend',_0x264159),_0x2171ae['addEventListener']('squeeze',_0x264159),_0x2171ae['addEventListener']('squeezestart',_0x264159),_0x2171ae['addEventListener']('squeezeend',_0x264159),_0x2171ae['addEventListener']('end',_0xf0b35f),_0x2171ae['addEventListener']('inputsourceschange',_0x3dded6),!0x0!==_0x4dfbf6['xrCompatible']&&await _0x2bca3e['makeXRCompatible'](),_0xbbb927=_0x22cfd5['getPixelRatio'](),_0x22cfd5['getSize'](_0x219761);if(void 0x0!==_0x2171ae['enabledFeatures']&&_0x2171ae['enabledFeatures']['includes']('layers')){let _0x28145f=null,_0x1ee39e=null,_0x282d4b=null;_0x4dfbf6['depth']&&(_0x282d4b=_0x4dfbf6['stencil']?_0x2bca3e['DEPTH24_STENCIL8']:_0x2bca3e['DEPTH_COMPONENT24'],_0x28145f=_0x4dfbf6['stencil']?_0x46094d['dcC']:_0x46094d['zdS'],_0x1ee39e=_0x4dfbf6['stencil']?_0x46094d['V3x']:_0x46094d['bkx']);const _0x505877={'colorFormat':_0x2bca3e['RGBA8'],'depthFormat':_0x282d4b,'scaleFactor':_0x540af1};_0x3bb8b8=new XRWebGLBinding(_0x2171ae,_0x2bca3e),_0x37d0c5=_0x3bb8b8['createProjectionLayer'](_0x505877),_0x2171ae['updateRenderState']({'layers':[_0x37d0c5]}),_0x22cfd5['setPixelRatio'](0x1),_0x22cfd5['setSize'](_0x37d0c5['textureWidth'],_0x37d0c5['textureHeight'],!0x1),_0x50b2f4=new _0x46094d['nWS'](_0x37d0c5['textureWidth'],_0x37d0c5['textureHeight'],{'format':_0x46094d['GWd'],'type':_0x46094d['OUM'],'depthTexture':new _0x46094d['VCu'](_0x37d0c5['textureWidth'],_0x37d0c5['textureHeight'],_0x1ee39e,void 0x0,void 0x0,void 0x0,void 0x0,void 0x0,void 0x0,_0x28145f),'stencilBuffer':_0x4dfbf6['stencil'],'colorSpace':_0x22cfd5['outputColorSpace'],'samples':_0x4dfbf6['antialias']?0x4:0x0,'resolveDepthBuffer':!0x1===_0x37d0c5['ignoreDepthValues']});}else{const _0x363f5b={'antialias':_0x4dfbf6['antialias'],'alpha':!0x0,'depth':_0x4dfbf6['depth'],'stencil':_0x4dfbf6['stencil'],'framebufferScaleFactor':_0x540af1};_0xd41ece=new XRWebGLLayer(_0x2171ae,_0x2bca3e,_0x363f5b),_0x2171ae['updateRenderState']({'baseLayer':_0xd41ece}),_0x22cfd5['setPixelRatio'](0x1),_0x22cfd5['setSize'](_0xd41ece['framebufferWidth'],_0xd41ece['framebufferHeight'],!0x1),_0x50b2f4=new _0x46094d['nWS'](_0xd41ece['framebufferWidth'],_0xd41ece['framebufferHeight'],{'format':_0x46094d['GWd'],'type':_0x46094d['OUM'],'colorSpace':_0x22cfd5['outputColorSpace'],'stencilBuffer':_0x4dfbf6['stencil']});}_0x50b2f4['isXRRenderTarget']=!0x0,this['setFoveation'](_0x560644),_0x25f179=null,_0x5f31cd=await _0x2171ae['requestReferenceSpace'](_0x4f9228),_0x22c653['setContext'](_0x2171ae),_0x22c653['start'](),_0x46fc98['isPresenting']=!0x0,_0x46fc98['dispatchEvent']({'type':'sessionstart'});}},this['getEnvironmentBlendMode']=function(){if(null!==_0x2171ae)return _0x2171ae['environmentBlendMode'];},this['getDepthTexture']=function(){return _0x76069e['getDepthTexture']();};const _0x10f217=new _0x46094d['Pq0'](),_0x23770b=new _0x46094d['Pq0']();function _0x4f1c66(_0x392dca,_0x22cc16){null===_0x22cc16?_0x392dca['matrixWorld']['copy'](_0x392dca['matrix']):_0x392dca['matrixWorld']['multiplyMatrices'](_0x22cc16['matrixWorld'],_0x392dca['matrix']),_0x392dca['matrixWorldInverse']['copy'](_0x392dca['matrixWorld'])['invert']();}this['updateCamera']=function(_0x217f83){if(null===_0x2171ae)return;let _0x2c0632=_0x217f83['near'],_0x49b796=_0x217f83['far'];null!==_0x76069e['texture']&&(_0x76069e['depthNear']>0x0&&(_0x2c0632=_0x76069e['depthNear']),_0x76069e['depthFar']>0x0&&(_0x49b796=_0x76069e['depthFar'])),_0xc13381['near']=_0x28d974['near']=_0x8f0d87['near']=_0x2c0632,_0xc13381['far']=_0x28d974['far']=_0x8f0d87['far']=_0x49b796,_0x4954f7===_0xc13381['near']&&_0x5ad95d===_0xc13381['far']||(_0x2171ae['updateRenderState']({'depthNear':_0xc13381['near'],'depthFar':_0xc13381['far']}),_0x4954f7=_0xc13381['near'],_0x5ad95d=_0xc13381['far']),_0x8f0d87['layers']['mask']=0x2|_0x217f83['layers']['mask'],_0x28d974['layers']['mask']=0x4|_0x217f83['layers']['mask'],_0xc13381['layers']['mask']=_0x8f0d87['layers']['mask']|_0x28d974['layers']['mask'];const _0x1223ad=_0x217f83['parent'],_0x4929c4=_0xc13381['cameras'];_0x4f1c66(_0xc13381,_0x1223ad);for(let _0xf55942=0x0;_0xf55942<_0x4929c4['length'];_0xf55942++)_0x4f1c66(_0x4929c4[_0xf55942],_0x1223ad);0x2===_0x4929c4['length']?function(_0x32c734,_0x3761e5,_0x4b4ab4){_0x10f217['setFromMatrixPosition'](_0x3761e5['matrixWorld']),_0x23770b['setFromMatrixPosition'](_0x4b4ab4['matrixWorld']);const _0x7b4d6f=_0x10f217['distanceTo'](_0x23770b),_0x4898cb=_0x3761e5['projectionMatrix']['elements'],_0x1f360d=_0x4b4ab4['projectionMatrix']['elements'],_0x20e4e7=_0x4898cb[0xe]/(_0x4898cb[0xa]-0x1),_0x4b7fbb=_0x4898cb[0xe]/(_0x4898cb[0xa]+0x1),_0x353a2c=(_0x4898cb[0x9]+0x1)/_0x4898cb[0x5],_0x2251f3=(_0x4898cb[0x9]-0x1)/_0x4898cb[0x5],_0x5ae75d=(_0x4898cb[0x8]-0x1)/_0x4898cb[0x0],_0x324c3b=(_0x1f360d[0x8]+0x1)/_0x1f360d[0x0],_0x4795b7=_0x20e4e7*_0x5ae75d,_0x4e1080=_0x20e4e7*_0x324c3b,_0x3752c1=_0x7b4d6f/(-_0x5ae75d+_0x324c3b),_0x251d58=_0x3752c1*-_0x5ae75d;if(_0x3761e5['matrixWorld']['decompose'](_0x32c734['position'],_0x32c734['quaternion'],_0x32c734['scale']),_0x32c734['translateX'](_0x251d58),_0x32c734['translateZ'](_0x3752c1),_0x32c734['matrixWorld']['compose'](_0x32c734['position'],_0x32c734['quaternion'],_0x32c734['scale']),_0x32c734['matrixWorldInverse']['copy'](_0x32c734['matrixWorld'])['invert'](),-0x1===_0x4898cb[0xa])_0x32c734['projectionMatrix']['copy'](_0x3761e5['projectionMatrix']),_0x32c734['projectionMatrixInverse']['copy'](_0x3761e5['projectionMatrixInverse']);else{const _0x1db555=_0x20e4e7+_0x3752c1,_0x97a378=_0x4b7fbb+_0x3752c1,_0x34e264=_0x4795b7-_0x251d58,_0xb245b8=_0x4e1080+(_0x7b4d6f-_0x251d58),_0x2fb869=_0x353a2c*_0x4b7fbb/_0x97a378*_0x1db555,_0x27e85f=_0x2251f3*_0x4b7fbb/_0x97a378*_0x1db555;_0x32c734['projectionMatrix']['makePerspective'](_0x34e264,_0xb245b8,_0x2fb869,_0x27e85f,_0x1db555,_0x97a378),_0x32c734['projectionMatrixInverse']['copy'](_0x32c734['projectionMatrix'])['invert']();}}(_0xc13381,_0x8f0d87,_0x28d974):_0xc13381['projectionMatrix']['copy'](_0x8f0d87['projectionMatrix']),function(_0x169e70,_0x58c838,_0x51221e){null===_0x51221e?_0x169e70['matrix']['copy'](_0x58c838['matrixWorld']):(_0x169e70['matrix']['copy'](_0x51221e['matrixWorld']),_0x169e70['matrix']['invert'](),_0x169e70['matrix']['multiply'](_0x58c838['matrixWorld'])),(_0x169e70['matrix']['decompose'](_0x169e70['position'],_0x169e70['quaternion'],_0x169e70['scale']),_0x169e70['updateMatrixWorld'](!0x0),_0x169e70['projectionMatrix']['copy'](_0x58c838['projectionMatrix']),_0x169e70['projectionMatrixInverse']['copy'](_0x58c838['projectionMatrixInverse']),_0x169e70['isPerspectiveCamera']&&(_0x169e70['fov']=0x2*_0x46094d['a55']*Math['atan'](0x1/_0x169e70['projectionMatrix']['elements'][0x5]),_0x169e70['zoom']=0x1));}(_0x217f83,_0xc13381,_0x1223ad);},this['getCamera']=function(){return _0xc13381;},this['getFoveation']=function(){if(null!==_0x37d0c5||null!==_0xd41ece)return _0x560644;},this['setFoveation']=function(_0x3943a1){_0x560644=_0x3943a1,null!==_0x37d0c5&&(_0x37d0c5['fixedFoveation']=_0x3943a1),null!==_0xd41ece&&void 0x0!==_0xd41ece['fixedFoveation']&&(_0xd41ece['fixedFoveation']=_0x3943a1);},this['hasDepthSensing']=function(){return null!==_0x76069e['texture'];},this['getDepthSensingMesh']=function(){return _0x76069e['getMesh'](_0xc13381);};let _0x1b52d9=null;const _0x22c653=new _0x1073b9();_0x22c653['setAnimationLoop'](function(_0x2a6af4,_0x5a5281){if(_0x554233=_0x5a5281['getViewerPose'](_0x25f179||_0x5f31cd),_0x2f8ec2=_0x5a5281,null!==_0x554233){const _0x348ec6=_0x554233['views'];null!==_0xd41ece&&(_0x22cfd5['setRenderTargetFramebuffer'](_0x50b2f4,_0xd41ece['framebuffer']),_0x22cfd5['setRenderTarget'](_0x50b2f4));let _0x38d855=!0x1;_0x348ec6['length']!==_0xc13381['cameras']['length']&&(_0xc13381['cameras']['length']=0x0,_0x38d855=!0x0);for(let _0x3a85bb=0x0;_0x3a85bb<_0x348ec6['length'];_0x3a85bb++){const _0x5e7ac9=_0x348ec6[_0x3a85bb];let _0x19c38a=null;if(null!==_0xd41ece)_0x19c38a=_0xd41ece['getViewport'](_0x5e7ac9);else{const _0x5214ec=_0x3bb8b8['getViewSubImage'](_0x37d0c5,_0x5e7ac9);_0x19c38a=_0x5214ec['viewport'],0x0===_0x3a85bb&&(_0x22cfd5['setRenderTargetTextures'](_0x50b2f4,_0x5214ec['colorTexture'],_0x37d0c5['ignoreDepthValues']?void 0x0:_0x5214ec['depthStencilTexture']),_0x22cfd5['setRenderTarget'](_0x50b2f4));}let _0x3cde8b=_0x5f1bc8[_0x3a85bb];void 0x0===_0x3cde8b&&(_0x3cde8b=new _0x46094d['ubm'](),_0x3cde8b['layers']['enable'](_0x3a85bb),_0x3cde8b['viewport']=new _0x46094d['IUQ'](),_0x5f1bc8[_0x3a85bb]=_0x3cde8b),_0x3cde8b['matrix']['fromArray'](_0x5e7ac9['transform']['matrix']),_0x3cde8b['matrix']['decompose'](_0x3cde8b['position'],_0x3cde8b['quaternion'],_0x3cde8b['scale']),_0x3cde8b['projectionMatrix']['fromArray'](_0x5e7ac9['projectionMatrix']),_0x3cde8b['projectionMatrixInverse']['copy'](_0x3cde8b['projectionMatrix'])['invert'](),_0x3cde8b['viewport']['set'](_0x19c38a['x'],_0x19c38a['y'],_0x19c38a['width'],_0x19c38a['height']),0x0===_0x3a85bb&&(_0xc13381['matrix']['copy'](_0x3cde8b['matrix']),_0xc13381['matrix']['decompose'](_0xc13381['position'],_0xc13381['quaternion'],_0xc13381['scale'])),!0x0===_0x38d855&&_0xc13381['cameras']['push'](_0x3cde8b);}const _0x4a703e=_0x2171ae['enabledFeatures'];if(_0x4a703e&&_0x4a703e['includes']('depth-sensing')){const _0x40fcb7=_0x3bb8b8['getDepthInformation'](_0x348ec6[0x0]);_0x40fcb7&&_0x40fcb7['isValid']&&_0x40fcb7['texture']&&_0x76069e['init'](_0x22cfd5,_0x40fcb7,_0x2171ae['renderState']);}}for(let _0x39a23e=0x0;_0x39a23e<_0x56b521['length'];_0x39a23e++){const _0x294bc6=_0x142ef0[_0x39a23e],_0x522d39=_0x56b521[_0x39a23e];null!==_0x294bc6&&void 0x0!==_0x522d39&&_0x522d39['update'](_0x294bc6,_0x5a5281,_0x25f179||_0x5f31cd);}_0x1b52d9&&_0x1b52d9(_0x2a6af4,_0x5a5281),_0x5a5281['detectedPlanes']&&_0x46fc98['dispatchEvent']({'type':'planesdetected','data':_0x5a5281}),_0x2f8ec2=null;}),this['setAnimationLoop']=function(_0x461af9){_0x1b52d9=_0x461af9;},this['dispose']=function(){};}}const _0x4f16e8=new _0x46094d['O9p'](),_0x94ea31=new _0x46094d['kn4']();function _0x2cb810(_0xcbb113,_0x29a6ce){function _0x2cd191(_0x322662,_0x1c47f2){!0x0===_0x322662['matrixAutoUpdate']&&_0x322662['updateMatrix'](),_0x1c47f2['value']['copy'](_0x322662['matrix']);}function _0x33a7ef(_0x4811ea,_0x13407b){_0x4811ea['opacity']['value']=_0x13407b['opacity'],_0x13407b['color']&&_0x4811ea['diffuse']['value']['copy'](_0x13407b['color']),_0x13407b['emissive']&&_0x4811ea['emissive']['value']['copy'](_0x13407b['emissive'])['multiplyScalar'](_0x13407b['emissiveIntensity']),_0x13407b['map']&&(_0x4811ea['map']['value']=_0x13407b['map'],_0x2cd191(_0x13407b['map'],_0x4811ea['mapTransform'])),_0x13407b['alphaMap']&&(_0x4811ea['alphaMap']['value']=_0x13407b['alphaMap'],_0x2cd191(_0x13407b['alphaMap'],_0x4811ea['alphaMapTransform'])),_0x13407b['bumpMap']&&(_0x4811ea['bumpMap']['value']=_0x13407b['bumpMap'],_0x2cd191(_0x13407b['bumpMap'],_0x4811ea['bumpMapTransform']),_0x4811ea['bumpScale']['value']=_0x13407b['bumpScale'],_0x13407b['side']===_0x46094d['hsX']&&(_0x4811ea['bumpScale']['value']*=-0x1)),_0x13407b['normalMap']&&(_0x4811ea['normalMap']['value']=_0x13407b['normalMap'],_0x2cd191(_0x13407b['normalMap'],_0x4811ea['normalMapTransform']),_0x4811ea['normalScale']['value']['copy'](_0x13407b['normalScale']),_0x13407b['side']===_0x46094d['hsX']&&_0x4811ea['normalScale']['value']['negate']()),_0x13407b['displacementMap']&&(_0x4811ea['displacementMap']['value']=_0x13407b['displacementMap'],_0x2cd191(_0x13407b['displacementMap'],_0x4811ea['displacementMapTransform']),_0x4811ea['displacementScale']['value']=_0x13407b['displacementScale'],_0x4811ea['displacementBias']['value']=_0x13407b['displacementBias']),_0x13407b['emissiveMap']&&(_0x4811ea['emissiveMap']['value']=_0x13407b['emissiveMap'],_0x2cd191(_0x13407b['emissiveMap'],_0x4811ea['emissiveMapTransform'])),_0x13407b['specularMap']&&(_0x4811ea['specularMap']['value']=_0x13407b['specularMap'],_0x2cd191(_0x13407b['specularMap'],_0x4811ea['specularMapTransform'])),_0x13407b['alphaTest']>0x0&&(_0x4811ea['alphaTest']['value']=_0x13407b['alphaTest']);const _0x59db9e=_0x29a6ce['get'](_0x13407b),_0x53cf1b=_0x59db9e['envMap'],_0x36f8c6=_0x59db9e['envMapRotation'];_0x53cf1b&&(_0x4811ea['envMap']['value']=_0x53cf1b,_0x4f16e8['copy'](_0x36f8c6),_0x4f16e8['x']*=-0x1,_0x4f16e8['y']*=-0x1,_0x4f16e8['z']*=-0x1,_0x53cf1b['isCubeTexture']&&!0x1===_0x53cf1b['isRenderTargetTexture']&&(_0x4f16e8['y']*=-0x1,_0x4f16e8['z']*=-0x1),_0x4811ea['envMapRotation']['value']['setFromMatrix4'](_0x94ea31['makeRotationFromEuler'](_0x4f16e8)),_0x4811ea['flipEnvMap']['value']=_0x53cf1b['isCubeTexture']&&!0x1===_0x53cf1b['isRenderTargetTexture']?-0x1:0x1,_0x4811ea['reflectivity']['value']=_0x13407b['reflectivity'],_0x4811ea['ior']['value']=_0x13407b['ior'],_0x4811ea['refractionRatio']['value']=_0x13407b['refractionRatio']),_0x13407b['lightMap']&&(_0x4811ea['lightMap']['value']=_0x13407b['lightMap'],_0x4811ea['lightMapIntensity']['value']=_0x13407b['lightMapIntensity'],_0x2cd191(_0x13407b['lightMap'],_0x4811ea['lightMapTransform'])),_0x13407b['aoMap']&&(_0x4811ea['aoMap']['value']=_0x13407b['aoMap'],_0x4811ea['aoMapIntensity']['value']=_0x13407b['aoMapIntensity'],_0x2cd191(_0x13407b['aoMap'],_0x4811ea['aoMapTransform']));}return{'refreshFogUniforms':function(_0x249039,_0x475b40){_0x475b40['color']['getRGB'](_0x249039['fogColor']['value'],(0x0,_0x46094d['_Ut'])(_0xcbb113)),_0x475b40['isFog']?(_0x249039['fogNear']['value']=_0x475b40['near'],_0x249039['fogFar']['value']=_0x475b40['far']):_0x475b40['isFogExp2']&&(_0x249039['fogDensity']['value']=_0x475b40['density']);},'refreshMaterialUniforms':function(_0x5f4f56,_0x38c0e9,_0xf15939,_0x599fb5,_0x2b48bd){_0x38c0e9['isMeshBasicMaterial']||_0x38c0e9['isMeshLambertMaterial']?_0x33a7ef(_0x5f4f56,_0x38c0e9):_0x38c0e9['isMeshToonMaterial']?(_0x33a7ef(_0x5f4f56,_0x38c0e9),function(_0x5e76e7,_0x397c2b){_0x397c2b['gradientMap']&&(_0x5e76e7['gradientMap']['value']=_0x397c2b['gradientMap']);}(_0x5f4f56,_0x38c0e9)):_0x38c0e9['isMeshPhongMaterial']?(_0x33a7ef(_0x5f4f56,_0x38c0e9),function(_0x1cdabc,_0x21fea1){_0x1cdabc['specular']['value']['copy'](_0x21fea1['specular']),_0x1cdabc['shininess']['value']=Math['max'](_0x21fea1['shininess'],0.0001);}(_0x5f4f56,_0x38c0e9)):_0x38c0e9['isMeshStandardMaterial']?(_0x33a7ef(_0x5f4f56,_0x38c0e9),function(_0x2f1cac,_0x3c0851){_0x2f1cac['metalness']['value']=_0x3c0851['metalness'],_0x3c0851['metalnessMap']&&(_0x2f1cac['metalnessMap']['value']=_0x3c0851['metalnessMap'],_0x2cd191(_0x3c0851['metalnessMap'],_0x2f1cac['metalnessMapTransform'])),(_0x2f1cac['roughness']['value']=_0x3c0851['roughness'],_0x3c0851['roughnessMap']&&(_0x2f1cac['roughnessMap']['value']=_0x3c0851['roughnessMap'],_0x2cd191(_0x3c0851['roughnessMap'],_0x2f1cac['roughnessMapTransform']))),_0x3c0851['envMap']&&(_0x2f1cac['envMapIntensity']['value']=_0x3c0851['envMapIntensity']);}(_0x5f4f56,_0x38c0e9),_0x38c0e9['isMeshPhysicalMaterial']&&function(_0x2a0247,_0x34f089,_0x2bd553){_0x2a0247['ior']['value']=_0x34f089['ior'],_0x34f089['sheen']>0x0&&(_0x2a0247['sheenColor']['value']['copy'](_0x34f089['sheenColor'])['multiplyScalar'](_0x34f089['sheen']),_0x2a0247['sheenRoughness']['value']=_0x34f089['sheenRoughness'],_0x34f089['sheenColorMap']&&(_0x2a0247['sheenColorMap']['value']=_0x34f089['sheenColorMap'],_0x2cd191(_0x34f089['sheenColorMap'],_0x2a0247['sheenColorMapTransform'])),_0x34f089['sheenRoughnessMap']&&(_0x2a0247['sheenRoughnessMap']['value']=_0x34f089['sheenRoughnessMap'],_0x2cd191(_0x34f089['sheenRoughnessMap'],_0x2a0247['sheenRoughnessMapTransform']))),_0x34f089['clearcoat']>0x0&&(_0x2a0247['clearcoat']['value']=_0x34f089['clearcoat'],_0x2a0247['clearcoatRoughness']['value']=_0x34f089['clearcoatRoughness'],_0x34f089['clearcoatMap']&&(_0x2a0247['clearcoatMap']['value']=_0x34f089['clearcoatMap'],_0x2cd191(_0x34f089['clearcoatMap'],_0x2a0247['clearcoatMapTransform'])),_0x34f089['clearcoatRoughnessMap']&&(_0x2a0247['clearcoatRoughnessMap']['value']=_0x34f089['clearcoatRoughnessMap'],_0x2cd191(_0x34f089['clearcoatRoughnessMap'],_0x2a0247['clearcoatRoughnessMapTransform'])),_0x34f089['clearcoatNormalMap']&&(_0x2a0247['clearcoatNormalMap']['value']=_0x34f089['clearcoatNormalMap'],_0x2cd191(_0x34f089['clearcoatNormalMap'],_0x2a0247['clearcoatNormalMapTransform']),_0x2a0247['clearcoatNormalScale']['value']['copy'](_0x34f089['clearcoatNormalScale']),_0x34f089['side']===_0x46094d['hsX']&&_0x2a0247['clearcoatNormalScale']['value']['negate']())),_0x34f089['dispersion']>0x0&&(_0x2a0247['dispersion']['value']=_0x34f089['dispersion']),_0x34f089['iridescence']>0x0&&(_0x2a0247['iridescence']['value']=_0x34f089['iridescence'],_0x2a0247['iridescenceIOR']['value']=_0x34f089['iridescenceIOR'],_0x2a0247['iridescenceThicknessMinimum']['value']=_0x34f089['iridescenceThicknessRange'][0x0],_0x2a0247['iridescenceThicknessMaximum']['value']=_0x34f089['iridescenceThicknessRange'][0x1],_0x34f089['iridescenceMap']&&(_0x2a0247['iridescenceMap']['value']=_0x34f089['iridescenceMap'],_0x2cd191(_0x34f089['iridescenceMap'],_0x2a0247['iridescenceMapTransform'])),_0x34f089['iridescenceThicknessMap']&&(_0x2a0247['iridescenceThicknessMap']['value']=_0x34f089['iridescenceThicknessMap'],_0x2cd191(_0x34f089['iridescenceThicknessMap'],_0x2a0247['iridescenceThicknessMapTransform']))),_0x34f089['transmission']>0x0&&(_0x2a0247['transmission']['value']=_0x34f089['transmission'],_0x2a0247['transmissionSamplerMap']['value']=_0x2bd553['texture'],_0x2a0247['transmissionSamplerSize']['value']['set'](_0x2bd553['width'],_0x2bd553['height']),_0x34f089['transmissionMap']&&(_0x2a0247['transmissionMap']['value']=_0x34f089['transmissionMap'],_0x2cd191(_0x34f089['transmissionMap'],_0x2a0247['transmissionMapTransform'])),_0x2a0247['thickness']['value']=_0x34f089['thickness'],_0x34f089['thicknessMap']&&(_0x2a0247['thicknessMap']['value']=_0x34f089['thicknessMap'],_0x2cd191(_0x34f089['thicknessMap'],_0x2a0247['thicknessMapTransform'])),_0x2a0247['attenuationDistance']['value']=_0x34f089['attenuationDistance'],_0x2a0247['attenuationColor']['value']['copy'](_0x34f089['attenuationColor'])),_0x34f089['anisotropy']>0x0&&(_0x2a0247['anisotropyVector']['value']['set'](_0x34f089['anisotropy']*Math['cos'](_0x34f089['anisotropyRotation']),_0x34f089['anisotropy']*Math['sin'](_0x34f089['anisotropyRotation'])),_0x34f089['anisotropyMap']&&(_0x2a0247['anisotropyMap']['value']=_0x34f089['anisotropyMap'],_0x2cd191(_0x34f089['anisotropyMap'],_0x2a0247['anisotropyMapTransform']))),(_0x2a0247['specularIntensity']['value']=_0x34f089['specularIntensity'],_0x2a0247['specularColor']['value']['copy'](_0x34f089['specularColor']),_0x34f089['specularColorMap']&&(_0x2a0247['specularColorMap']['value']=_0x34f089['specularColorMap'],_0x2cd191(_0x34f089['specularColorMap'],_0x2a0247['specularColorMapTransform']))),_0x34f089['specularIntensityMap']&&(_0x2a0247['specularIntensityMap']['value']=_0x34f089['specularIntensityMap'],_0x2cd191(_0x34f089['specularIntensityMap'],_0x2a0247['specularIntensityMapTransform']));}(_0x5f4f56,_0x38c0e9,_0x2b48bd)):_0x38c0e9['isMeshMatcapMaterial']?(_0x33a7ef(_0x5f4f56,_0x38c0e9),function(_0x3dba67,_0x1e1174){_0x1e1174['matcap']&&(_0x3dba67['matcap']['value']=_0x1e1174['matcap']);}(_0x5f4f56,_0x38c0e9)):_0x38c0e9['isMeshDepthMaterial']?_0x33a7ef(_0x5f4f56,_0x38c0e9):_0x38c0e9['isMeshDistanceMaterial']?(_0x33a7ef(_0x5f4f56,_0x38c0e9),function(_0x1ebd73,_0x5bdbcb){const _0x17ed4d=_0x29a6ce['get'](_0x5bdbcb)['light'];_0x1ebd73['referencePosition']['value']['setFromMatrixPosition'](_0x17ed4d['matrixWorld']),_0x1ebd73['nearDistance']['value']=_0x17ed4d['shadow']['camera']['near'],_0x1ebd73['farDistance']['value']=_0x17ed4d['shadow']['camera']['far'];}(_0x5f4f56,_0x38c0e9)):_0x38c0e9['isMeshNormalMaterial']?_0x33a7ef(_0x5f4f56,_0x38c0e9):_0x38c0e9['isLineBasicMaterial']?(function(_0x9eb6ad,_0x2d55d7){_0x9eb6ad['diffuse']['value']['copy'](_0x2d55d7['color']),_0x9eb6ad['opacity']['value']=_0x2d55d7['opacity'],_0x2d55d7['map']&&(_0x9eb6ad['map']['value']=_0x2d55d7['map'],_0x2cd191(_0x2d55d7['map'],_0x9eb6ad['mapTransform']));}(_0x5f4f56,_0x38c0e9),_0x38c0e9['isLineDashedMaterial']&&function(_0x40d13b,_0x5ad54f){_0x40d13b['dashSize']['value']=_0x5ad54f['dashSize'],_0x40d13b['totalSize']['value']=_0x5ad54f['dashSize']+_0x5ad54f['gapSize'],_0x40d13b['scale']['value']=_0x5ad54f['scale'];}(_0x5f4f56,_0x38c0e9)):_0x38c0e9['isPointsMaterial']?function(_0xcc8b9c,_0x19048b,_0x50edfd,_0x3d9812){_0xcc8b9c['diffuse']['value']['copy'](_0x19048b['color']),_0xcc8b9c['opacity']['value']=_0x19048b['opacity'],_0xcc8b9c['size']['value']=_0x19048b['size']*_0x50edfd,_0xcc8b9c['scale']['value']=0.5*_0x3d9812,_0x19048b['map']&&(_0xcc8b9c['map']['value']=_0x19048b['map'],_0x2cd191(_0x19048b['map'],_0xcc8b9c['uvTransform'])),_0x19048b['alphaMap']&&(_0xcc8b9c['alphaMap']['value']=_0x19048b['alphaMap'],_0x2cd191(_0x19048b['alphaMap'],_0xcc8b9c['alphaMapTransform'])),_0x19048b['alphaTest']>0x0&&(_0xcc8b9c['alphaTest']['value']=_0x19048b['alphaTest']);}(_0x5f4f56,_0x38c0e9,_0xf15939,_0x599fb5):_0x38c0e9['isSpriteMaterial']?function(_0x5bac2c,_0xf11ce6){_0x5bac2c['diffuse']['value']['copy'](_0xf11ce6['color']),_0x5bac2c['opacity']['value']=_0xf11ce6['opacity'],_0x5bac2c['rotation']['value']=_0xf11ce6['rotation'],_0xf11ce6['map']&&(_0x5bac2c['map']['value']=_0xf11ce6['map'],_0x2cd191(_0xf11ce6['map'],_0x5bac2c['mapTransform'])),_0xf11ce6['alphaMap']&&(_0x5bac2c['alphaMap']['value']=_0xf11ce6['alphaMap'],_0x2cd191(_0xf11ce6['alphaMap'],_0x5bac2c['alphaMapTransform'])),_0xf11ce6['alphaTest']>0x0&&(_0x5bac2c['alphaTest']['value']=_0xf11ce6['alphaTest']);}(_0x5f4f56,_0x38c0e9):_0x38c0e9['isShadowMaterial']?(_0x5f4f56['color']['value']['copy'](_0x38c0e9['color']),_0x5f4f56['opacity']['value']=_0x38c0e9['opacity']):_0x38c0e9['isShaderMaterial']&&(_0x38c0e9['uniformsNeedUpdate']=!0x1);}};}function _0x23d1c2(_0x2ac967,_0x50d95c,_0x1c8717,_0x37a2c8){let _0x2fac7c={},_0x43e401={},_0x296087=[];const _0x278b10=_0x2ac967['getParameter'](_0x2ac967['MAX_UNIFORM_BUFFER_BINDINGS']);function _0x3d8a2b(_0x1e594a,_0xd7ada1,_0xf6b841,_0x2bac46){const _0x16d4e5=_0x1e594a['value'],_0xec3523=_0xd7ada1+'_'+_0xf6b841;if(void 0x0===_0x2bac46[_0xec3523])return _0x2bac46[_0xec3523]='number'==typeof _0x16d4e5||'boolean'==typeof _0x16d4e5?_0x16d4e5:_0x16d4e5['clone'](),!0x0;{const _0x598b7e=_0x2bac46[_0xec3523];if('number'==typeof _0x16d4e5||'boolean'==typeof _0x16d4e5){if(_0x598b7e!==_0x16d4e5)return _0x2bac46[_0xec3523]=_0x16d4e5,!0x0;}else{if(!0x1===_0x598b7e['equals'](_0x16d4e5))return _0x598b7e['copy'](_0x16d4e5),!0x0;}}return!0x1;}function _0x36e597(_0x5978f2){const _0x3a00eb={'boundary':0x0,'storage':0x0};return'number'==typeof _0x5978f2||'boolean'==typeof _0x5978f2?(_0x3a00eb['boundary']=0x4,_0x3a00eb['storage']=0x4):_0x5978f2['isVector2']?(_0x3a00eb['boundary']=0x8,_0x3a00eb['storage']=0x8):_0x5978f2['isVector3']||_0x5978f2['isColor']?(_0x3a00eb['boundary']=0x10,_0x3a00eb['storage']=0xc):_0x5978f2['isVector4']?(_0x3a00eb['boundary']=0x10,_0x3a00eb['storage']=0x10):_0x5978f2['isMatrix3']?(_0x3a00eb['boundary']=0x30,_0x3a00eb['storage']=0x30):_0x5978f2['isMatrix4']?(_0x3a00eb['boundary']=0x40,_0x3a00eb['storage']=0x40):_0x5978f2['isTexture']?console['warn']('THREE.WebGLRenderer:\x20Texture\x20samplers\x20can\x20not\x20be\x20part\x20of\x20an\x20uniforms\x20group.'):console['warn']('THREE.WebGLRenderer:\x20Unsupported\x20uniform\x20value\x20type.',_0x5978f2),_0x3a00eb;}function _0x1bf817(_0x638548){const _0x1a052e=_0x638548['target'];_0x1a052e['removeEventListener']('dispose',_0x1bf817);const _0x2012c2=_0x296087['indexOf'](_0x1a052e['__bindingPointIndex']);_0x296087['splice'](_0x2012c2,0x1),_0x2ac967['deleteBuffer'](_0x2fac7c[_0x1a052e['id']]),delete _0x2fac7c[_0x1a052e['id']],delete _0x43e401[_0x1a052e['id']];}return{'bind':function(_0x31a498,_0x26cca5){const _0x1b45db=_0x26cca5['program'];_0x37a2c8['uniformBlockBinding'](_0x31a498,_0x1b45db);},'update':function(_0x1c3f78,_0x1097af){let _0xa56b8d=_0x2fac7c[_0x1c3f78['id']];void 0x0===_0xa56b8d&&(!function(_0x33d154){const _0x36a747=_0x33d154['uniforms'];let _0x14e93f=0x0;const _0x32109d=0x10;for(let _0x5f2919=0x0,_0x2b0a70=_0x36a747['length'];_0x5f2919<_0x2b0a70;_0x5f2919++){const _0x594cc7=Array['isArray'](_0x36a747[_0x5f2919])?_0x36a747[_0x5f2919]:[_0x36a747[_0x5f2919]];for(let _0x8f7de8=0x0,_0x1e3978=_0x594cc7['length'];_0x8f7de8<_0x1e3978;_0x8f7de8++){const _0x1c9edd=_0x594cc7[_0x8f7de8],_0x20db70=Array['isArray'](_0x1c9edd['value'])?_0x1c9edd['value']:[_0x1c9edd['value']];for(let _0x19e797=0x0,_0x466a57=_0x20db70['length'];_0x19e797<_0x466a57;_0x19e797++){const _0x497438=_0x36e597(_0x20db70[_0x19e797]),_0x2050d4=_0x14e93f%_0x32109d,_0x1ea94a=_0x2050d4%_0x497438['boundary'],_0x2ce7f9=_0x2050d4+_0x1ea94a;_0x14e93f+=_0x1ea94a,0x0!==_0x2ce7f9&&_0x32109d-_0x2ce7f9<_0x497438['storage']&&(_0x14e93f+=_0x32109d-_0x2ce7f9),_0x1c9edd['__data']=new Float32Array(_0x497438['storage']/Float32Array['BYTES_PER_ELEMENT']),_0x1c9edd['__offset']=_0x14e93f,_0x14e93f+=_0x497438['storage'];}}}const _0x13f6c0=_0x14e93f%_0x32109d;_0x13f6c0>0x0&&(_0x14e93f+=_0x32109d-_0x13f6c0),(_0x33d154['__size']=_0x14e93f,_0x33d154['__cache']={});}(_0x1c3f78),_0xa56b8d=function(_0x187281){const _0x53e325=(function(){for(let _0x119c7f=0x0;_0x119c7f<_0x278b10;_0x119c7f++)if(-0x1===_0x296087['indexOf'](_0x119c7f))return _0x296087['push'](_0x119c7f),_0x119c7f;return console['error']('THREE.WebGLRenderer:\x20Maximum\x20number\x20of\x20simultaneously\x20usable\x20uniforms\x20groups\x20reached.'),0x0;}());_0x187281['__bindingPointIndex']=_0x53e325;const _0x5e0ea6=_0x2ac967['createBuffer'](),_0x5008f8=_0x187281['__size'],_0xce4e47=_0x187281['usage'];return _0x2ac967['bindBuffer'](_0x2ac967['UNIFORM_BUFFER'],_0x5e0ea6),_0x2ac967['bufferData'](_0x2ac967['UNIFORM_BUFFER'],_0x5008f8,_0xce4e47),_0x2ac967['bindBuffer'](_0x2ac967['UNIFORM_BUFFER'],null),_0x2ac967['bindBufferBase'](_0x2ac967['UNIFORM_BUFFER'],_0x53e325,_0x5e0ea6),_0x5e0ea6;}(_0x1c3f78),_0x2fac7c[_0x1c3f78['id']]=_0xa56b8d,_0x1c3f78['addEventListener']('dispose',_0x1bf817));const _0x29e8cb=_0x1097af['program'];_0x37a2c8['updateUBOMapping'](_0x1c3f78,_0x29e8cb);const _0x401dcb=_0x50d95c['render']['frame'];_0x43e401[_0x1c3f78['id']]!==_0x401dcb&&(!function(_0x6a79a9){const _0x287d21=_0x2fac7c[_0x6a79a9['id']],_0x909d33=_0x6a79a9['uniforms'],_0x2604b7=_0x6a79a9['__cache'];_0x2ac967['bindBuffer'](_0x2ac967['UNIFORM_BUFFER'],_0x287d21);for(let _0x29295f=0x0,_0x31ed63=_0x909d33['length'];_0x29295f<_0x31ed63;_0x29295f++){const _0x1c4b0b=Array['isArray'](_0x909d33[_0x29295f])?_0x909d33[_0x29295f]:[_0x909d33[_0x29295f]];for(let _0x43ff04=0x0,_0x80932d=_0x1c4b0b['length'];_0x43ff04<_0x80932d;_0x43ff04++){const _0xe9446a=_0x1c4b0b[_0x43ff04];if(!0x0===_0x3d8a2b(_0xe9446a,_0x29295f,_0x43ff04,_0x2604b7)){const _0x5bdaf4=_0xe9446a['__offset'],_0x3fdc19=Array['isArray'](_0xe9446a['value'])?_0xe9446a['value']:[_0xe9446a['value']];let _0xdf5a3d=0x0;for(let _0x218f5f=0x0;_0x218f5f<_0x3fdc19['length'];_0x218f5f++){const _0x9035ac=_0x3fdc19[_0x218f5f],_0x4a948b=_0x36e597(_0x9035ac);'number'==typeof _0x9035ac||'boolean'==typeof _0x9035ac?(_0xe9446a['__data'][0x0]=_0x9035ac,_0x2ac967['bufferSubData'](_0x2ac967['UNIFORM_BUFFER'],_0x5bdaf4+_0xdf5a3d,_0xe9446a['__data'])):_0x9035ac['isMatrix3']?(_0xe9446a['__data'][0x0]=_0x9035ac['elements'][0x0],_0xe9446a['__data'][0x1]=_0x9035ac['elements'][0x1],_0xe9446a['__data'][0x2]=_0x9035ac['elements'][0x2],_0xe9446a['__data'][0x3]=0x0,_0xe9446a['__data'][0x4]=_0x9035ac['elements'][0x3],_0xe9446a['__data'][0x5]=_0x9035ac['elements'][0x4],_0xe9446a['__data'][0x6]=_0x9035ac['elements'][0x5],_0xe9446a['__data'][0x7]=0x0,_0xe9446a['__data'][0x8]=_0x9035ac['elements'][0x6],_0xe9446a['__data'][0x9]=_0x9035ac['elements'][0x7],_0xe9446a['__data'][0xa]=_0x9035ac['elements'][0x8],_0xe9446a['__data'][0xb]=0x0):(_0x9035ac['toArray'](_0xe9446a['__data'],_0xdf5a3d),_0xdf5a3d+=_0x4a948b['storage']/Float32Array['BYTES_PER_ELEMENT']);}_0x2ac967['bufferSubData'](_0x2ac967['UNIFORM_BUFFER'],_0x5bdaf4,_0xe9446a['__data']);}}}_0x2ac967['bindBuffer'](_0x2ac967['UNIFORM_BUFFER'],null);}(_0x1c3f78),_0x43e401[_0x1c3f78['id']]=_0x401dcb);},'dispose':function(){for(const _0x33252f in _0x2fac7c)_0x2ac967['deleteBuffer'](_0x2fac7c[_0x33252f]);_0x296087=[],_0x2fac7c={},_0x43e401={};}};}class _0x1e3fcc{constructor(_0x3302de={}){const {canvas:_0x5e6cac=(0x0,_0x46094d['lPF'])(),context:_0xc097fd=null,depth:_0x448e38=!0x0,stencil:_0x36c24d=!0x1,alpha:_0x7e9cc8=!0x1,antialias:_0x5c8919=!0x1,premultipliedAlpha:_0x41ed61=!0x0,preserveDrawingBuffer:_0x46d836=!0x1,powerPreference:_0x9c0595='default',failIfMajorPerformanceCaveat:_0x4d163a=!0x1,reverseDepthBuffer:_0xca417a=!0x1}=_0x3302de;let _0x15e419;if(this['isWebGLRenderer']=!0x0,null!==_0xc097fd){if('undefined'!=typeof WebGLRenderingContext&&_0xc097fd instanceof WebGLRenderingContext)throw new Error('THREE.WebGLRenderer:\x20WebGL\x201\x20is\x20not\x20supported\x20since\x20r163.');_0x15e419=_0xc097fd['getContextAttributes']()['alpha'];}else _0x15e419=_0x7e9cc8;const _0xaae263=new Uint32Array(0x4),_0x4c8fb2=new Int32Array(0x4);let _0x1fd021=null,_0x5172e4=null;const _0x5349a9=[],_0x2788d4=[];this['domElement']=_0x5e6cac,this['debug']={'checkShaderErrors':!0x0,'onShaderError':null},this['autoClear']=!0x0,this['autoClearColor']=!0x0,this['autoClearDepth']=!0x0,this['autoClearStencil']=!0x0,this['sortObjects']=!0x0,this['clippingPlanes']=[],this['localClippingEnabled']=!0x1,this['_outputColorSpace']=_0x46094d['er$'],this['toneMapping']=_0x46094d['y_p'],this['toneMappingExposure']=0x1;const _0x27054e=this;let _0x2314a=!0x1,_0x51633b=0x0,_0x52e4ac=0x0,_0x2a3674=null,_0x35f7b5=-0x1,_0x148c37=null;const _0x17225d=new _0x46094d['IUQ'](),_0x12b032=new _0x46094d['IUQ']();let _0x2b8da6=null;const _0x2a6c38=new _0x46094d['Q1f'](0x0);let _0x39370a=0x0,_0x368c85=_0x5e6cac['width'],_0xc29610=_0x5e6cac['height'],_0x2be3e1=0x1,_0x499203=null,_0x3716c5=null;const _0xae9959=new _0x46094d['IUQ'](0x0,0x0,_0x368c85,_0xc29610),_0x25e3d7=new _0x46094d['IUQ'](0x0,0x0,_0x368c85,_0xc29610);let _0x2a8d64=!0x1;const _0x1efbae=new _0x46094d['PPD']();let _0x382384=!0x1,_0x5c3190=!0x1;this['transmissionResolutionScale']=0x1;const _0x284756=new _0x46094d['kn4'](),_0x930540=new _0x46094d['kn4'](),_0xd3757b=new _0x46094d['Pq0'](),_0x4ce59b=new _0x46094d['IUQ'](),_0x1e0d9b={'background':null,'fog':null,'environment':null,'overrideMaterial':null,'isScene':!0x0};let _0x1a5ab7=!0x1;function _0x12dd16(){return null===_0x2a3674?_0x2be3e1:0x1;}let _0x474c3c,_0x14f471,_0x51e955,_0x486430,_0x3fd4ad,_0x213f11,_0x3aa99c,_0x165de1,_0x50a442,_0x4dab29,_0x58a1ef,_0x3d93cf,_0x8f4404,_0x35d0e2,_0x2a5bf2,_0x2ca59f,_0x1c0fa4,_0x4dbaca,_0x272171,_0x4d99eb,_0x4ce473,_0x3c64bf,_0x1cf5d7,_0x3bd45e,_0x2fa869=_0xc097fd;function _0xc7c115(_0x420659,_0x2976bf){return _0x5e6cac['getContext'](_0x420659,_0x2976bf);}try{const _0x96255={'alpha':!0x0,'depth':_0x448e38,'stencil':_0x36c24d,'antialias':_0x5c8919,'premultipliedAlpha':_0x41ed61,'preserveDrawingBuffer':_0x46d836,'powerPreference':_0x9c0595,'failIfMajorPerformanceCaveat':_0x4d163a};if('setAttribute'in _0x5e6cac&&_0x5e6cac['setAttribute']('data-engine','three.js\x20r'+_0x46094d['sPf']),_0x5e6cac['addEventListener']('webglcontextlost',_0x14c0ae,!0x1),_0x5e6cac['addEventListener']('webglcontextrestored',_0x38360f,!0x1),_0x5e6cac['addEventListener']('webglcontextcreationerror',_0x592db3,!0x1),null===_0x2fa869){const _0x71a836='webgl2';if(_0x2fa869=_0xc7c115(_0x71a836,_0x96255),null===_0x2fa869)throw _0xc7c115(_0x71a836)?new Error('Error\x20creating\x20WebGL\x20context\x20with\x20your\x20selected\x20attributes.'):new Error('Error\x20creating\x20WebGL\x20context.');}}catch(_0x559e0d){throw console['error']('THREE.WebGLRenderer:\x20'+_0x559e0d['message']),_0x559e0d;}function _0x3f025a(){_0x474c3c=new _0x3bdc97(_0x2fa869),_0x474c3c['init'](),_0x3c64bf=new _0x3d65aa(_0x2fa869,_0x474c3c),_0x14f471=new _0x47269d(_0x2fa869,_0x474c3c,_0x3302de,_0x3c64bf),_0x51e955=new _0xa8b4e2(_0x2fa869,_0x474c3c),_0x14f471['reverseDepthBuffer']&&_0xca417a&&_0x51e955['buffers']['depth']['setReversed'](!0x0),_0x486430=new _0x33d7bc(_0x2fa869),_0x3fd4ad=new _0xb691cf(),_0x213f11=new _0x151b75(_0x2fa869,_0x474c3c,_0x51e955,_0x3fd4ad,_0x14f471,_0x3c64bf,_0x486430),_0x3aa99c=new _0xb19329(_0x27054e),_0x165de1=new _0x4811b1(_0x27054e),_0x50a442=new _0x58a176(_0x2fa869),_0x1cf5d7=new _0x2c2791(_0x2fa869,_0x50a442),_0x4dab29=new _0x8025b5(_0x2fa869,_0x50a442,_0x486430,_0x1cf5d7),_0x58a1ef=new _0x28553b(_0x2fa869,_0x4dab29,_0x50a442,_0x486430),_0x272171=new _0x492e9d(_0x2fa869,_0x14f471,_0x213f11),_0x2ca59f=new _0x28b25b(_0x3fd4ad),_0x3d93cf=new _0x1086ae(_0x27054e,_0x3aa99c,_0x165de1,_0x474c3c,_0x14f471,_0x1cf5d7,_0x2ca59f),_0x8f4404=new _0x2cb810(_0x27054e,_0x3fd4ad),_0x35d0e2=new _0x2fed60(),_0x2a5bf2=new _0x345d8e(_0x474c3c),_0x4dbaca=new _0x113414(_0x27054e,_0x3aa99c,_0x165de1,_0x51e955,_0x58a1ef,_0x15e419,_0x41ed61),_0x1c0fa4=new _0x30c10f(_0x27054e,_0x58a1ef,_0x14f471),_0x3bd45e=new _0x23d1c2(_0x2fa869,_0x486430,_0x14f471,_0x51e955),_0x4d99eb=new _0x36fbca(_0x2fa869,_0x474c3c,_0x486430),_0x4ce473=new _0x289ec1(_0x2fa869,_0x474c3c,_0x486430),_0x486430['programs']=_0x3d93cf['programs'],_0x27054e['capabilities']=_0x14f471,_0x27054e['extensions']=_0x474c3c,_0x27054e['properties']=_0x3fd4ad,_0x27054e['renderLists']=_0x35d0e2,_0x27054e['shadowMap']=_0x1c0fa4,_0x27054e['state']=_0x51e955,_0x27054e['info']=_0x486430;}_0x3f025a();const _0x1ac88e=new _0x54c26c(_0x27054e,_0x2fa869);function _0x14c0ae(_0x482572){_0x482572['preventDefault'](),console['log']('THREE.WebGLRenderer:\x20Context\x20Lost.'),_0x2314a=!0x0;}function _0x38360f(){console['log']('THREE.WebGLRenderer:\x20Context\x20Restored.'),_0x2314a=!0x1;const _0x1eb2cf=_0x486430['autoReset'],_0x1bdf3c=_0x1c0fa4['enabled'],_0x2dfcd2=_0x1c0fa4['autoUpdate'],_0x2fbd0c=_0x1c0fa4['needsUpdate'],_0x39f475=_0x1c0fa4['type'];_0x3f025a(),_0x486430['autoReset']=_0x1eb2cf,_0x1c0fa4['enabled']=_0x1bdf3c,_0x1c0fa4['autoUpdate']=_0x2dfcd2,_0x1c0fa4['needsUpdate']=_0x2fbd0c,_0x1c0fa4['type']=_0x39f475;}function _0x592db3(_0x47d166){console['error']('THREE.WebGLRenderer:\x20A\x20WebGL\x20context\x20could\x20not\x20be\x20created.\x20Reason:\x20',_0x47d166['statusMessage']);}function _0x2e122e(_0x130f37){const _0x38791c=_0x130f37['target'];_0x38791c['removeEventListener']('dispose',_0x2e122e),function(_0x12fd52){(function(_0x50a366){const _0x4feb2d=_0x3fd4ad['get'](_0x50a366)['programs'];void 0x0!==_0x4feb2d&&(_0x4feb2d['forEach'](function(_0x7a2930){_0x3d93cf['releaseProgram'](_0x7a2930);}),_0x50a366['isShaderMaterial']&&_0x3d93cf['releaseShaderCache'](_0x50a366));}(_0x12fd52),_0x3fd4ad['remove'](_0x12fd52));}(_0x38791c);}function _0xdb8349(_0xee1f92,_0x20c26c,_0x51ade8){!0x0===_0xee1f92['transparent']&&_0xee1f92['side']===_0x46094d['$EB']&&!0x1===_0xee1f92['forceSinglePass']?(_0xee1f92['side']=_0x46094d['hsX'],_0xee1f92['needsUpdate']=!0x0,_0x4bee3b(_0xee1f92,_0x20c26c,_0x51ade8),_0xee1f92['side']=_0x46094d['hB5'],_0xee1f92['needsUpdate']=!0x0,_0x4bee3b(_0xee1f92,_0x20c26c,_0x51ade8),_0xee1f92['side']=_0x46094d['$EB']):_0x4bee3b(_0xee1f92,_0x20c26c,_0x51ade8);}this['xr']=_0x1ac88e,this['getContext']=function(){return _0x2fa869;},this['getContextAttributes']=function(){return _0x2fa869['getContextAttributes']();},this['forceContextLoss']=function(){const _0x17881b=_0x474c3c['get']('WEBGL_lose_context');_0x17881b&&_0x17881b['loseContext']();},this['forceContextRestore']=function(){const _0x2c4567=_0x474c3c['get']('WEBGL_lose_context');_0x2c4567&&_0x2c4567['restoreContext']();},this['getPixelRatio']=function(){return _0x2be3e1;},this['setPixelRatio']=function(_0x48de13){void 0x0!==_0x48de13&&(_0x2be3e1=_0x48de13,this['setSize'](_0x368c85,_0xc29610,!0x1));},this['getSize']=function(_0x4b2220){return _0x4b2220['set'](_0x368c85,_0xc29610);},this['setSize']=function(_0x192451,_0x29c6ac,_0xd8c68f=!0x0){_0x1ac88e['isPresenting']?console['warn']('THREE.WebGLRenderer:\x20Can\x27t\x20change\x20size\x20while\x20VR\x20device\x20is\x20presenting.'):(_0x368c85=_0x192451,_0xc29610=_0x29c6ac,_0x5e6cac['width']=Math['floor'](_0x192451*_0x2be3e1),_0x5e6cac['height']=Math['floor'](_0x29c6ac*_0x2be3e1),!0x0===_0xd8c68f&&(_0x5e6cac['style']['width']=_0x192451+'px',_0x5e6cac['style']['height']=_0x29c6ac+'px'),this['setViewport'](0x0,0x0,_0x192451,_0x29c6ac));},this['getDrawingBufferSize']=function(_0x28c926){return _0x28c926['set'](_0x368c85*_0x2be3e1,_0xc29610*_0x2be3e1)['floor']();},this['setDrawingBufferSize']=function(_0x22cd74,_0x3eba3e,_0x3dce4e){_0x368c85=_0x22cd74,_0xc29610=_0x3eba3e,_0x2be3e1=_0x3dce4e,_0x5e6cac['width']=Math['floor'](_0x22cd74*_0x3dce4e),_0x5e6cac['height']=Math['floor'](_0x3eba3e*_0x3dce4e),this['setViewport'](0x0,0x0,_0x22cd74,_0x3eba3e);},this['getCurrentViewport']=function(_0x1ef320){return _0x1ef320['copy'](_0x17225d);},this['getViewport']=function(_0x257bb9){return _0x257bb9['copy'](_0xae9959);},this['setViewport']=function(_0x51e1d4,_0x2adc62,_0x330c0e,_0x1091f8){_0x51e1d4['isVector4']?_0xae9959['set'](_0x51e1d4['x'],_0x51e1d4['y'],_0x51e1d4['z'],_0x51e1d4['w']):_0xae9959['set'](_0x51e1d4,_0x2adc62,_0x330c0e,_0x1091f8),_0x51e955['viewport'](_0x17225d['copy'](_0xae9959)['multiplyScalar'](_0x2be3e1)['round']());},this['getScissor']=function(_0x217baf){return _0x217baf['copy'](_0x25e3d7);},this['setScissor']=function(_0x345961,_0x3f7f73,_0x13c2cf,_0x2f97b7){_0x345961['isVector4']?_0x25e3d7['set'](_0x345961['x'],_0x345961['y'],_0x345961['z'],_0x345961['w']):_0x25e3d7['set'](_0x345961,_0x3f7f73,_0x13c2cf,_0x2f97b7),_0x51e955['scissor'](_0x12b032['copy'](_0x25e3d7)['multiplyScalar'](_0x2be3e1)['round']());},this['getScissorTest']=function(){return _0x2a8d64;},this['setScissorTest']=function(_0x301a70){_0x51e955['setScissorTest'](_0x2a8d64=_0x301a70);},this['setOpaqueSort']=function(_0x46c88b){_0x499203=_0x46c88b;},this['setTransparentSort']=function(_0x4faad1){_0x3716c5=_0x4faad1;},this['getClearColor']=function(_0x1cd33a){return _0x1cd33a['copy'](_0x4dbaca['getClearColor']());},this['setClearColor']=function(){_0x4dbaca['setClearColor']['apply'](_0x4dbaca,arguments);},this['getClearAlpha']=function(){return _0x4dbaca['getClearAlpha']();},this['setClearAlpha']=function(){_0x4dbaca['setClearAlpha']['apply'](_0x4dbaca,arguments);},this['clear']=function(_0x790958=!0x0,_0x45ecbe=!0x0,_0x404a1d=!0x0){let _0x9322d8=0x0;if(_0x790958){let _0x2281af=!0x1;if(null!==_0x2a3674){const _0x28fd50=_0x2a3674['texture']['format'];_0x2281af=_0x28fd50===_0x46094d['c90']||_0x28fd50===_0x46094d['TkQ']||_0x28fd50===_0x46094d['ZQM'];}if(_0x2281af){const _0x3428e2=_0x2a3674['texture']['type'],_0x52dd78=_0x3428e2===_0x46094d['OUM']||_0x3428e2===_0x46094d['bkx']||_0x3428e2===_0x46094d['cHt']||_0x3428e2===_0x46094d['V3x']||_0x3428e2===_0x46094d['Wew']||_0x3428e2===_0x46094d['gJ2'],_0xeaf15d=_0x4dbaca['getClearColor'](),_0x3226b5=_0x4dbaca['getClearAlpha'](),_0xf0da2e=_0xeaf15d['r'],_0x22fec6=_0xeaf15d['g'],_0x379589=_0xeaf15d['b'];_0x52dd78?(_0xaae263[0x0]=_0xf0da2e,_0xaae263[0x1]=_0x22fec6,_0xaae263[0x2]=_0x379589,_0xaae263[0x3]=_0x3226b5,_0x2fa869['clearBufferuiv'](_0x2fa869['COLOR'],0x0,_0xaae263)):(_0x4c8fb2[0x0]=_0xf0da2e,_0x4c8fb2[0x1]=_0x22fec6,_0x4c8fb2[0x2]=_0x379589,_0x4c8fb2[0x3]=_0x3226b5,_0x2fa869['clearBufferiv'](_0x2fa869['COLOR'],0x0,_0x4c8fb2));}else _0x9322d8|=_0x2fa869['COLOR_BUFFER_BIT'];}_0x45ecbe&&(_0x9322d8|=_0x2fa869['DEPTH_BUFFER_BIT']),_0x404a1d&&(_0x9322d8|=_0x2fa869['STENCIL_BUFFER_BIT'],this['state']['buffers']['stencil']['setMask'](0xffffffff)),_0x2fa869['clear'](_0x9322d8);},this['clearColor']=function(){this['clear'](!0x0,!0x1,!0x1);},this['clearDepth']=function(){this['clear'](!0x1,!0x0,!0x1);},this['clearStencil']=function(){this['clear'](!0x1,!0x1,!0x0);},this['dispose']=function(){_0x5e6cac['removeEventListener']('webglcontextlost',_0x14c0ae,!0x1),_0x5e6cac['removeEventListener']('webglcontextrestored',_0x38360f,!0x1),_0x5e6cac['removeEventListener']('webglcontextcreationerror',_0x592db3,!0x1),_0x4dbaca['dispose'](),_0x35d0e2['dispose'](),_0x2a5bf2['dispose'](),_0x3fd4ad['dispose'](),_0x3aa99c['dispose'](),_0x165de1['dispose'](),_0x58a1ef['dispose'](),_0x1cf5d7['dispose'](),_0x3bd45e['dispose'](),_0x3d93cf['dispose'](),_0x1ac88e['dispose'](),_0x1ac88e['removeEventListener']('sessionstart',_0x9861d3),_0x1ac88e['removeEventListener']('sessionend',_0x458786),_0x3c285e['stop']();},this['renderBufferDirect']=function(_0x5c209d,_0x598923,_0x116057,_0x1ec4af,_0x150c03,_0x6f0db2){null===_0x598923&&(_0x598923=_0x1e0d9b);const _0x3c9604=_0x150c03['isMesh']&&_0x150c03['matrixWorld']['determinant']()<0x0,_0x2882ef=function(_0x349131,_0x5b55a8,_0x109f69,_0x2dc19f,_0x4a7311){!0x0!==_0x5b55a8['isScene']&&(_0x5b55a8=_0x1e0d9b),_0x213f11['resetTextureUnits']();const _0x7e6d5f=_0x5b55a8['fog'],_0x5bb8ff=_0x2dc19f['isMeshStandardMaterial']?_0x5b55a8['environment']:null,_0x20c154=null===_0x2a3674?_0x27054e['outputColorSpace']:!0x0===_0x2a3674['isXRRenderTarget']?_0x2a3674['texture']['colorSpace']:_0x46094d['Zr2'],_0x3b0e20=(_0x2dc19f['isMeshStandardMaterial']?_0x165de1:_0x3aa99c)['get'](_0x2dc19f['envMap']||_0x5bb8ff),_0x48893f=!0x0===_0x2dc19f['vertexColors']&&!!_0x109f69['attributes']['color']&&0x4===_0x109f69['attributes']['color']['itemSize'],_0x247301=!!_0x109f69['attributes']['tangent']&&(!!_0x2dc19f['normalMap']||_0x2dc19f['anisotropy']>0x0),_0x2c20cb=!!_0x109f69['morphAttributes']['position'],_0x50fa84=!!_0x109f69['morphAttributes']['normal'],_0x221036=!!_0x109f69['morphAttributes']['color'];let _0x50218e=_0x46094d['y_p'];_0x2dc19f['toneMapped']&&(null!==_0x2a3674&&!0x0!==_0x2a3674['isXRRenderTarget']||(_0x50218e=_0x27054e['toneMapping']));const _0x391c84=_0x109f69['morphAttributes']['position']||_0x109f69['morphAttributes']['normal']||_0x109f69['morphAttributes']['color'],_0x572b75=void 0x0!==_0x391c84?_0x391c84['length']:0x0,_0x4a6310=_0x3fd4ad['get'](_0x2dc19f),_0x3ba2d6=_0x5172e4['state']['lights'];if(!0x0===_0x382384&&(!0x0===_0x5c3190||_0x349131!==_0x148c37)){const _0x4f114f=_0x349131===_0x148c37&&_0x2dc19f['id']===_0x35f7b5;_0x2ca59f['setState'](_0x2dc19f,_0x349131,_0x4f114f);}let _0x29eefa=!0x1;_0x2dc19f['version']===_0x4a6310['__version']?_0x4a6310['needsLights']&&_0x4a6310['lightsStateVersion']!==_0x3ba2d6['state']['version']||_0x4a6310['outputColorSpace']!==_0x20c154||_0x4a7311['isBatchedMesh']&&!0x1===_0x4a6310['batching']?_0x29eefa=!0x0:_0x4a7311['isBatchedMesh']||!0x0!==_0x4a6310['batching']?_0x4a7311['isBatchedMesh']&&!0x0===_0x4a6310['batchingColor']&&null===_0x4a7311['colorTexture']||_0x4a7311['isBatchedMesh']&&!0x1===_0x4a6310['batchingColor']&&null!==_0x4a7311['colorTexture']||_0x4a7311['isInstancedMesh']&&!0x1===_0x4a6310['instancing']?_0x29eefa=!0x0:_0x4a7311['isInstancedMesh']||!0x0!==_0x4a6310['instancing']?_0x4a7311['isSkinnedMesh']&&!0x1===_0x4a6310['skinning']?_0x29eefa=!0x0:_0x4a7311['isSkinnedMesh']||!0x0!==_0x4a6310['skinning']?_0x4a7311['isInstancedMesh']&&!0x0===_0x4a6310['instancingColor']&&null===_0x4a7311['instanceColor']||_0x4a7311['isInstancedMesh']&&!0x1===_0x4a6310['instancingColor']&&null!==_0x4a7311['instanceColor']||_0x4a7311['isInstancedMesh']&&!0x0===_0x4a6310['instancingMorph']&&null===_0x4a7311['morphTexture']||_0x4a7311['isInstancedMesh']&&!0x1===_0x4a6310['instancingMorph']&&null!==_0x4a7311['morphTexture']||_0x4a6310['envMap']!==_0x3b0e20||!0x0===_0x2dc19f['fog']&&_0x4a6310['fog']!==_0x7e6d5f?_0x29eefa=!0x0:void 0x0===_0x4a6310['numClippingPlanes']||_0x4a6310['numClippingPlanes']===_0x2ca59f['numPlanes']&&_0x4a6310['numIntersection']===_0x2ca59f['numIntersection']?(_0x4a6310['vertexAlphas']!==_0x48893f||_0x4a6310['vertexTangents']!==_0x247301||_0x4a6310['morphTargets']!==_0x2c20cb||_0x4a6310['morphNormals']!==_0x50fa84||_0x4a6310['morphColors']!==_0x221036||_0x4a6310['toneMapping']!==_0x50218e||_0x4a6310['morphTargetsCount']!==_0x572b75)&&(_0x29eefa=!0x0):_0x29eefa=!0x0:_0x29eefa=!0x0:_0x29eefa=!0x0:_0x29eefa=!0x0:(_0x29eefa=!0x0,_0x4a6310['__version']=_0x2dc19f['version']);let _0x4dc923=_0x4a6310['currentProgram'];!0x0===_0x29eefa&&(_0x4dc923=_0x4bee3b(_0x2dc19f,_0x5b55a8,_0x4a7311));let _0x4190f4=!0x1,_0xe9433c=!0x1,_0x443ccc=!0x1;const _0x1b7296=_0x4dc923['getUniforms'](),_0x47b4bd=_0x4a6310['uniforms'];_0x51e955['useProgram'](_0x4dc923['program'])&&(_0x4190f4=!0x0,_0xe9433c=!0x0,_0x443ccc=!0x0),_0x2dc19f['id']!==_0x35f7b5&&(_0x35f7b5=_0x2dc19f['id'],_0xe9433c=!0x0);if(_0x4190f4||_0x148c37!==_0x349131){_0x51e955['buffers']['depth']['getReversed']()?(_0x284756['copy'](_0x349131['projectionMatrix']),(0x0,_0x46094d['xiE'])(_0x284756),(0x0,_0x46094d['Mmk'])(_0x284756),_0x1b7296['setValue'](_0x2fa869,'projectionMatrix',_0x284756)):_0x1b7296['setValue'](_0x2fa869,'projectionMatrix',_0x349131['projectionMatrix']),_0x1b7296['setValue'](_0x2fa869,'viewMatrix',_0x349131['matrixWorldInverse']);const _0x3ac2e1=_0x1b7296['map']['cameraPosition'];void 0x0!==_0x3ac2e1&&_0x3ac2e1['setValue'](_0x2fa869,_0xd3757b['setFromMatrixPosition'](_0x349131['matrixWorld'])),_0x14f471['logarithmicDepthBuffer']&&_0x1b7296['setValue'](_0x2fa869,'logDepthBufFC',0x2/(Math['log'](_0x349131['far']+0x1)/Math['LN2'])),(_0x2dc19f['isMeshPhongMaterial']||_0x2dc19f['isMeshToonMaterial']||_0x2dc19f['isMeshLambertMaterial']||_0x2dc19f['isMeshBasicMaterial']||_0x2dc19f['isMeshStandardMaterial']||_0x2dc19f['isShaderMaterial'])&&_0x1b7296['setValue'](_0x2fa869,'isOrthographic',!0x0===_0x349131['isOrthographicCamera']),_0x148c37!==_0x349131&&(_0x148c37=_0x349131,_0xe9433c=!0x0,_0x443ccc=!0x0);}if(_0x4a7311['isSkinnedMesh']){_0x1b7296['setOptional'](_0x2fa869,_0x4a7311,'bindMatrix'),_0x1b7296['setOptional'](_0x2fa869,_0x4a7311,'bindMatrixInverse');const _0x1e58e1=_0x4a7311['skeleton'];_0x1e58e1&&(null===_0x1e58e1['boneTexture']&&_0x1e58e1['computeBoneTexture'](),_0x1b7296['setValue'](_0x2fa869,'boneTexture',_0x1e58e1['boneTexture'],_0x213f11));}_0x4a7311['isBatchedMesh']&&(_0x1b7296['setOptional'](_0x2fa869,_0x4a7311,'batchingTexture'),_0x1b7296['setValue'](_0x2fa869,'batchingTexture',_0x4a7311['_matricesTexture'],_0x213f11),_0x1b7296['setOptional'](_0x2fa869,_0x4a7311,'batchingIdTexture'),_0x1b7296['setValue'](_0x2fa869,'batchingIdTexture',_0x4a7311['_indirectTexture'],_0x213f11),_0x1b7296['setOptional'](_0x2fa869,_0x4a7311,'batchingColorTexture'),null!==_0x4a7311['_colorsTexture']&&_0x1b7296['setValue'](_0x2fa869,'batchingColorTexture',_0x4a7311['_colorsTexture'],_0x213f11));const _0x303086=_0x109f69['morphAttributes'];void 0x0===_0x303086['position']&&void 0x0===_0x303086['normal']&&void 0x0===_0x303086['color']||_0x272171['update'](_0x4a7311,_0x109f69,_0x4dc923),(_0xe9433c||_0x4a6310['receiveShadow']!==_0x4a7311['receiveShadow'])&&(_0x4a6310['receiveShadow']=_0x4a7311['receiveShadow'],_0x1b7296['setValue'](_0x2fa869,'receiveShadow',_0x4a7311['receiveShadow'])),_0x2dc19f['isMeshGouraudMaterial']&&null!==_0x2dc19f['envMap']&&(_0x47b4bd['envMap']['value']=_0x3b0e20,_0x47b4bd['flipEnvMap']['value']=_0x3b0e20['isCubeTexture']&&!0x1===_0x3b0e20['isRenderTargetTexture']?-0x1:0x1),_0x2dc19f['isMeshStandardMaterial']&&null===_0x2dc19f['envMap']&&null!==_0x5b55a8['environment']&&(_0x47b4bd['envMapIntensity']['value']=_0x5b55a8['environmentIntensity']),_0xe9433c&&(_0x1b7296['setValue'](_0x2fa869,'toneMappingExposure',_0x27054e['toneMappingExposure']),_0x4a6310['needsLights']&&(_0x51e64e=_0x443ccc,(_0x38f639=_0x47b4bd)['ambientLightColor']['needsUpdate']=_0x51e64e,_0x38f639['lightProbe']['needsUpdate']=_0x51e64e,_0x38f639['directionalLights']['needsUpdate']=_0x51e64e,_0x38f639['directionalLightShadows']['needsUpdate']=_0x51e64e,_0x38f639['pointLights']['needsUpdate']=_0x51e64e,_0x38f639['pointLightShadows']['needsUpdate']=_0x51e64e,_0x38f639['spotLights']['needsUpdate']=_0x51e64e,_0x38f639['spotLightShadows']['needsUpdate']=_0x51e64e,_0x38f639['rectAreaLights']['needsUpdate']=_0x51e64e,_0x38f639['hemisphereLights']['needsUpdate']=_0x51e64e),_0x7e6d5f&&!0x0===_0x2dc19f['fog']&&_0x8f4404['refreshFogUniforms'](_0x47b4bd,_0x7e6d5f),_0x8f4404['refreshMaterialUniforms'](_0x47b4bd,_0x2dc19f,_0x2be3e1,_0xc29610,_0x5172e4['state']['transmissionRenderTarget'][_0x349131['id']]),_0x3513cd['upload'](_0x2fa869,_0x27e3a1(_0x4a6310),_0x47b4bd,_0x213f11));var _0x38f639,_0x51e64e;_0x2dc19f['isShaderMaterial']&&!0x0===_0x2dc19f['uniformsNeedUpdate']&&(_0x3513cd['upload'](_0x2fa869,_0x27e3a1(_0x4a6310),_0x47b4bd,_0x213f11),_0x2dc19f['uniformsNeedUpdate']=!0x1),_0x2dc19f['isSpriteMaterial']&&_0x1b7296['setValue'](_0x2fa869,'center',_0x4a7311['center']);if(_0x1b7296['setValue'](_0x2fa869,'modelViewMatrix',_0x4a7311['modelViewMatrix']),_0x1b7296['setValue'](_0x2fa869,'normalMatrix',_0x4a7311['normalMatrix']),_0x1b7296['setValue'](_0x2fa869,'modelMatrix',_0x4a7311['matrixWorld']),_0x2dc19f['isShaderMaterial']||_0x2dc19f['isRawShaderMaterial']){const _0x36f3e6=_0x2dc19f['uniformsGroups'];for(let _0x4c32ff=0x0,_0x283cb1=_0x36f3e6['length'];_0x4c32ff<_0x283cb1;_0x4c32ff++){const _0x144639=_0x36f3e6[_0x4c32ff];_0x3bd45e['update'](_0x144639,_0x4dc923),_0x3bd45e['bind'](_0x144639,_0x4dc923);}}return _0x4dc923;}(_0x5c209d,_0x598923,_0x116057,_0x1ec4af,_0x150c03);_0x51e955['setMaterial'](_0x1ec4af,_0x3c9604);let _0xeaca8b=_0x116057['index'],_0x2a72c4=0x1;if(!0x0===_0x1ec4af['wireframe']){if(_0xeaca8b=_0x4dab29['getWireframeAttribute'](_0x116057),void 0x0===_0xeaca8b)return;_0x2a72c4=0x2;}const _0x294e53=_0x116057['drawRange'],_0x40b759=_0x116057['attributes']['position'];let _0x398161=_0x294e53['start']*_0x2a72c4,_0x77de2b=(_0x294e53['start']+_0x294e53['count'])*_0x2a72c4;null!==_0x6f0db2&&(_0x398161=Math['max'](_0x398161,_0x6f0db2['start']*_0x2a72c4),_0x77de2b=Math['min'](_0x77de2b,(_0x6f0db2['start']+_0x6f0db2['count'])*_0x2a72c4)),null!==_0xeaca8b?(_0x398161=Math['max'](_0x398161,0x0),_0x77de2b=Math['min'](_0x77de2b,_0xeaca8b['count'])):null!=_0x40b759&&(_0x398161=Math['max'](_0x398161,0x0),_0x77de2b=Math['min'](_0x77de2b,_0x40b759['count']));const _0x40b34e=_0x77de2b-_0x398161;if(_0x40b34e<0x0||_0x40b34e===0x1/0x0)return;let _0x40e2d0;_0x1cf5d7['setup'](_0x150c03,_0x1ec4af,_0x2882ef,_0x116057,_0xeaca8b);let _0x4418ee=_0x4d99eb;if(null!==_0xeaca8b&&(_0x40e2d0=_0x50a442['get'](_0xeaca8b),_0x4418ee=_0x4ce473,_0x4418ee['setIndex'](_0x40e2d0)),_0x150c03['isMesh'])!0x0===_0x1ec4af['wireframe']?(_0x51e955['setLineWidth'](_0x1ec4af['wireframeLinewidth']*_0x12dd16()),_0x4418ee['setMode'](_0x2fa869['LINES'])):_0x4418ee['setMode'](_0x2fa869['TRIANGLES']);else{if(_0x150c03['isLine']){let _0x20aa86=_0x1ec4af['linewidth'];void 0x0===_0x20aa86&&(_0x20aa86=0x1),_0x51e955['setLineWidth'](_0x20aa86*_0x12dd16()),_0x150c03['isLineSegments']?_0x4418ee['setMode'](_0x2fa869['LINES']):_0x150c03['isLineLoop']?_0x4418ee['setMode'](_0x2fa869['LINE_LOOP']):_0x4418ee['setMode'](_0x2fa869['LINE_STRIP']);}else _0x150c03['isPoints']?_0x4418ee['setMode'](_0x2fa869['POINTS']):_0x150c03['isSprite']&&_0x4418ee['setMode'](_0x2fa869['TRIANGLES']);}if(_0x150c03['isBatchedMesh']){if(null!==_0x150c03['_multiDrawInstances'])_0x4418ee['renderMultiDrawInstances'](_0x150c03['_multiDrawStarts'],_0x150c03['_multiDrawCounts'],_0x150c03['_multiDrawCount'],_0x150c03['_multiDrawInstances']);else{if(_0x474c3c['get']('WEBGL_multi_draw'))_0x4418ee['renderMultiDraw'](_0x150c03['_multiDrawStarts'],_0x150c03['_multiDrawCounts'],_0x150c03['_multiDrawCount']);else{const _0x332b04=_0x150c03['_multiDrawStarts'],_0x4facb8=_0x150c03['_multiDrawCounts'],_0x3820bc=_0x150c03['_multiDrawCount'],_0x7ff286=_0xeaca8b?_0x50a442['get'](_0xeaca8b)['bytesPerElement']:0x1,_0xbbe95b=_0x3fd4ad['get'](_0x1ec4af)['currentProgram']['getUniforms']();for(let _0x19eb0e=0x0;_0x19eb0e<_0x3820bc;_0x19eb0e++)_0xbbe95b['setValue'](_0x2fa869,'_gl_DrawID',_0x19eb0e),_0x4418ee['render'](_0x332b04[_0x19eb0e]/_0x7ff286,_0x4facb8[_0x19eb0e]);}}}else{if(_0x150c03['isInstancedMesh'])_0x4418ee['renderInstances'](_0x398161,_0x40b34e,_0x150c03['count']);else{if(_0x116057['isInstancedBufferGeometry']){const _0x374c6a=void 0x0!==_0x116057['_maxInstanceCount']?_0x116057['_maxInstanceCount']:0x1/0x0,_0x3003bc=Math['min'](_0x116057['instanceCount'],_0x374c6a);_0x4418ee['renderInstances'](_0x398161,_0x40b34e,_0x3003bc);}else _0x4418ee['render'](_0x398161,_0x40b34e);}}},this['compile']=function(_0x5bed62,_0x15cd56,_0xc3f585=null){null===_0xc3f585&&(_0xc3f585=_0x5bed62),_0x5172e4=_0x2a5bf2['get'](_0xc3f585),_0x5172e4['init'](_0x15cd56),_0x2788d4['push'](_0x5172e4),_0xc3f585['traverseVisible'](function(_0x347059){_0x347059['isLight']&&_0x347059['layers']['test'](_0x15cd56['layers'])&&(_0x5172e4['pushLight'](_0x347059),_0x347059['castShadow']&&_0x5172e4['pushShadow'](_0x347059));}),_0x5bed62!==_0xc3f585&&_0x5bed62['traverseVisible'](function(_0x3e95fb){_0x3e95fb['isLight']&&_0x3e95fb['layers']['test'](_0x15cd56['layers'])&&(_0x5172e4['pushLight'](_0x3e95fb),_0x3e95fb['castShadow']&&_0x5172e4['pushShadow'](_0x3e95fb));}),_0x5172e4['setupLights']();const _0x189d8e=new Set();return _0x5bed62['traverse'](function(_0x210a37){if(!(_0x210a37['isMesh']||_0x210a37['isPoints']||_0x210a37['isLine']||_0x210a37['isSprite']))return;const _0x48db8b=_0x210a37['material'];if(_0x48db8b){if(Array['isArray'](_0x48db8b))for(let _0x573611=0x0;_0x573611<_0x48db8b['length'];_0x573611++){const _0x3cdc55=_0x48db8b[_0x573611];_0xdb8349(_0x3cdc55,_0xc3f585,_0x210a37),_0x189d8e['add'](_0x3cdc55);}else _0xdb8349(_0x48db8b,_0xc3f585,_0x210a37),_0x189d8e['add'](_0x48db8b);}}),_0x2788d4['pop'](),_0x5172e4=null,_0x189d8e;},this['compileAsync']=function(_0x2547d5,_0x51d610,_0x2d1dc9=null){const _0x2b8b1d=this['compile'](_0x2547d5,_0x51d610,_0x2d1dc9);return new Promise(_0x574187=>{function _0x347092(){_0x2b8b1d['forEach'](function(_0x405356){_0x3fd4ad['get'](_0x405356)['currentProgram']['isReady']()&&_0x2b8b1d['delete'](_0x405356);}),0x0!==_0x2b8b1d['size']?setTimeout(_0x347092,0xa):_0x574187(_0x2547d5);}null!==_0x474c3c['get']('KHR_parallel_shader_compile')?_0x347092():setTimeout(_0x347092,0xa);});};let _0x500586=null;function _0x9861d3(){_0x3c285e['stop']();}function _0x458786(){_0x3c285e['start']();}const _0x3c285e=new _0x1073b9();function _0x205727(_0x2dfaa5,_0x3a5bce,_0x4ced97,_0x1c2057){if(!0x1===_0x2dfaa5['visible'])return;if(_0x2dfaa5['layers']['test'](_0x3a5bce['layers'])){if(_0x2dfaa5['isGroup'])_0x4ced97=_0x2dfaa5['renderOrder'];else{if(_0x2dfaa5['isLOD'])!0x0===_0x2dfaa5['autoUpdate']&&_0x2dfaa5['update'](_0x3a5bce);else{if(_0x2dfaa5['isLight'])_0x5172e4['pushLight'](_0x2dfaa5),_0x2dfaa5['castShadow']&&_0x5172e4['pushShadow'](_0x2dfaa5);else{if(_0x2dfaa5['isSprite']){if(!_0x2dfaa5['frustumCulled']||_0x1efbae['intersectsSprite'](_0x2dfaa5)){_0x1c2057&&_0x4ce59b['setFromMatrixPosition'](_0x2dfaa5['matrixWorld'])['applyMatrix4'](_0x930540);const _0x486f07=_0x58a1ef['update'](_0x2dfaa5),_0x25d1a4=_0x2dfaa5['material'];_0x25d1a4['visible']&&_0x1fd021['push'](_0x2dfaa5,_0x486f07,_0x25d1a4,_0x4ced97,_0x4ce59b['z'],null);}}else{if((_0x2dfaa5['isMesh']||_0x2dfaa5['isLine']||_0x2dfaa5['isPoints'])&&(!_0x2dfaa5['frustumCulled']||_0x1efbae['intersectsObject'](_0x2dfaa5))){const _0x57b36c=_0x58a1ef['update'](_0x2dfaa5),_0x2784b4=_0x2dfaa5['material'];if(_0x1c2057&&(void 0x0!==_0x2dfaa5['boundingSphere']?(null===_0x2dfaa5['boundingSphere']&&_0x2dfaa5['computeBoundingSphere'](),_0x4ce59b['copy'](_0x2dfaa5['boundingSphere']['center'])):(null===_0x57b36c['boundingSphere']&&_0x57b36c['computeBoundingSphere'](),_0x4ce59b['copy'](_0x57b36c['boundingSphere']['center'])),_0x4ce59b['applyMatrix4'](_0x2dfaa5['matrixWorld'])['applyMatrix4'](_0x930540)),Array['isArray'](_0x2784b4)){const _0x3ea9ba=_0x57b36c['groups'];for(let _0x3bfd50=0x0,_0x416e94=_0x3ea9ba['length'];_0x3bfd50<_0x416e94;_0x3bfd50++){const _0x4375cb=_0x3ea9ba[_0x3bfd50],_0x15f252=_0x2784b4[_0x4375cb['materialIndex']];_0x15f252&&_0x15f252['visible']&&_0x1fd021['push'](_0x2dfaa5,_0x57b36c,_0x15f252,_0x4ced97,_0x4ce59b['z'],_0x4375cb);}}else _0x2784b4['visible']&&_0x1fd021['push'](_0x2dfaa5,_0x57b36c,_0x2784b4,_0x4ced97,_0x4ce59b['z'],null);}}}}}}const _0x496f29=_0x2dfaa5['children'];for(let _0x5b231c=0x0,_0x50c402=_0x496f29['length'];_0x5b231c<_0x50c402;_0x5b231c++)_0x205727(_0x496f29[_0x5b231c],_0x3a5bce,_0x4ced97,_0x1c2057);}function _0x40dc7b(_0x122c39,_0x401bd1,_0x4bf377,_0x56087c){const _0x4c86e7=_0x122c39['opaque'],_0x444775=_0x122c39['transmissive'],_0x3424ac=_0x122c39['transparent'];_0x5172e4['setupLightsView'](_0x4bf377),!0x0===_0x382384&&_0x2ca59f['setGlobalState'](_0x27054e['clippingPlanes'],_0x4bf377),_0x56087c&&_0x51e955['viewport'](_0x17225d['copy'](_0x56087c)),_0x4c86e7['length']>0x0&&_0x3bde35(_0x4c86e7,_0x401bd1,_0x4bf377),_0x444775['length']>0x0&&_0x3bde35(_0x444775,_0x401bd1,_0x4bf377),_0x3424ac['length']>0x0&&_0x3bde35(_0x3424ac,_0x401bd1,_0x4bf377),_0x51e955['buffers']['depth']['setTest'](!0x0),_0x51e955['buffers']['depth']['setMask'](!0x0),_0x51e955['buffers']['color']['setMask'](!0x0),_0x51e955['setPolygonOffset'](!0x1);}function _0x4da49a(_0x2be485,_0x35dbe6,_0xdc823f,_0x7f40ab){if(null!==(!0x0===_0xdc823f['isScene']?_0xdc823f['overrideMaterial']:null))return;void 0x0===_0x5172e4['state']['transmissionRenderTarget'][_0x7f40ab['id']]&&(_0x5172e4['state']['transmissionRenderTarget'][_0x7f40ab['id']]=new _0x46094d['nWS'](0x1,0x1,{'generateMipmaps':!0x0,'type':_0x474c3c['has']('EXT_color_buffer_half_float')||_0x474c3c['has']('EXT_color_buffer_float')?_0x46094d['ix0']:_0x46094d['OUM'],'minFilter':_0x46094d['$_I'],'samples':0x4,'stencilBuffer':_0x36c24d,'resolveDepthBuffer':!0x1,'resolveStencilBuffer':!0x1,'colorSpace':_0x46094d['ppV']['workingColorSpace']}));const _0x55b253=_0x5172e4['state']['transmissionRenderTarget'][_0x7f40ab['id']],_0x48d0c4=_0x7f40ab['viewport']||_0x17225d;_0x55b253['setSize'](_0x48d0c4['z']*_0x27054e['transmissionResolutionScale'],_0x48d0c4['w']*_0x27054e['transmissionResolutionScale']);const _0x2407f0=_0x27054e['getRenderTarget']();_0x27054e['setRenderTarget'](_0x55b253),_0x27054e['getClearColor'](_0x2a6c38),_0x39370a=_0x27054e['getClearAlpha'](),_0x39370a<0x1&&_0x27054e['setClearColor'](0xffffff,0.5),_0x27054e['clear'](),_0x1a5ab7&&_0x4dbaca['render'](_0xdc823f);const _0x1cd14e=_0x27054e['toneMapping'];_0x27054e['toneMapping']=_0x46094d['y_p'];const _0x128908=_0x7f40ab['viewport'];if(void 0x0!==_0x7f40ab['viewport']&&(_0x7f40ab['viewport']=void 0x0),_0x5172e4['setupLightsView'](_0x7f40ab),!0x0===_0x382384&&_0x2ca59f['setGlobalState'](_0x27054e['clippingPlanes'],_0x7f40ab),_0x3bde35(_0x2be485,_0xdc823f,_0x7f40ab),_0x213f11['updateMultisampleRenderTarget'](_0x55b253),_0x213f11['updateRenderTargetMipmap'](_0x55b253),!0x1===_0x474c3c['has']('WEBGL_multisampled_render_to_texture')){let _0x3e47c5=!0x1;for(let _0xfdd980=0x0,_0x22f2d3=_0x35dbe6['length'];_0xfdd980<_0x22f2d3;_0xfdd980++){const _0x13ccf3=_0x35dbe6[_0xfdd980],_0x3f06dd=_0x13ccf3['object'],_0x4a1689=_0x13ccf3['geometry'],_0x470b93=_0x13ccf3['material'],_0xf162b4=_0x13ccf3['group'];if(_0x470b93['side']===_0x46094d['$EB']&&_0x3f06dd['layers']['test'](_0x7f40ab['layers'])){const _0x4b65c9=_0x470b93['side'];_0x470b93['side']=_0x46094d['hsX'],_0x470b93['needsUpdate']=!0x0,_0x3f421f(_0x3f06dd,_0xdc823f,_0x7f40ab,_0x4a1689,_0x470b93,_0xf162b4),_0x470b93['side']=_0x4b65c9,_0x470b93['needsUpdate']=!0x0,_0x3e47c5=!0x0;}}!0x0===_0x3e47c5&&(_0x213f11['updateMultisampleRenderTarget'](_0x55b253),_0x213f11['updateRenderTargetMipmap'](_0x55b253));}_0x27054e['setRenderTarget'](_0x2407f0),_0x27054e['setClearColor'](_0x2a6c38,_0x39370a),void 0x0!==_0x128908&&(_0x7f40ab['viewport']=_0x128908),_0x27054e['toneMapping']=_0x1cd14e;}function _0x3bde35(_0x230db6,_0x4a414b,_0xac27bd){const _0x4b4aad=!0x0===_0x4a414b['isScene']?_0x4a414b['overrideMaterial']:null;for(let _0x444bfd=0x0,_0x40df2d=_0x230db6['length'];_0x444bfd<_0x40df2d;_0x444bfd++){const _0x21863b=_0x230db6[_0x444bfd],_0x53f89e=_0x21863b['object'],_0x577f79=_0x21863b['geometry'],_0x278a69=null===_0x4b4aad?_0x21863b['material']:_0x4b4aad,_0x30045d=_0x21863b['group'];_0x53f89e['layers']['test'](_0xac27bd['layers'])&&_0x3f421f(_0x53f89e,_0x4a414b,_0xac27bd,_0x577f79,_0x278a69,_0x30045d);}}function _0x3f421f(_0x125094,_0x420b60,_0x26b89e,_0x20dd97,_0x40eb63,_0x8c9814){_0x125094['onBeforeRender'](_0x27054e,_0x420b60,_0x26b89e,_0x20dd97,_0x40eb63,_0x8c9814),_0x125094['modelViewMatrix']['multiplyMatrices'](_0x26b89e['matrixWorldInverse'],_0x125094['matrixWorld']),_0x125094['normalMatrix']['getNormalMatrix'](_0x125094['modelViewMatrix']),_0x40eb63['onBeforeRender'](_0x27054e,_0x420b60,_0x26b89e,_0x20dd97,_0x125094,_0x8c9814),!0x0===_0x40eb63['transparent']&&_0x40eb63['side']===_0x46094d['$EB']&&!0x1===_0x40eb63['forceSinglePass']?(_0x40eb63['side']=_0x46094d['hsX'],_0x40eb63['needsUpdate']=!0x0,_0x27054e['renderBufferDirect'](_0x26b89e,_0x420b60,_0x20dd97,_0x40eb63,_0x125094,_0x8c9814),_0x40eb63['side']=_0x46094d['hB5'],_0x40eb63['needsUpdate']=!0x0,_0x27054e['renderBufferDirect'](_0x26b89e,_0x420b60,_0x20dd97,_0x40eb63,_0x125094,_0x8c9814),_0x40eb63['side']=_0x46094d['$EB']):_0x27054e['renderBufferDirect'](_0x26b89e,_0x420b60,_0x20dd97,_0x40eb63,_0x125094,_0x8c9814),_0x125094['onAfterRender'](_0x27054e,_0x420b60,_0x26b89e,_0x20dd97,_0x40eb63,_0x8c9814);}function _0x4bee3b(_0x53d4a5,_0x230d6b,_0x3590d2){!0x0!==_0x230d6b['isScene']&&(_0x230d6b=_0x1e0d9b);const _0xfdb6b3=_0x3fd4ad['get'](_0x53d4a5),_0x58c91a=_0x5172e4['state']['lights'],_0x2f5fb4=_0x5172e4['state']['shadowsArray'],_0x23366f=_0x58c91a['state']['version'],_0x404f28=_0x3d93cf['getParameters'](_0x53d4a5,_0x58c91a['state'],_0x2f5fb4,_0x230d6b,_0x3590d2),_0x5c39ca=_0x3d93cf['getProgramCacheKey'](_0x404f28);let _0x49ac98=_0xfdb6b3['programs'];_0xfdb6b3['environment']=_0x53d4a5['isMeshStandardMaterial']?_0x230d6b['environment']:null,_0xfdb6b3['fog']=_0x230d6b['fog'],_0xfdb6b3['envMap']=(_0x53d4a5['isMeshStandardMaterial']?_0x165de1:_0x3aa99c)['get'](_0x53d4a5['envMap']||_0xfdb6b3['environment']),_0xfdb6b3['envMapRotation']=null!==_0xfdb6b3['environment']&&null===_0x53d4a5['envMap']?_0x230d6b['environmentRotation']:_0x53d4a5['envMapRotation'],void 0x0===_0x49ac98&&(_0x53d4a5['addEventListener']('dispose',_0x2e122e),_0x49ac98=new Map(),_0xfdb6b3['programs']=_0x49ac98);let _0xea6139=_0x49ac98['get'](_0x5c39ca);if(void 0x0!==_0xea6139){if(_0xfdb6b3['currentProgram']===_0xea6139&&_0xfdb6b3['lightsStateVersion']===_0x23366f)return _0x388b45(_0x53d4a5,_0x404f28),_0xea6139;}else _0x404f28['uniforms']=_0x3d93cf['getUniforms'](_0x53d4a5),_0x53d4a5['onBeforeCompile'](_0x404f28,_0x27054e),_0xea6139=_0x3d93cf['acquireProgram'](_0x404f28,_0x5c39ca),_0x49ac98['set'](_0x5c39ca,_0xea6139),_0xfdb6b3['uniforms']=_0x404f28['uniforms'];const _0x6bb0f7=_0xfdb6b3['uniforms'];return(_0x53d4a5['isShaderMaterial']||_0x53d4a5['isRawShaderMaterial'])&&!0x0!==_0x53d4a5['clipping']||(_0x6bb0f7['clippingPlanes']=_0x2ca59f['uniform']),_0x388b45(_0x53d4a5,_0x404f28),_0xfdb6b3['needsLights']=function(_0x10fec9){return _0x10fec9['isMeshLambertMaterial']||_0x10fec9['isMeshToonMaterial']||_0x10fec9['isMeshPhongMaterial']||_0x10fec9['isMeshStandardMaterial']||_0x10fec9['isShadowMaterial']||_0x10fec9['isShaderMaterial']&&!0x0===_0x10fec9['lights'];}(_0x53d4a5),_0xfdb6b3['lightsStateVersion']=_0x23366f,_0xfdb6b3['needsLights']&&(_0x6bb0f7['ambientLightColor']['value']=_0x58c91a['state']['ambient'],_0x6bb0f7['lightProbe']['value']=_0x58c91a['state']['probe'],_0x6bb0f7['directionalLights']['value']=_0x58c91a['state']['directional'],_0x6bb0f7['directionalLightShadows']['value']=_0x58c91a['state']['directionalShadow'],_0x6bb0f7['spotLights']['value']=_0x58c91a['state']['spot'],_0x6bb0f7['spotLightShadows']['value']=_0x58c91a['state']['spotShadow'],_0x6bb0f7['rectAreaLights']['value']=_0x58c91a['state']['rectArea'],_0x6bb0f7['ltc_1']['value']=_0x58c91a['state']['rectAreaLTC1'],_0x6bb0f7['ltc_2']['value']=_0x58c91a['state']['rectAreaLTC2'],_0x6bb0f7['pointLights']['value']=_0x58c91a['state']['point'],_0x6bb0f7['pointLightShadows']['value']=_0x58c91a['state']['pointShadow'],_0x6bb0f7['hemisphereLights']['value']=_0x58c91a['state']['hemi'],_0x6bb0f7['directionalShadowMap']['value']=_0x58c91a['state']['directionalShadowMap'],_0x6bb0f7['directionalShadowMatrix']['value']=_0x58c91a['state']['directionalShadowMatrix'],_0x6bb0f7['spotShadowMap']['value']=_0x58c91a['state']['spotShadowMap'],_0x6bb0f7['spotLightMatrix']['value']=_0x58c91a['state']['spotLightMatrix'],_0x6bb0f7['spotLightMap']['value']=_0x58c91a['state']['spotLightMap'],_0x6bb0f7['pointShadowMap']['value']=_0x58c91a['state']['pointShadowMap'],_0x6bb0f7['pointShadowMatrix']['value']=_0x58c91a['state']['pointShadowMatrix']),_0xfdb6b3['currentProgram']=_0xea6139,_0xfdb6b3['uniformsList']=null,_0xea6139;}function _0x27e3a1(_0x43d7ed){if(null===_0x43d7ed['uniformsList']){const _0x45a749=_0x43d7ed['currentProgram']['getUniforms']();_0x43d7ed['uniformsList']=_0x3513cd['seqWithValue'](_0x45a749['seq'],_0x43d7ed['uniforms']);}return _0x43d7ed['uniformsList'];}function _0x388b45(_0x1bb3f5,_0x5ab950){const _0x4e82e9=_0x3fd4ad['get'](_0x1bb3f5);_0x4e82e9['outputColorSpace']=_0x5ab950['outputColorSpace'],_0x4e82e9['batching']=_0x5ab950['batching'],_0x4e82e9['batchingColor']=_0x5ab950['batchingColor'],_0x4e82e9['instancing']=_0x5ab950['instancing'],_0x4e82e9['instancingColor']=_0x5ab950['instancingColor'],_0x4e82e9['instancingMorph']=_0x5ab950['instancingMorph'],_0x4e82e9['skinning']=_0x5ab950['skinning'],_0x4e82e9['morphTargets']=_0x5ab950['morphTargets'],_0x4e82e9['morphNormals']=_0x5ab950['morphNormals'],_0x4e82e9['morphColors']=_0x5ab950['morphColors'],_0x4e82e9['morphTargetsCount']=_0x5ab950['morphTargetsCount'],_0x4e82e9['numClippingPlanes']=_0x5ab950['numClippingPlanes'],_0x4e82e9['numIntersection']=_0x5ab950['numClipIntersection'],_0x4e82e9['vertexAlphas']=_0x5ab950['vertexAlphas'],_0x4e82e9['vertexTangents']=_0x5ab950['vertexTangents'],_0x4e82e9['toneMapping']=_0x5ab950['toneMapping'];}_0x3c285e['setAnimationLoop'](function(_0x3a1d26){_0x500586&&_0x500586(_0x3a1d26);}),'undefined'!=typeof self&&_0x3c285e['setContext'](self),this['setAnimationLoop']=function(_0x3f0c88){_0x500586=_0x3f0c88,_0x1ac88e['setAnimationLoop'](_0x3f0c88),null===_0x3f0c88?_0x3c285e['stop']():_0x3c285e['start']();},_0x1ac88e['addEventListener']('sessionstart',_0x9861d3),_0x1ac88e['addEventListener']('sessionend',_0x458786),this['render']=function(_0x3ef52e,_0x163ec7){if(void 0x0!==_0x163ec7&&!0x0!==_0x163ec7['isCamera'])return void console['error']('THREE.WebGLRenderer.render:\x20camera\x20is\x20not\x20an\x20instance\x20of\x20THREE.Camera.');if(!0x0===_0x2314a)return;if(!0x0===_0x3ef52e['matrixWorldAutoUpdate']&&_0x3ef52e['updateMatrixWorld'](),null===_0x163ec7['parent']&&!0x0===_0x163ec7['matrixWorldAutoUpdate']&&_0x163ec7['updateMatrixWorld'](),!0x0===_0x1ac88e['enabled']&&!0x0===_0x1ac88e['isPresenting']&&(!0x0===_0x1ac88e['cameraAutoUpdate']&&_0x1ac88e['updateCamera'](_0x163ec7),_0x163ec7=_0x1ac88e['getCamera']()),!0x0===_0x3ef52e['isScene']&&_0x3ef52e['onBeforeRender'](_0x27054e,_0x3ef52e,_0x163ec7,_0x2a3674),_0x5172e4=_0x2a5bf2['get'](_0x3ef52e,_0x2788d4['length']),_0x5172e4['init'](_0x163ec7),_0x2788d4['push'](_0x5172e4),_0x930540['multiplyMatrices'](_0x163ec7['projectionMatrix'],_0x163ec7['matrixWorldInverse']),_0x1efbae['setFromProjectionMatrix'](_0x930540),_0x5c3190=this['localClippingEnabled'],_0x382384=_0x2ca59f['init'](this['clippingPlanes'],_0x5c3190),_0x1fd021=_0x35d0e2['get'](_0x3ef52e,_0x5349a9['length']),_0x1fd021['init'](),_0x5349a9['push'](_0x1fd021),!0x0===_0x1ac88e['enabled']&&!0x0===_0x1ac88e['isPresenting']){const _0x316053=_0x27054e['xr']['getDepthSensingMesh']();null!==_0x316053&&_0x205727(_0x316053,_0x163ec7,-0x1/0x0,_0x27054e['sortObjects']);}_0x205727(_0x3ef52e,_0x163ec7,0x0,_0x27054e['sortObjects']),_0x1fd021['finish'](),!0x0===_0x27054e['sortObjects']&&_0x1fd021['sort'](_0x499203,_0x3716c5),_0x1a5ab7=!0x1===_0x1ac88e['enabled']||!0x1===_0x1ac88e['isPresenting']||!0x1===_0x1ac88e['hasDepthSensing'](),_0x1a5ab7&&_0x4dbaca['addToRenderList'](_0x1fd021,_0x3ef52e),this['info']['render']['frame']++,!0x0===_0x382384&&_0x2ca59f['beginShadows']();const _0x48fd64=_0x5172e4['state']['shadowsArray'];_0x1c0fa4['render'](_0x48fd64,_0x3ef52e,_0x163ec7),!0x0===_0x382384&&_0x2ca59f['endShadows'](),!0x0===this['info']['autoReset']&&this['info']['reset']();const _0x94c47c=_0x1fd021['opaque'],_0x17f28b=_0x1fd021['transmissive'];if(_0x5172e4['setupLights'](),_0x163ec7['isArrayCamera']){const _0x5c4ec3=_0x163ec7['cameras'];if(_0x17f28b['length']>0x0)for(let _0x44eab9=0x0,_0x11d269=_0x5c4ec3['length'];_0x44eab9<_0x11d269;_0x44eab9++){_0x4da49a(_0x94c47c,_0x17f28b,_0x3ef52e,_0x5c4ec3[_0x44eab9]);}_0x1a5ab7&&_0x4dbaca['render'](_0x3ef52e);for(let _0x5bdc5c=0x0,_0x30c068=_0x5c4ec3['length'];_0x5bdc5c<_0x30c068;_0x5bdc5c++){const _0x561bbc=_0x5c4ec3[_0x5bdc5c];_0x40dc7b(_0x1fd021,_0x3ef52e,_0x561bbc,_0x561bbc['viewport']);}}else _0x17f28b['length']>0x0&&_0x4da49a(_0x94c47c,_0x17f28b,_0x3ef52e,_0x163ec7),_0x1a5ab7&&_0x4dbaca['render'](_0x3ef52e),_0x40dc7b(_0x1fd021,_0x3ef52e,_0x163ec7);null!==_0x2a3674&&0x0===_0x52e4ac&&(_0x213f11['updateMultisampleRenderTarget'](_0x2a3674),_0x213f11['updateRenderTargetMipmap'](_0x2a3674)),!0x0===_0x3ef52e['isScene']&&_0x3ef52e['onAfterRender'](_0x27054e,_0x3ef52e,_0x163ec7),_0x1cf5d7['resetDefaultState'](),_0x35f7b5=-0x1,_0x148c37=null,_0x2788d4['pop'](),_0x2788d4['length']>0x0?(_0x5172e4=_0x2788d4[_0x2788d4['length']-0x1],!0x0===_0x382384&&_0x2ca59f['setGlobalState'](_0x27054e['clippingPlanes'],_0x5172e4['state']['camera'])):_0x5172e4=null,_0x5349a9['pop'](),_0x1fd021=_0x5349a9['length']>0x0?_0x5349a9[_0x5349a9['length']-0x1]:null;},this['getActiveCubeFace']=function(){return _0x51633b;},this['getActiveMipmapLevel']=function(){return _0x52e4ac;},this['getRenderTarget']=function(){return _0x2a3674;},this['setRenderTargetTextures']=function(_0x3bb380,_0x1ee74f,_0x251053){_0x3fd4ad['get'](_0x3bb380['texture'])['__webglTexture']=_0x1ee74f,_0x3fd4ad['get'](_0x3bb380['depthTexture'])['__webglTexture']=_0x251053;const _0x54bf94=_0x3fd4ad['get'](_0x3bb380);_0x54bf94['__hasExternalTextures']=!0x0,_0x54bf94['__autoAllocateDepthBuffer']=void 0x0===_0x251053,_0x54bf94['__autoAllocateDepthBuffer']||!0x0===_0x474c3c['has']('WEBGL_multisampled_render_to_texture')&&(console['warn']('THREE.WebGLRenderer:\x20Render-to-texture\x20extension\x20was\x20disabled\x20because\x20an\x20external\x20texture\x20was\x20provided'),_0x54bf94['__useRenderToTexture']=!0x1);},this['setRenderTargetFramebuffer']=function(_0x2a4fb8,_0x122024){const _0x1aaf7b=_0x3fd4ad['get'](_0x2a4fb8);_0x1aaf7b['__webglFramebuffer']=_0x122024,_0x1aaf7b['__useDefaultFramebuffer']=void 0x0===_0x122024;};const _0x4b9258=_0x2fa869['createFramebuffer']();this['setRenderTarget']=function(_0x772f65,_0x5a0510=0x0,_0x38f3e0=0x0){_0x2a3674=_0x772f65,_0x51633b=_0x5a0510,_0x52e4ac=_0x38f3e0;let _0x102c4b=!0x0,_0x5d43b5=null,_0x2db6e9=!0x1,_0x3a2fa6=!0x1;if(_0x772f65){const _0x3430e1=_0x3fd4ad['get'](_0x772f65);if(void 0x0!==_0x3430e1['__useDefaultFramebuffer'])_0x51e955['bindFramebuffer'](_0x2fa869['FRAMEBUFFER'],null),_0x102c4b=!0x1;else{if(void 0x0===_0x3430e1['__webglFramebuffer'])_0x213f11['setupRenderTarget'](_0x772f65);else{if(_0x3430e1['__hasExternalTextures'])_0x213f11['rebindTextures'](_0x772f65,_0x3fd4ad['get'](_0x772f65['texture'])['__webglTexture'],_0x3fd4ad['get'](_0x772f65['depthTexture'])['__webglTexture']);else{if(_0x772f65['depthBuffer']){const _0x8458bf=_0x772f65['depthTexture'];if(_0x3430e1['__boundDepthTexture']!==_0x8458bf){if(null!==_0x8458bf&&_0x3fd4ad['has'](_0x8458bf)&&(_0x772f65['width']!==_0x8458bf['image']['width']||_0x772f65['height']!==_0x8458bf['image']['height']))throw new Error('WebGLRenderTarget:\x20Attached\x20DepthTexture\x20is\x20initialized\x20to\x20the\x20incorrect\x20size.');_0x213f11['setupDepthRenderbuffer'](_0x772f65);}}}}}const _0x2a821e=_0x772f65['texture'];(_0x2a821e['isData3DTexture']||_0x2a821e['isDataArrayTexture']||_0x2a821e['isCompressedArrayTexture'])&&(_0x3a2fa6=!0x0);const _0x47d825=_0x3fd4ad['get'](_0x772f65)['__webglFramebuffer'];_0x772f65['isWebGLCubeRenderTarget']?(_0x5d43b5=Array['isArray'](_0x47d825[_0x5a0510])?_0x47d825[_0x5a0510][_0x38f3e0]:_0x47d825[_0x5a0510],_0x2db6e9=!0x0):_0x5d43b5=_0x772f65['samples']>0x0&&!0x1===_0x213f11['useMultisampledRTT'](_0x772f65)?_0x3fd4ad['get'](_0x772f65)['__webglMultisampledFramebuffer']:Array['isArray'](_0x47d825)?_0x47d825[_0x38f3e0]:_0x47d825,_0x17225d['copy'](_0x772f65['viewport']),_0x12b032['copy'](_0x772f65['scissor']),_0x2b8da6=_0x772f65['scissorTest'];}else _0x17225d['copy'](_0xae9959)['multiplyScalar'](_0x2be3e1)['floor'](),_0x12b032['copy'](_0x25e3d7)['multiplyScalar'](_0x2be3e1)['floor'](),_0x2b8da6=_0x2a8d64;0x0!==_0x38f3e0&&(_0x5d43b5=_0x4b9258);if(_0x51e955['bindFramebuffer'](_0x2fa869['FRAMEBUFFER'],_0x5d43b5)&&_0x102c4b&&_0x51e955['drawBuffers'](_0x772f65,_0x5d43b5),_0x51e955['viewport'](_0x17225d),_0x51e955['scissor'](_0x12b032),_0x51e955['setScissorTest'](_0x2b8da6),_0x2db6e9){const _0x227356=_0x3fd4ad['get'](_0x772f65['texture']);_0x2fa869['framebufferTexture2D'](_0x2fa869['FRAMEBUFFER'],_0x2fa869['COLOR_ATTACHMENT0'],_0x2fa869['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x5a0510,_0x227356['__webglTexture'],_0x38f3e0);}else{if(_0x3a2fa6){const _0x10edb=_0x3fd4ad['get'](_0x772f65['texture']),_0x1837be=_0x5a0510;_0x2fa869['framebufferTextureLayer'](_0x2fa869['FRAMEBUFFER'],_0x2fa869['COLOR_ATTACHMENT0'],_0x10edb['__webglTexture'],_0x38f3e0,_0x1837be);}else{if(null!==_0x772f65&&0x0!==_0x38f3e0){const _0x1b3107=_0x3fd4ad['get'](_0x772f65['texture']);_0x2fa869['framebufferTexture2D'](_0x2fa869['FRAMEBUFFER'],_0x2fa869['COLOR_ATTACHMENT0'],_0x2fa869['TEXTURE_2D'],_0x1b3107['__webglTexture'],_0x38f3e0);}}}_0x35f7b5=-0x1;},this['readRenderTargetPixels']=function(_0x38a970,_0x2e2e81,_0x57b294,_0x538622,_0x4ea520,_0x48c094,_0x187a48){if(!_0x38a970||!_0x38a970['isWebGLRenderTarget'])return void console['error']('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20THREE.WebGLRenderTarget.');let _0x380faf=_0x3fd4ad['get'](_0x38a970)['__webglFramebuffer'];if(_0x38a970['isWebGLCubeRenderTarget']&&void 0x0!==_0x187a48&&(_0x380faf=_0x380faf[_0x187a48]),_0x380faf){_0x51e955['bindFramebuffer'](_0x2fa869['FRAMEBUFFER'],_0x380faf);try{const _0x18bf93=_0x38a970['texture'],_0x379ff7=_0x18bf93['format'],_0x3e8635=_0x18bf93['type'];if(!_0x14f471['textureFormatReadable'](_0x379ff7))return void console['error']('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20in\x20RGBA\x20or\x20implementation\x20defined\x20format.');if(!_0x14f471['textureTypeReadable'](_0x3e8635))return void console['error']('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20in\x20UnsignedByteType\x20or\x20implementation\x20defined\x20type.');_0x2e2e81>=0x0&&_0x2e2e81<=_0x38a970['width']-_0x538622&&_0x57b294>=0x0&&_0x57b294<=_0x38a970['height']-_0x4ea520&&_0x2fa869['readPixels'](_0x2e2e81,_0x57b294,_0x538622,_0x4ea520,_0x3c64bf['convert'](_0x379ff7),_0x3c64bf['convert'](_0x3e8635),_0x48c094);}finally{const _0xfd2a9=null!==_0x2a3674?_0x3fd4ad['get'](_0x2a3674)['__webglFramebuffer']:null;_0x51e955['bindFramebuffer'](_0x2fa869['FRAMEBUFFER'],_0xfd2a9);}}},this['readRenderTargetPixelsAsync']=async function(_0x25c111,_0xbc610f,_0x1652a3,_0x4f13f7,_0x26aae1,_0x304ddc,_0x319b31){if(!_0x25c111||!_0x25c111['isWebGLRenderTarget'])throw new Error('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20THREE.WebGLRenderTarget.');let _0x44ab1e=_0x3fd4ad['get'](_0x25c111)['__webglFramebuffer'];if(_0x25c111['isWebGLCubeRenderTarget']&&void 0x0!==_0x319b31&&(_0x44ab1e=_0x44ab1e[_0x319b31]),_0x44ab1e){const _0x410a02=_0x25c111['texture'],_0x3d1b4=_0x410a02['format'],_0x6dcb26=_0x410a02['type'];if(!_0x14f471['textureFormatReadable'](_0x3d1b4))throw new Error('THREE.WebGLRenderer.readRenderTargetPixelsAsync:\x20renderTarget\x20is\x20not\x20in\x20RGBA\x20or\x20implementation\x20defined\x20format.');if(!_0x14f471['textureTypeReadable'](_0x6dcb26))throw new Error('THREE.WebGLRenderer.readRenderTargetPixelsAsync:\x20renderTarget\x20is\x20not\x20in\x20UnsignedByteType\x20or\x20implementation\x20defined\x20type.');if(_0xbc610f>=0x0&&_0xbc610f<=_0x25c111['width']-_0x4f13f7&&_0x1652a3>=0x0&&_0x1652a3<=_0x25c111['height']-_0x26aae1){_0x51e955['bindFramebuffer'](_0x2fa869['FRAMEBUFFER'],_0x44ab1e);const _0x1a0a1f=_0x2fa869['createBuffer']();_0x2fa869['bindBuffer'](_0x2fa869['PIXEL_PACK_BUFFER'],_0x1a0a1f),_0x2fa869['bufferData'](_0x2fa869['PIXEL_PACK_BUFFER'],_0x304ddc['byteLength'],_0x2fa869['STREAM_READ']),_0x2fa869['readPixels'](_0xbc610f,_0x1652a3,_0x4f13f7,_0x26aae1,_0x3c64bf['convert'](_0x3d1b4),_0x3c64bf['convert'](_0x6dcb26),0x0);const _0x101c3a=null!==_0x2a3674?_0x3fd4ad['get'](_0x2a3674)['__webglFramebuffer']:null;_0x51e955['bindFramebuffer'](_0x2fa869['FRAMEBUFFER'],_0x101c3a);const _0x2ade4b=_0x2fa869['fenceSync'](_0x2fa869['SYNC_GPU_COMMANDS_COMPLETE'],0x0);return _0x2fa869['flush'](),await(0x0,_0x46094d['jej'])(_0x2fa869,_0x2ade4b,0x4),_0x2fa869['bindBuffer'](_0x2fa869['PIXEL_PACK_BUFFER'],_0x1a0a1f),_0x2fa869['getBufferSubData'](_0x2fa869['PIXEL_PACK_BUFFER'],0x0,_0x304ddc),_0x2fa869['deleteBuffer'](_0x1a0a1f),_0x2fa869['deleteSync'](_0x2ade4b),_0x304ddc;}throw new Error('THREE.WebGLRenderer.readRenderTargetPixelsAsync:\x20requested\x20read\x20bounds\x20are\x20out\x20of\x20range.');}},this['copyFramebufferToTexture']=function(_0x56b00d,_0x56d634=null,_0x408ae5=0x0){!0x0!==_0x56b00d['isTexture']&&((0x0,_0x46094d['mcG'])('WebGLRenderer:\x20copyFramebufferToTexture\x20function\x20signature\x20has\x20changed.'),_0x56d634=arguments[0x0]||null,_0x56b00d=arguments[0x1]);const _0x52111b=Math['pow'](0x2,-_0x408ae5),_0x473957=Math['floor'](_0x56b00d['image']['width']*_0x52111b),_0x51a575=Math['floor'](_0x56b00d['image']['height']*_0x52111b),_0xcf5fa2=null!==_0x56d634?_0x56d634['x']:0x0,_0x1a1559=null!==_0x56d634?_0x56d634['y']:0x0;_0x213f11['setTexture2D'](_0x56b00d,0x0),_0x2fa869['copyTexSubImage2D'](_0x2fa869['TEXTURE_2D'],_0x408ae5,0x0,0x0,_0xcf5fa2,_0x1a1559,_0x473957,_0x51a575),_0x51e955['unbindTexture']();};const _0x1540e7=_0x2fa869['createFramebuffer'](),_0x13cc70=_0x2fa869['createFramebuffer']();this['copyTextureToTexture']=function(_0x3b04b5,_0x3f6710,_0x1fdd14=null,_0x1e3d2b=null,_0x41d1f8=0x0,_0x155936=null){let _0x26f78a,_0x7db66b,_0x42ef6c,_0x206be6,_0x42871b,_0x4edd4c,_0x6d634c,_0x50f7e2,_0x4e742b;!0x0!==_0x3b04b5['isTexture']&&((0x0,_0x46094d['mcG'])('WebGLRenderer:\x20copyTextureToTexture\x20function\x20signature\x20has\x20changed.'),_0x1e3d2b=arguments[0x0]||null,_0x3b04b5=arguments[0x1],_0x3f6710=arguments[0x2],_0x155936=arguments[0x3]||0x0,_0x1fdd14=null),null===_0x155936&&(0x0!==_0x41d1f8?((0x0,_0x46094d['mcG'])('WebGLRenderer:\x20copyTextureToTexture\x20function\x20signature\x20has\x20changed\x20to\x20support\x20src\x20and\x20dst\x20mipmap\x20levels.'),_0x155936=_0x41d1f8,_0x41d1f8=0x0):_0x155936=0x0);const _0x459632=_0x3b04b5['isCompressedTexture']?_0x3b04b5['mipmaps'][_0x155936]:_0x3b04b5['image'];if(null!==_0x1fdd14)_0x26f78a=_0x1fdd14['max']['x']-_0x1fdd14['min']['x'],_0x7db66b=_0x1fdd14['max']['y']-_0x1fdd14['min']['y'],_0x42ef6c=_0x1fdd14['isBox3']?_0x1fdd14['max']['z']-_0x1fdd14['min']['z']:0x1,_0x206be6=_0x1fdd14['min']['x'],_0x42871b=_0x1fdd14['min']['y'],_0x4edd4c=_0x1fdd14['isBox3']?_0x1fdd14['min']['z']:0x0;else{const _0x15e9e1=Math['pow'](0x2,-_0x41d1f8);_0x26f78a=Math['floor'](_0x459632['width']*_0x15e9e1),_0x7db66b=Math['floor'](_0x459632['height']*_0x15e9e1),_0x42ef6c=_0x3b04b5['isDataArrayTexture']?_0x459632['depth']:_0x3b04b5['isData3DTexture']?Math['floor'](_0x459632['depth']*_0x15e9e1):0x1,_0x206be6=0x0,_0x42871b=0x0,_0x4edd4c=0x0;}null!==_0x1e3d2b?(_0x6d634c=_0x1e3d2b['x'],_0x50f7e2=_0x1e3d2b['y'],_0x4e742b=_0x1e3d2b['z']):(_0x6d634c=0x0,_0x50f7e2=0x0,_0x4e742b=0x0);const _0x217f2b=_0x3c64bf['convert'](_0x3f6710['format']),_0x32f747=_0x3c64bf['convert'](_0x3f6710['type']);let _0x3cbc9d;_0x3f6710['isData3DTexture']?(_0x213f11['setTexture3D'](_0x3f6710,0x0),_0x3cbc9d=_0x2fa869['TEXTURE_3D']):_0x3f6710['isDataArrayTexture']||_0x3f6710['isCompressedArrayTexture']?(_0x213f11['setTexture2DArray'](_0x3f6710,0x0),_0x3cbc9d=_0x2fa869['TEXTURE_2D_ARRAY']):(_0x213f11['setTexture2D'](_0x3f6710,0x0),_0x3cbc9d=_0x2fa869['TEXTURE_2D']),_0x2fa869['pixelStorei'](_0x2fa869['UNPACK_FLIP_Y_WEBGL'],_0x3f6710['flipY']),_0x2fa869['pixelStorei'](_0x2fa869['UNPACK_PREMULTIPLY_ALPHA_WEBGL'],_0x3f6710['premultiplyAlpha']),_0x2fa869['pixelStorei'](_0x2fa869['UNPACK_ALIGNMENT'],_0x3f6710['unpackAlignment']);const _0x3b1ed5=_0x2fa869['getParameter'](_0x2fa869['UNPACK_ROW_LENGTH']),_0x3cc247=_0x2fa869['getParameter'](_0x2fa869['UNPACK_IMAGE_HEIGHT']),_0x3f1af7=_0x2fa869['getParameter'](_0x2fa869['UNPACK_SKIP_PIXELS']),_0x2705b8=_0x2fa869['getParameter'](_0x2fa869['UNPACK_SKIP_ROWS']),_0x53b09e=_0x2fa869['getParameter'](_0x2fa869['UNPACK_SKIP_IMAGES']);_0x2fa869['pixelStorei'](_0x2fa869['UNPACK_ROW_LENGTH'],_0x459632['width']),_0x2fa869['pixelStorei'](_0x2fa869['UNPACK_IMAGE_HEIGHT'],_0x459632['height']),_0x2fa869['pixelStorei'](_0x2fa869['UNPACK_SKIP_PIXELS'],_0x206be6),_0x2fa869['pixelStorei'](_0x2fa869['UNPACK_SKIP_ROWS'],_0x42871b),_0x2fa869['pixelStorei'](_0x2fa869['UNPACK_SKIP_IMAGES'],_0x4edd4c);const _0x176b21=_0x3b04b5['isDataArrayTexture']||_0x3b04b5['isData3DTexture'],_0x4bdc7c=_0x3f6710['isDataArrayTexture']||_0x3f6710['isData3DTexture'];if(_0x3b04b5['isDepthTexture']){const _0x52623c=_0x3fd4ad['get'](_0x3b04b5),_0x119d0d=_0x3fd4ad['get'](_0x3f6710),_0x46c577=_0x3fd4ad['get'](_0x52623c['__renderTarget']),_0x4f3842=_0x3fd4ad['get'](_0x119d0d['__renderTarget']);_0x51e955['bindFramebuffer'](_0x2fa869['READ_FRAMEBUFFER'],_0x46c577['__webglFramebuffer']),_0x51e955['bindFramebuffer'](_0x2fa869['DRAW_FRAMEBUFFER'],_0x4f3842['__webglFramebuffer']);for(let _0x493a91=0x0;_0x493a91<_0x42ef6c;_0x493a91++)_0x176b21&&(_0x2fa869['framebufferTextureLayer'](_0x2fa869['READ_FRAMEBUFFER'],_0x2fa869['COLOR_ATTACHMENT0'],_0x3fd4ad['get'](_0x3b04b5)['__webglTexture'],_0x41d1f8,_0x4edd4c+_0x493a91),_0x2fa869['framebufferTextureLayer'](_0x2fa869['DRAW_FRAMEBUFFER'],_0x2fa869['COLOR_ATTACHMENT0'],_0x3fd4ad['get'](_0x3f6710)['__webglTexture'],_0x155936,_0x4e742b+_0x493a91)),_0x2fa869['blitFramebuffer'](_0x206be6,_0x42871b,_0x26f78a,_0x7db66b,_0x6d634c,_0x50f7e2,_0x26f78a,_0x7db66b,_0x2fa869['DEPTH_BUFFER_BIT'],_0x2fa869['NEAREST']);_0x51e955['bindFramebuffer'](_0x2fa869['READ_FRAMEBUFFER'],null),_0x51e955['bindFramebuffer'](_0x2fa869['DRAW_FRAMEBUFFER'],null);}else{if(0x0!==_0x41d1f8||_0x3b04b5['isRenderTargetTexture']||_0x3fd4ad['has'](_0x3b04b5)){const _0x33d490=_0x3fd4ad['get'](_0x3b04b5),_0x28caa1=_0x3fd4ad['get'](_0x3f6710);_0x51e955['bindFramebuffer'](_0x2fa869['READ_FRAMEBUFFER'],_0x1540e7),_0x51e955['bindFramebuffer'](_0x2fa869['DRAW_FRAMEBUFFER'],_0x13cc70);for(let _0x58b270=0x0;_0x58b270<_0x42ef6c;_0x58b270++)_0x176b21?_0x2fa869['framebufferTextureLayer'](_0x2fa869['READ_FRAMEBUFFER'],_0x2fa869['COLOR_ATTACHMENT0'],_0x33d490['__webglTexture'],_0x41d1f8,_0x4edd4c+_0x58b270):_0x2fa869['framebufferTexture2D'](_0x2fa869['READ_FRAMEBUFFER'],_0x2fa869['COLOR_ATTACHMENT0'],_0x2fa869['TEXTURE_2D'],_0x33d490['__webglTexture'],_0x41d1f8),_0x4bdc7c?_0x2fa869['framebufferTextureLayer'](_0x2fa869['DRAW_FRAMEBUFFER'],_0x2fa869['COLOR_ATTACHMENT0'],_0x28caa1['__webglTexture'],_0x155936,_0x4e742b+_0x58b270):_0x2fa869['framebufferTexture2D'](_0x2fa869['DRAW_FRAMEBUFFER'],_0x2fa869['COLOR_ATTACHMENT0'],_0x2fa869['TEXTURE_2D'],_0x28caa1['__webglTexture'],_0x155936),0x0!==_0x41d1f8?_0x2fa869['blitFramebuffer'](_0x206be6,_0x42871b,_0x26f78a,_0x7db66b,_0x6d634c,_0x50f7e2,_0x26f78a,_0x7db66b,_0x2fa869['COLOR_BUFFER_BIT'],_0x2fa869['NEAREST']):_0x4bdc7c?_0x2fa869['copyTexSubImage3D'](_0x3cbc9d,_0x155936,_0x6d634c,_0x50f7e2,_0x4e742b+_0x58b270,_0x206be6,_0x42871b,_0x26f78a,_0x7db66b):_0x2fa869['copyTexSubImage2D'](_0x3cbc9d,_0x155936,_0x6d634c,_0x50f7e2,_0x206be6,_0x42871b,_0x26f78a,_0x7db66b);_0x51e955['bindFramebuffer'](_0x2fa869['READ_FRAMEBUFFER'],null),_0x51e955['bindFramebuffer'](_0x2fa869['DRAW_FRAMEBUFFER'],null);}else _0x4bdc7c?_0x3b04b5['isDataTexture']||_0x3b04b5['isData3DTexture']?_0x2fa869['texSubImage3D'](_0x3cbc9d,_0x155936,_0x6d634c,_0x50f7e2,_0x4e742b,_0x26f78a,_0x7db66b,_0x42ef6c,_0x217f2b,_0x32f747,_0x459632['data']):_0x3f6710['isCompressedArrayTexture']?_0x2fa869['compressedTexSubImage3D'](_0x3cbc9d,_0x155936,_0x6d634c,_0x50f7e2,_0x4e742b,_0x26f78a,_0x7db66b,_0x42ef6c,_0x217f2b,_0x459632['data']):_0x2fa869['texSubImage3D'](_0x3cbc9d,_0x155936,_0x6d634c,_0x50f7e2,_0x4e742b,_0x26f78a,_0x7db66b,_0x42ef6c,_0x217f2b,_0x32f747,_0x459632):_0x3b04b5['isDataTexture']?_0x2fa869['texSubImage2D'](_0x2fa869['TEXTURE_2D'],_0x155936,_0x6d634c,_0x50f7e2,_0x26f78a,_0x7db66b,_0x217f2b,_0x32f747,_0x459632['data']):_0x3b04b5['isCompressedTexture']?_0x2fa869['compressedTexSubImage2D'](_0x2fa869['TEXTURE_2D'],_0x155936,_0x6d634c,_0x50f7e2,_0x459632['width'],_0x459632['height'],_0x217f2b,_0x459632['data']):_0x2fa869['texSubImage2D'](_0x2fa869['TEXTURE_2D'],_0x155936,_0x6d634c,_0x50f7e2,_0x26f78a,_0x7db66b,_0x217f2b,_0x32f747,_0x459632);}_0x2fa869['pixelStorei'](_0x2fa869['UNPACK_ROW_LENGTH'],_0x3b1ed5),_0x2fa869['pixelStorei'](_0x2fa869['UNPACK_IMAGE_HEIGHT'],_0x3cc247),_0x2fa869['pixelStorei'](_0x2fa869['UNPACK_SKIP_PIXELS'],_0x3f1af7),_0x2fa869['pixelStorei'](_0x2fa869['UNPACK_SKIP_ROWS'],_0x2705b8),_0x2fa869['pixelStorei'](_0x2fa869['UNPACK_SKIP_IMAGES'],_0x53b09e),0x0===_0x155936&&_0x3f6710['generateMipmaps']&&_0x2fa869['generateMipmap'](_0x3cbc9d),_0x51e955['unbindTexture']();},this['copyTextureToTexture3D']=function(_0x30b173,_0x1a5a01,_0x5a9111=null,_0x19e586=null,_0xdf66a0=0x0){return!0x0!==_0x30b173['isTexture']&&((0x0,_0x46094d['mcG'])('WebGLRenderer:\x20copyTextureToTexture3D\x20function\x20signature\x20has\x20changed.'),_0x5a9111=arguments[0x0]||null,_0x19e586=arguments[0x1]||null,_0x30b173=arguments[0x2],_0x1a5a01=arguments[0x3],_0xdf66a0=arguments[0x4]||0x0),(0x0,_0x46094d['mcG'])('WebGLRenderer:\x20copyTextureToTexture3D\x20function\x20has\x20been\x20deprecated.\x20Use\x20\x22copyTextureToTexture\x22\x20instead.'),this['copyTextureToTexture'](_0x30b173,_0x1a5a01,_0x5a9111,_0x19e586,_0xdf66a0);},this['initRenderTarget']=function(_0x38cf25){void 0x0===_0x3fd4ad['get'](_0x38cf25)['__webglFramebuffer']&&_0x213f11['setupRenderTarget'](_0x38cf25);},this['initTexture']=function(_0x4c4afb){_0x4c4afb['isCubeTexture']?_0x213f11['setTextureCube'](_0x4c4afb,0x0):_0x4c4afb['isData3DTexture']?_0x213f11['setTexture3D'](_0x4c4afb,0x0):_0x4c4afb['isDataArrayTexture']||_0x4c4afb['isCompressedArrayTexture']?_0x213f11['setTexture2DArray'](_0x4c4afb,0x0):_0x213f11['setTexture2D'](_0x4c4afb,0x0),_0x51e955['unbindTexture']();},this['resetState']=function(){_0x51633b=0x0,_0x52e4ac=0x0,_0x2a3674=null,_0x51e955['reset'](),_0x1cf5d7['reset']();},'undefined'!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__['dispatchEvent'](new CustomEvent('observe',{'detail':this}));}get['coordinateSystem'](){return _0x46094d['TdN'];}get['outputColorSpace'](){return this['_outputColorSpace'];}set['outputColorSpace'](_0x5e50f7){this['_outputColorSpace']=_0x5e50f7;const _0x719c01=this['getContext']();_0x719c01['drawingBufferColorspace']=_0x46094d['ppV']['_getDrawingBufferColorSpace'](_0x5e50f7),_0x719c01['unpackColorSpace']=_0x46094d['ppV']['_getUnpackColorSpace']();}}}}]);